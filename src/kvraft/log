Running tool: D:\Go\bin\go.exe test -timeout 150s kvraft -run ^(TestSnapshotUnreliableRecoverConcurrentPartition3B)$ -count=1

Test: unreliable net, restarts, partitions, snapshots, many clients (3B) ...
2019/06/13 18:42:44 spawn_clients_and_wait: waiting for clients
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value: Op:Put ClientID:2 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 3 PutAppend] args = {Key:2 Value: Op:Put ClientID:3 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 5 PutAppend] args = {Key:3 Value: Op:Put ClientID:5 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 6 PutAppend] RPC succ, Put 4 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 3 PutAppend] RPC succ, Put 2 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [Clerk 5 PutAppend] RPC succ, Put 3 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 4 PutAppend] RPC succ, Put 1 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 3 PutAppend] args = {Key:2 Value: Op:Put ClientID:3 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value: Op:Put ClientID:2 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [Clerk 5 PutAppend] args = {Key:3 Value: Op:Put ClientID:5 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [Clerk 5 PutAppend] RPC succ, Put 3 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [Clerk 4 PutAppend] RPC succ, Put 1 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 6 PutAppend] RPC succ, Put 4 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 5 PutAppend] args = {Key:3 Value: Op:Put ClientID:5 ReqID:1} to KVServer 2
2019/06/13 18:42:44 [Clerk 3 PutAppend] RPC succ, Put 2 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 2
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 2
2019/06/13 18:42:44 [Clerk 3 PutAppend] args = {Key:2 Value: Op:Put ClientID:3 ReqID:1} to KVServer 2
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value: Op:Put ClientID:2 ReqID:1} to KVServer 2
2019/06/13 18:42:44 [Clerk 5 PutAppend] RPC succ, Put 3 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 3
2019/06/13 18:42:44 [Clerk 5 PutAppend] args = {Key:3 Value: Op:Put ClientID:5 ReqID:1} to KVServer 3
2019/06/13 18:42:44 [Clerk 3 PutAppend] RPC succ, Put 2 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 3
2019/06/13 18:42:44 [Clerk 3 PutAppend] args = {Key:2 Value: Op:Put ClientID:3 ReqID:1} to KVServer 3
2019/06/13 18:42:44 [Clerk 4 PutAppend] RPC succ, Put 1 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value: Op:Put ClientID:2 ReqID:1} to KVServer 3
2019/06/13 18:42:44 [Clerk 3 PutAppend] RPC succ, Put 2 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 5 PutAppend] args = {Key:3 Value: Op:Put ClientID:5 ReqID:1} to KVServer 4
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 4
2019/06/13 18:42:44 [Clerk 3 PutAppend] args = {Key:2 Value: Op:Put ClientID:3 ReqID:1} to KVServer 4
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 6 PutAppend] RPC succ, Put 4 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value: Op:Put ClientID:2 ReqID:1} to KVServer 4
2019/06/13 18:42:44 [Clerk 3 PutAppend] RPC succ, Put 2 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 4
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 3 PutAppend] args = {Key:2 Value: Op:Put ClientID:3 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 5 PutAppend] args = {Key:3 Value: Op:Put ClientID:5 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value: Op:Put ClientID:2 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 6 PutAppend] RPC succ, Put 4 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 3 PutAppend] RPC succ, Put 2 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [Clerk 5 PutAppend] RPC succ, Put 3 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 3 PutAppend] args = {Key:2 Value: Op:Put ClientID:3 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value: Op:Put ClientID:2 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [Clerk 4 PutAppend] RPC succ, Put 1 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 5 PutAppend] args = {Key:3 Value: Op:Put ClientID:5 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [Clerk 3 PutAppend] RPC succ, Put 2 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [Clerk 4 PutAppend] RPC succ, Put 1 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 6 PutAppend] RPC succ, Put 4 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 3 PutAppend] args = {Key:2 Value: Op:Put ClientID:3 ReqID:1} to KVServer 2
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 2
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 2
2019/06/13 18:42:44 [Clerk 5 PutAppend] RPC succ, Put 3 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value: Op:Put ClientID:2 ReqID:1} to KVServer 2
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 3 PutAppend] RPC succ, Put 2 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 5 PutAppend] args = {Key:3 Value: Op:Put ClientID:5 ReqID:1} to KVServer 2
2019/06/13 18:42:44 [Clerk 4 PutAppend] RPC succ, Put 1 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 3 PutAppend] args = {Key:2 Value: Op:Put ClientID:3 ReqID:1} to KVServer 3
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value: Op:Put ClientID:2 ReqID:1} to KVServer 3
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 3
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 3
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 5 PutAppend] args = {Key:3 Value: Op:Put ClientID:5 ReqID:1} to KVServer 3
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value: Op:Put ClientID:2 ReqID:1} to KVServer 4
2019/06/13 18:42:44 [Clerk 3 PutAppend] RPC succ, Put 2 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 6 PutAppend] RPC succ, Put 4 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 5 PutAppend] RPC succ, Put 3 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 3 PutAppend] args = {Key:2 Value: Op:Put ClientID:3 ReqID:1} to KVServer 4
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 4
2019/06/13 18:42:44 [Clerk 5 PutAppend] args = {Key:3 Value: Op:Put ClientID:5 ReqID:1} to KVServer 4
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 4
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 5 PutAppend] RPC succ, Put 3 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value: Op:Put ClientID:2 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 3 PutAppend] RPC succ, Put 2 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 5 PutAppend] args = {Key:3 Value: Op:Put ClientID:5 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 3 PutAppend] args = {Key:2 Value: Op:Put ClientID:3 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 5 PutAppend] RPC succ, Put 3 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 3 PutAppend] RPC succ, Put 2 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 5 PutAppend] args = {Key:3 Value: Op:Put ClientID:5 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [Clerk 3 PutAppend] args = {Key:2 Value: Op:Put ClientID:3 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [Clerk 4 PutAppend] RPC succ, Put 1 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 6 PutAppend] RPC succ, Put 4 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value: Op:Put ClientID:2 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [Clerk 3 PutAppend] RPC succ, Put 2 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 3 PutAppend] args = {Key:2 Value: Op:Put ClientID:3 ReqID:1} to KVServer 2
2019/06/13 18:42:44 [Clerk 5 PutAppend] args = {Key:3 Value: Op:Put ClientID:5 ReqID:1} to KVServer 2
2019/06/13 18:42:44 [Clerk 6 PutAppend] RPC succ, Put 4 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 2
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value: Op:Put ClientID:2 ReqID:1} to KVServer 2
2019/06/13 18:42:44 [candidate 3/1 electionEventLoop] timeout, start the election
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 2
2019/06/13 18:42:44 [Clerk 5 PutAppend] RPC succ, Put 3 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 4 PutAppend] RPC succ, Put 1 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [follower 0/0 RequestVote] come across newer term 1, back to follower
2019/06/13 18:42:44 [follower 0/1 RequestVote] vote for candidate 3
2019/06/13 18:42:44 [candidate 4/1 electionEventLoop] timeout, start the election
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [follower 2/0 RequestVote] come across newer term 1, back to follower
2019/06/13 18:42:44 [follower 2/1 RequestVote] vote for candidate 3
2019/06/13 18:42:44 [leader 3/1 becomeLeader] win the election, become leader
2019/06/13 18:42:44 [leader 3/1 leaderEventLoop] start sending heartbeat
2019/06/13 18:42:44 [Clerk 3 PutAppend] args = {Key:2 Value: Op:Put ClientID:3 ReqID:1} to KVServer 3
2019/06/13 18:42:44 [Clerk 5 PutAppend] args = {Key:3 Value: Op:Put ClientID:5 ReqID:1} to KVServer 3
2019/06/13 18:42:44 [follower 1/0 RequestVote] come across newer term 1, back to follower
2019/06/13 18:42:44 [follower 1/1 RequestVote] vote for candidate 3
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 3
2019/06/13 18:42:44 [candidate 4/1 AppendEntries] come across newer term 1, back to follower
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value: Op:Put ClientID:2 ReqID:1} to KVServer 3
2019/06/13 18:42:44 [Clerk 6 PutAppend] RPC succ, Put 4 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 5 PutAppend] RPC succ, Put 3 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 3
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Put 2  3 1}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Put Key:2 Value: ClientID:3 ReqID:1}, logIndex = 1
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value: Op:Put ClientID:2 ReqID:1} to KVServer 4
2019/06/13 18:42:44 [Clerk 5 PutAppend] args = {Key:3 Value: Op:Put ClientID:5 ReqID:1} to KVServer 4
2019/06/13 18:42:44 [Clerk 6 PutAppend] RPC succ, Put 4 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 4
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 4
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Put 3  5 1}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Put Key:3 Value: ClientID:5 ReqID:1}, logIndex = 2
2019/06/13 18:42:44 [Clerk 4 PutAppend] RPC succ, Put 1 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 6 PutAppend] RPC succ, Put 4 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 4 PutAppend] RPC succ, Put 1 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value: Op:Put ClientID:2 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 0
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value: Op:Put ClientID:4 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Put 0  2 1}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Put Key:0 Value: ClientID:2 ReqID:1}, logIndex = 3
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Put 1  4 1}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Put Key:1 Value: ClientID:4 ReqID:1}, logIndex = 4
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value: Op:Put ClientID:6 ReqID:1} to KVServer 1
2019/06/13 18:42:44 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}}] to peer 4 succ
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 4, ai 4, i 4, rf.commit 1
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[4] = 4's quorum 2
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 4, ai 3, i 3, rf.commit 1
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[4] = 3's quorum 2
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 4, ai 2, i 2, rf.commit 1
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[4] = 2's quorum 2
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 4, ai 1, i 1, rf.commit 1
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[4] = 1's quorum 2
2019/06/13 18:42:44 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}}] to peer 1 succ
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 1, ai 4, i 4, rf.commit 1
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 4's quorum 3
2019/06/13 18:42:44 LLLL[leader 3/1 sendAndWaitAppendEntriesRPC] update commitIndex to 5
2019/06/13 18:42:44 [KVServer 3 readApplyCh] apply for client 3 PUT [2, ], CommandIndex 1
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:1 Term:1 Command:{Operation:Put Key:2 Value: ClientID:3 ReqID:1}}
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:2 Term:1 Command:{Operation:Put Key:3 Value: ClientID:5 ReqID:1}}
2019/06/13 18:42:44 [KVServer 3 readApplyCh] apply for client 5 PUT [3, ], CommandIndex 2
2019/06/13 18:42:44 [KVServer 3 readApplyCh] apply for client 2 PUT [0, ], CommandIndex 3
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:3 Term:1 Command:{Operation:Put Key:0 Value: ClientID:2 ReqID:1}}
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:4 Term:1 Command:{Operation:Put Key:1 Value: ClientID:4 ReqID:1}}
2019/06/13 18:42:44 [KVServer 3 readApplyCh] apply for client 4 PUT [1, ], CommandIndex 4
2019/06/13 18:42:44 [Clerk 3 PutAppend] RPC succ, Put 2 , reply = {WrongLeader:false Err: ClientID:3 RepID:1}
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:false Err: ClientID:2 RepID:1}
2019/06/13 18:42:44 [Clerk 2 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:44 [Clerk 3 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:44 0: client new append x 0 0 y
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 0 y Op:Append ClientID:2 ReqID:2} to KVServer 0
2019/06/13 18:42:44 [Clerk 5 PutAppend] RPC succ, Put 3 , reply = {WrongLeader:false Err: ClientID:5 RepID:1}
2019/06/13 18:42:44 [Clerk 5 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:44 2: client new get 2
2019/06/13 18:42:44 3: client new get 3
2019/06/13 18:42:44 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:2} to KVServer 3
2019/06/13 18:42:44 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:2} to KVServer 4
2019/06/13 18:42:44 [Clerk 4 PutAppend] RPC succ, Put 1 , reply = {WrongLeader:false Err: ClientID:4 RepID:1}
2019/06/13 18:42:44 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:44 1: client new append x 1 0 y
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 0 y Op:Append ClientID:4 ReqID:2} to KVServer 1
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Put 4  6 1}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Put Key:4 Value: ClientID:6 ReqID:1}, logIndex = 5
2019/06/13 18:42:44 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:2}
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Get 2  3 2}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:2}, logIndex = 6
2019/06/13 18:42:44 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}}] to peer 0 succ
2019/06/13 18:42:44 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}}] to peer 2 succ
2019/06/13 18:42:44 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:2}
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Get 3  5 2}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:2}, logIndex = 7
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Append 1 x 1 0 y 4 2}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 0 y ClientID:4 ReqID:2}, logIndex = 8
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Append 0 x 0 0 y 2 2}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 0 y ClientID:2 ReqID:2}, logIndex = 9
2019/06/13 18:42:44 FFFF[follower 2/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}}], and commitIndex have updated to 5
2019/06/13 18:42:44 [follower 2/1 applyRoutine] have applied LogEntry {Index:1 Term:1 Command:{Operation:Put Key:2 Value: ClientID:3 ReqID:1}}
2019/06/13 18:42:44 [KVServer 2 readApplyCh] apply for client 3 PUT [2, ], CommandIndex 1
2019/06/13 18:42:44 [KVServer 2 readApplyCh] apply for client 5 PUT [3, ], CommandIndex 2
2019/06/13 18:42:44 [follower 2/1 applyRoutine] have applied LogEntry {Index:2 Term:1 Command:{Operation:Put Key:3 Value: ClientID:5 ReqID:1}}
2019/06/13 18:42:44 [follower 2/1 applyRoutine] have applied LogEntry {Index:3 Term:1 Command:{Operation:Put Key:0 Value: ClientID:2 ReqID:1}}
2019/06/13 18:42:44 [KVServer 2 readApplyCh] apply for client 2 PUT [0, ], CommandIndex 3
2019/06/13 18:42:44 [KVServer 2 readApplyCh] apply for client 4 PUT [1, ], CommandIndex 4
2019/06/13 18:42:44 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}}] to peer 2 succ
2019/06/13 18:42:44 [follower 2/1 applyRoutine] have applied LogEntry {Index:4 Term:1 Command:{Operation:Put Key:1 Value: ClientID:4 ReqID:1}}
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 2, ai 9, i 9, rf.commit 5
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 9's quorum 2
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 2, ai 8, i 8, rf.commit 5
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 8's quorum 2
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 2, ai 7, i 7, rf.commit 5
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 7's quorum 2
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 2, ai 6, i 6, rf.commit 5
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 6's quorum 2
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 2, ai 5, i 5, rf.commit 5
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 5's quorum 2
2019/06/13 18:42:44 FFFF[follower 1/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}}], and commitIndex have updated to 5
2019/06/13 18:42:44 [follower 1/1 applyRoutine] have applied LogEntry {Index:1 Term:1 Command:{Operation:Put Key:2 Value: ClientID:3 ReqID:1}}
2019/06/13 18:42:44 [KVServer 1 readApplyCh] apply for client 3 PUT [2, ], CommandIndex 1
2019/06/13 18:42:44 [KVServer 1 readApplyCh] apply for client 5 PUT [3, ], CommandIndex 2
2019/06/13 18:42:44 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}}] to peer 1 succ
2019/06/13 18:42:44 [follower 1/1 applyRoutine] have applied LogEntry {Index:2 Term:1 Command:{Operation:Put Key:3 Value: ClientID:5 ReqID:1}}
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 1, ai 9, i 9, rf.commit 5
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 9's quorum 3
2019/06/13 18:42:44 [follower 1/1 applyRoutine] have applied LogEntry {Index:3 Term:1 Command:{Operation:Put Key:0 Value: ClientID:2 ReqID:1}}
2019/06/13 18:42:44 LLLL[leader 3/1 sendAndWaitAppendEntriesRPC] update commitIndex to 10
2019/06/13 18:42:44 [KVServer 1 readApplyCh] apply for client 2 PUT [0, ], CommandIndex 3
2019/06/13 18:42:44 [KVServer 1 readApplyCh] apply for client 4 PUT [1, ], CommandIndex 4
2019/06/13 18:42:44 [KVServer 3 readApplyCh] apply for client 6 PUT [4, ], CommandIndex 5
2019/06/13 18:42:44 [follower 1/1 applyRoutine] have applied LogEntry {Index:4 Term:1 Command:{Operation:Put Key:1 Value: ClientID:4 ReqID:1}}
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:5 Term:1 Command:{Operation:Put Key:4 Value: ClientID:6 ReqID:1}}
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:6 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:2}}
2019/06/13 18:42:44 [KVServer 3 readApplyCh] apply for client 3 Get [2, ], CommandIndex 6
2019/06/13 18:42:44 [KVServer 3 readApplyCh] apply for client 5 Get [3, ], CommandIndex 7
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:7 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:2}}
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:8 Term:1 Command:{Operation:Append Key:1 Value:x 1 0 y ClientID:4 ReqID:2}}
2019/06/13 18:42:44 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 y], CommandIndex 8
2019/06/13 18:42:44 [KVServer 3 readApplyCh] apply for client 2 APPEND [0, x 0 0 y], CommandIndex 9
2019/06/13 18:42:44 [Clerk 6 PutAppend] RPC succ, Put 4 , reply = {WrongLeader:false Err: ClientID:6 RepID:1}
2019/06/13 18:42:44 [Clerk 6 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:44 4: client new get 4
2019/06/13 18:42:44 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:2} to KVServer 1
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:9 Term:1 Command:{Operation:Append Key:0 Value:x 0 0 y ClientID:2 ReqID:2}}
2019/06/13 18:42:44 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value: ClientID:3 RepID:2}
2019/06/13 18:42:44 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:44 2: client new get 2
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 0 y, reply = {WrongLeader:false Err: ClientID:2 RepID:2}
2019/06/13 18:42:44 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:3} to KVServer 3
2019/06/13 18:42:44 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 0 y, reply = {WrongLeader:false Err: ClientID:4 RepID:2}
2019/06/13 18:42:44 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:44 [Clerk 2 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:44 1: client new append x 1 1 y
2019/06/13 18:42:44 0: client new append x 0 1 y
2019/06/13 18:42:44 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 1 y Op:Append ClientID:4 ReqID:3} to KVServer 1
2019/06/13 18:42:44 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 1 y Op:Append ClientID:2 ReqID:3} to KVServer 0
2019/06/13 18:42:44 FFFF[follower 4/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}}], and commitIndex have updated to 5
2019/06/13 18:42:44 [follower 4/1 applyRoutine] have applied LogEntry {Index:1 Term:1 Command:{Operation:Put Key:2 Value: ClientID:3 ReqID:1}}
2019/06/13 18:42:44 [KVServer 4 readApplyCh] apply for client 3 PUT [2, ], CommandIndex 1
2019/06/13 18:42:44 [KVServer 4 readApplyCh] apply for client 5 PUT [3, ], CommandIndex 2
2019/06/13 18:42:44 [follower 4/1 applyRoutine] have applied LogEntry {Index:2 Term:1 Command:{Operation:Put Key:3 Value: ClientID:5 ReqID:1}}
2019/06/13 18:42:44 [follower 4/1 applyRoutine] have applied LogEntry {Index:3 Term:1 Command:{Operation:Put Key:0 Value: ClientID:2 ReqID:1}}
2019/06/13 18:42:44 [KVServer 4 readApplyCh] apply for client 2 PUT [0, ], CommandIndex 3
2019/06/13 18:42:44 [KVServer 4 readApplyCh] apply for client 4 PUT [1, ], CommandIndex 4
2019/06/13 18:42:44 [follower 4/1 applyRoutine] have applied LogEntry {Index:4 Term:1 Command:{Operation:Put Key:1 Value: ClientID:4 ReqID:1}}
2019/06/13 18:42:44 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}}] to peer 4 succ
2019/06/13 18:42:44 FFFF[follower 0/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}}], and commitIndex have updated to 5
2019/06/13 18:42:44 [follower 0/1 applyRoutine] have applied LogEntry {Index:1 Term:1 Command:{Operation:Put Key:2 Value: ClientID:3 ReqID:1}}
2019/06/13 18:42:44 [KVServer 0 readApplyCh] apply for client 3 PUT [2, ], CommandIndex 1
2019/06/13 18:42:44 [KVServer 0 readApplyCh] apply for client 5 PUT [3, ], CommandIndex 2
2019/06/13 18:42:44 [follower 0/1 applyRoutine] have applied LogEntry {Index:2 Term:1 Command:{Operation:Put Key:3 Value: ClientID:5 ReqID:1}}
2019/06/13 18:42:44 [follower 0/1 applyRoutine] have applied LogEntry {Index:3 Term:1 Command:{Operation:Put Key:0 Value: ClientID:2 ReqID:1}}
2019/06/13 18:42:44 [KVServer 0 readApplyCh] apply for client 2 PUT [0, ], CommandIndex 3
2019/06/13 18:42:44 [KVServer 0 readApplyCh] apply for client 4 PUT [1, ], CommandIndex 4
2019/06/13 18:42:44 [follower 0/1 applyRoutine] have applied LogEntry {Index:4 Term:1 Command:{Operation:Put Key:1 Value: ClientID:4 ReqID:1}}
2019/06/13 18:42:44 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}}] to peer 0 succ
2019/06/13 18:42:44 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:2} to KVServer 0
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Append 0 x 0 1 y 2 3}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 1 y ClientID:2 ReqID:3}, logIndex = 10
2019/06/13 18:42:44 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:2}
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Get 4  6 2}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:6 ReqID:2}, logIndex = 11
2019/06/13 18:42:44 [KVServer 4 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:2}
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Append 1 x 1 1 y 4 3}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 1 y ClientID:4 ReqID:3}, logIndex = 12
2019/06/13 18:42:44 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:3} to KVServer 4
2019/06/13 18:42:44 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:2} to KVServer 1
2019/06/13 18:42:44 [KVServer 1 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:3}
2019/06/13 18:42:44 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:44 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:3} to KVServer 0
2019/06/13 18:42:44 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:2} to KVServer 2
2019/06/13 18:42:44 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:3} to KVServer 1
2019/06/13 18:42:44 FFFF[follower 4/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}} {5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}}], and commitIndex have updated to 10
2019/06/13 18:42:44 [follower 4/1 applyRoutine] have applied LogEntry {Index:5 Term:1 Command:{Operation:Put Key:4 Value: ClientID:6 ReqID:1}}
2019/06/13 18:42:44 [KVServer 4 readApplyCh] apply for client 6 PUT [4, ], CommandIndex 5
2019/06/13 18:42:44 [KVServer 4 readApplyCh] apply for client 3 Get [2, ], CommandIndex 6
2019/06/13 18:42:44 [follower 4/1 applyRoutine] have applied LogEntry {Index:6 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:2}}
2019/06/13 18:42:44 [follower 4/1 applyRoutine] have applied LogEntry {Index:7 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:2}}
2019/06/13 18:42:44 [KVServer 4 readApplyCh] apply for client 5 Get [3, ], CommandIndex 7
2019/06/13 18:42:44 [KVServer 4 readApplyCh] apply for client 4 APPEND [1, x 1 0 y], CommandIndex 8
2019/06/13 18:42:44 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{10 1 {Append 0 x 0 1 y 2 3}} {11 1 {Get 4  6 2}} {12 1 {Append 1 x 1 1 y 4 3}}] to peer 4 succ
2019/06/13 18:42:44 [follower 4/1 applyRoutine] have applied LogEntry {Index:8 Term:1 Command:{Operation:Append Key:1 Value:x 1 0 y ClientID:4 ReqID:2}}
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 4, ai 12, i 12, rf.commit 10
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[4] = 12's quorum 2
2019/06/13 18:42:44 [KVServer 4 readApplyCh] apply for client 2 APPEND [0, x 0 0 y], CommandIndex 9
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 4, ai 11, i 11, rf.commit 10
2019/06/13 18:42:44 [follower 4/1 applyRoutine] have applied LogEntry {Index:9 Term:1 Command:{Operation:Append Key:0 Value:x 0 0 y ClientID:2 ReqID:2}}
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[4] = 11's quorum 2
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 4, ai 10, i 10, rf.commit 10
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[4] = 10's quorum 2
2019/06/13 18:42:44 [KVServer 4 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:3}
2019/06/13 18:42:44 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:44 [KVServer 1 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:2}
2019/06/13 18:42:44 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:44 FFFF[follower 1/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}} {5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}}], and commitIndex have updated to 10
2019/06/13 18:42:44 [follower 1/1 applyRoutine] have applied LogEntry {Index:5 Term:1 Command:{Operation:Put Key:4 Value: ClientID:6 ReqID:1}}
2019/06/13 18:42:44 [KVServer 1 readApplyCh] apply for client 6 PUT [4, ], CommandIndex 5
2019/06/13 18:42:44 [KVServer 1 readApplyCh] apply for client 3 Get [2, ], CommandIndex 6
2019/06/13 18:42:44 [follower 1/1 applyRoutine] have applied LogEntry {Index:6 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:2}}
2019/06/13 18:42:44 [follower 1/1 applyRoutine] have applied LogEntry {Index:7 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:2}}
2019/06/13 18:42:44 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{10 1 {Append 0 x 0 1 y 2 3}} {11 1 {Get 4  6 2}} {12 1 {Append 1 x 1 1 y 4 3}}] to peer 1 succ
2019/06/13 18:42:44 [KVServer 1 readApplyCh] apply for client 5 Get [3, ], CommandIndex 7
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 1, ai 12, i 12, rf.commit 10
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 12's quorum 3
2019/06/13 18:42:44 LLLL[leader 3/1 sendAndWaitAppendEntriesRPC] update commitIndex to 13
2019/06/13 18:42:44 [follower 1/1 applyRoutine] have applied LogEntry {Index:8 Term:1 Command:{Operation:Append Key:1 Value:x 1 0 y ClientID:4 ReqID:2}}
2019/06/13 18:42:44 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 y], CommandIndex 8
2019/06/13 18:42:44 [KVServer 3 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 y], CommandIndex 10
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:10 Term:1 Command:{Operation:Append Key:0 Value:x 0 1 y ClientID:2 ReqID:3}}
2019/06/13 18:42:44 [follower 1/1 applyRoutine] have applied LogEntry {Index:9 Term:1 Command:{Operation:Append Key:0 Value:x 0 0 y ClientID:2 ReqID:2}}
2019/06/13 18:42:44 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 y], CommandIndex 9
2019/06/13 18:42:44 [KVServer 3 readApplyCh] apply for client 6 Get [4, ], CommandIndex 11
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:11 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:2}}
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:12 Term:1 Command:{Operation:Append Key:1 Value:x 1 1 y ClientID:4 ReqID:3}}
2019/06/13 18:42:44 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 y], CommandIndex 12
2019/06/13 18:42:44 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 1 y, reply = {WrongLeader:false Err: ClientID:2 RepID:3}
2019/06/13 18:42:44 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value: ClientID:6 RepID:2}
2019/06/13 18:42:44 [Clerk 2 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:44 [Clerk 6 Get] succ replicate command to replicated state machine
2019/06/13 18:42:44 0: client new get 0
2019/06/13 18:42:44 4: client new append x 4 0 y
2019/06/13 18:42:44 [Clerk 2 Get] args = {Key:0 ClientID:2 ReqID:4} to KVServer 0
2019/06/13 18:42:44 [Clerk 6 PutAppend] args = {Key:4 Value:x 4 0 y Op:Append ClientID:6 ReqID:3} to KVServer 1
2019/06/13 18:42:44 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 1 y, reply = {WrongLeader:false Err: ClientID:4 RepID:3}
2019/06/13 18:42:44 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:44 1: client new get 1
2019/06/13 18:42:44 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:4} to KVServer 1
2019/06/13 18:42:44 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:3} to KVServer 2
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Append 4 x 4 0 y 6 3}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 0 y ClientID:6 ReqID:3}, logIndex = 13
2019/06/13 18:42:44 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:2} to KVServer 3
2019/06/13 18:42:44 [KVServer 3 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:4}
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Get 1  4 4}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:4 ReqID:4}, logIndex = 14
2019/06/13 18:42:44 FFFF[follower 0/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}} {5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}}], and commitIndex have updated to 10
2019/06/13 18:42:44 [follower 0/1 applyRoutine] have applied LogEntry {Index:5 Term:1 Command:{Operation:Put Key:4 Value: ClientID:6 ReqID:1}}
2019/06/13 18:42:44 [KVServer 0 readApplyCh] apply for client 6 PUT [4, ], CommandIndex 5
2019/06/13 18:42:44 [KVServer 0 readApplyCh] apply for client 3 Get [2, ], CommandIndex 6
2019/06/13 18:42:44 [follower 0/1 applyRoutine] have applied LogEntry {Index:6 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:2}}
2019/06/13 18:42:44 [follower 0/1 applyRoutine] have applied LogEntry {Index:7 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:2}}
2019/06/13 18:42:44 [KVServer 0 readApplyCh] apply for client 5 Get [3, ], CommandIndex 7
2019/06/13 18:42:44 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 y], CommandIndex 8
2019/06/13 18:42:44 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{10 1 {Append 0 x 0 1 y 2 3}} {11 1 {Get 4  6 2}} {12 1 {Append 1 x 1 1 y 4 3}}] to peer 0 succ
2019/06/13 18:42:44 [follower 0/1 applyRoutine] have applied LogEntry {Index:8 Term:1 Command:{Operation:Append Key:1 Value:x 1 0 y ClientID:4 ReqID:2}}
2019/06/13 18:42:44 [follower 0/1 applyRoutine] have applied LogEntry {Index:9 Term:1 Command:{Operation:Append Key:0 Value:x 0 0 y ClientID:2 ReqID:2}}
2019/06/13 18:42:44 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 y], CommandIndex 9
2019/06/13 18:42:44 [KVServer 0 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:3}
2019/06/13 18:42:44 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:44 [KVServer 3 Get] RPC handler, args = {Key:0 ClientID:2 ReqID:4}
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Get 0  2 4}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:2 ReqID:4}, logIndex = 15
2019/06/13 18:42:44 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:3} to KVServer 3
2019/06/13 18:42:44 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:3}
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Get 2  3 3}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:3}, logIndex = 16
2019/06/13 18:42:44 [KVServer 0 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:2}
2019/06/13 18:42:44 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:2} to KVServer 4
2019/06/13 18:42:44 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:2}
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Get 3  5 2}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:2}, logIndex = 17
2019/06/13 18:42:44 FFFF[follower 4/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}} {5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}} {10 1 {Append 0 x 0 1 y 2 3}} {11 1 {Get 4  6 2}} {12 1 {Append 1 x 1 1 y 4 3}}], and commitIndex have updated to 13
2019/06/13 18:42:44 [follower 4/1 applyRoutine] have applied LogEntry {Index:10 Term:1 Command:{Operation:Append Key:0 Value:x 0 1 y ClientID:2 ReqID:3}}
2019/06/13 18:42:44 [KVServer 4 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 y], CommandIndex 10
2019/06/13 18:42:44 [KVServer 4 readApplyCh] apply for client 6 Get [4, ], CommandIndex 11
2019/06/13 18:42:44 [follower 4/1 applyRoutine] have applied LogEntry {Index:11 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:2}}
2019/06/13 18:42:44 [follower 4/1 applyRoutine] have applied LogEntry {Index:12 Term:1 Command:{Operation:Append Key:1 Value:x 1 1 y ClientID:4 ReqID:3}}
2019/06/13 18:42:44 [KVServer 4 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 y], CommandIndex 12
2019/06/13 18:42:44 FFFF[follower 2/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}} {5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}} {10 1 {Append 0 x 0 1 y 2 3}} {11 1 {Get 4  6 2}} {12 1 {Append 1 x 1 1 y 4 3}}], and commitIndex have updated to 13
2019/06/13 18:42:44 [KVServer 2 readApplyCh] apply for client 6 PUT [4, ], CommandIndex 5
2019/06/13 18:42:44 [follower 2/1 applyRoutine] have applied LogEntry {Index:5 Term:1 Command:{Operation:Put Key:4 Value: ClientID:6 ReqID:1}}
2019/06/13 18:42:44 [follower 2/1 applyRoutine] have applied LogEntry {Index:6 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:2}}
2019/06/13 18:42:44 [KVServer 2 readApplyCh] apply for client 3 Get [2, ], CommandIndex 6
2019/06/13 18:42:44 [KVServer 2 readApplyCh] apply for client 5 Get [3, ], CommandIndex 7
2019/06/13 18:42:44 [follower 2/1 applyRoutine] have applied LogEntry {Index:7 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:2}}
2019/06/13 18:42:44 [follower 2/1 applyRoutine] have applied LogEntry {Index:8 Term:1 Command:{Operation:Append Key:1 Value:x 1 0 y ClientID:4 ReqID:2}}
2019/06/13 18:42:44 [KVServer 2 readApplyCh] apply for client 4 APPEND [1, x 1 0 y], CommandIndex 8
2019/06/13 18:42:44 [KVServer 2 readApplyCh] apply for client 2 APPEND [0, x 0 0 y], CommandIndex 9
2019/06/13 18:42:44 [follower 2/1 applyRoutine] have applied LogEntry {Index:9 Term:1 Command:{Operation:Append Key:0 Value:x 0 0 y ClientID:2 ReqID:2}}
2019/06/13 18:42:44 [follower 2/1 applyRoutine] have applied LogEntry {Index:10 Term:1 Command:{Operation:Append Key:0 Value:x 0 1 y ClientID:2 ReqID:3}}
2019/06/13 18:42:44 [KVServer 2 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 y], CommandIndex 10
2019/06/13 18:42:44 [KVServer 2 readApplyCh] apply for client 6 Get [4, ], CommandIndex 11
2019/06/13 18:42:44 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{10 1 {Append 0 x 0 1 y 2 3}} {11 1 {Get 4  6 2}} {12 1 {Append 1 x 1 1 y 4 3}} {13 1 {Append 4 x 4 0 y 6 3}} {14 1 {Get 1  4 4}} {15 1 {Get 0  2 4}} {16 1 {Get 2  3 3}} {17 1 {Get 3  5 2}}] to peer 2 succ
2019/06/13 18:42:44 [follower 2/1 applyRoutine] have applied LogEntry {Index:11 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:2}}
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 2, ai 17, i 17, rf.commit 13
2019/06/13 18:42:44 [follower 2/1 applyRoutine] have applied LogEntry {Index:12 Term:1 Command:{Operation:Append Key:1 Value:x 1 1 y ClientID:4 ReqID:3}}
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 17's quorum 2
2019/06/13 18:42:44 [KVServer 2 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 y], CommandIndex 12
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 2, ai 16, i 16, rf.commit 13
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 16's quorum 2
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 2, ai 15, i 15, rf.commit 13
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 15's quorum 2
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 2, ai 14, i 14, rf.commit 13
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 14's quorum 2
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 2, ai 13, i 13, rf.commit 13
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 13's quorum 2
2019/06/13 18:42:44 FFFF[follower 0/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}} {5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}} {10 1 {Append 0 x 0 1 y 2 3}} {11 1 {Get 4  6 2}} {12 1 {Append 1 x 1 1 y 4 3}}], and commitIndex have updated to 13
2019/06/13 18:42:44 [follower 0/1 applyRoutine] have applied LogEntry {Index:10 Term:1 Command:{Operation:Append Key:0 Value:x 0 1 y ClientID:2 ReqID:3}}
2019/06/13 18:42:44 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 y], CommandIndex 10
2019/06/13 18:42:44 [KVServer 0 readApplyCh] apply for client 6 Get [4, ], CommandIndex 11
2019/06/13 18:42:44 [follower 0/1 applyRoutine] have applied LogEntry {Index:11 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:2}}
2019/06/13 18:42:44 [follower 0/1 applyRoutine] have applied LogEntry {Index:12 Term:1 Command:{Operation:Append Key:1 Value:x 1 1 y ClientID:4 ReqID:3}}
2019/06/13 18:42:44 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 y], CommandIndex 12
2019/06/13 18:42:44 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{13 1 {Append 4 x 4 0 y 6 3}} {14 1 {Get 1  4 4}} {15 1 {Get 0  2 4}} {16 1 {Get 2  3 3}} {17 1 {Get 3  5 2}}] to peer 0 succ
2019/06/13 18:42:44 [leader 3/1 calcCommitIndex] follower 0, ai 17, i 17, rf.commit 13
2019/06/13 18:42:44 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 17's quorum 3
2019/06/13 18:42:44 LLLL[leader 3/1 sendAndWaitAppendEntriesRPC] update commitIndex to 18
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:13 Term:1 Command:{Operation:Append Key:4 Value:x 4 0 y ClientID:6 ReqID:3}}
2019/06/13 18:42:44 [KVServer 3 readApplyCh] apply for client 6 APPEND [4, x 4 0 y], CommandIndex 13
2019/06/13 18:42:44 [KVServer 3 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 y], CommandIndex 14
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:14 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:4}}
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:15 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:4}}
2019/06/13 18:42:44 [KVServer 3 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 y], CommandIndex 15
2019/06/13 18:42:44 [KVServer 3 readApplyCh] apply for client 3 Get [2, ], CommandIndex 16
2019/06/13 18:42:44 [Clerk 6 PutAppend] RPC succ, Append 4 x 4 0 y, reply = {WrongLeader:false Err: ClientID:6 RepID:3}
2019/06/13 18:42:44 [Clerk 6 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:44 4: client new get 4
2019/06/13 18:42:44 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:4} to KVServer 1
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:16 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:3}}
2019/06/13 18:42:44 [leader 3/1 applyRoutine] have applied LogEntry {Index:17 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:2}}
2019/06/13 18:42:44 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 yx 1 1 y ClientID:4 RepID:4}
2019/06/13 18:42:44 [Clerk 4 Get] succ replicate command to replicated state machine
2019/06/13 18:42:44 1: client new get 1
2019/06/13 18:42:44 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:5} to KVServer 1
2019/06/13 18:42:44 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value: ClientID:3 RepID:3}
2019/06/13 18:42:44 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:44 [Clerk 2 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 y ClientID:2 RepID:4}
2019/06/13 18:42:44 [Clerk 2 Get] succ replicate command to replicated state machine
2019/06/13 18:42:44 0: client new get 0
2019/06/13 18:42:44 2: client new get 2
2019/06/13 18:42:44 [Clerk 2 Get] args = {Key:0 ClientID:2 ReqID:5} to KVServer 0
2019/06/13 18:42:44 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:4} to KVServer 3
2019/06/13 18:42:44 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value: ClientID:5 RepID:2}
2019/06/13 18:42:44 [Clerk 5 Get] succ replicate command to replicated state machine
2019/06/13 18:42:44 3: client new get 3
2019/06/13 18:42:44 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:3} to KVServer 4
2019/06/13 18:42:44 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:4}
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Get 2  3 4}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:4}, logIndex = 18
2019/06/13 18:42:44 FFFF[follower 1/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}} {5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}} {10 1 {Append 0 x 0 1 y 2 3}} {11 1 {Get 4  6 2}} {12 1 {Append 1 x 1 1 y 4 3}}], and commitIndex have updated to 13
2019/06/13 18:42:44 [follower 1/1 applyRoutine] have applied LogEntry {Index:10 Term:1 Command:{Operation:Append Key:0 Value:x 0 1 y ClientID:2 ReqID:3}}
2019/06/13 18:42:44 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 y], CommandIndex 10
2019/06/13 18:42:44 [KVServer 1 readApplyCh] apply for client 6 Get [4, ], CommandIndex 11
2019/06/13 18:42:44 [follower 1/1 applyRoutine] have applied LogEntry {Index:11 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:2}}
2019/06/13 18:42:44 [follower 1/1 applyRoutine] have applied LogEntry {Index:12 Term:1 Command:{Operation:Append Key:1 Value:x 1 1 y ClientID:4 ReqID:3}}
2019/06/13 18:42:44 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 y], CommandIndex 12
2019/06/13 18:42:44 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{13 1 {Append 4 x 4 0 y 6 3}} {14 1 {Get 1  4 4}} {15 1 {Get 0  2 4}} {16 1 {Get 2  3 3}} {17 1 {Get 3  5 2}}] to peer 1 succ
2019/06/13 18:42:44 [KVServer 3 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:5}
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Get 1  4 5}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:4 ReqID:5}, logIndex = 19
2019/06/13 18:42:44 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:4}
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Get 4  6 4}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:6 ReqID:4}, logIndex = 20
2019/06/13 18:42:44 [KVServer 3 Get] RPC handler, args = {Key:0 ClientID:2 ReqID:5}
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Get 0  2 5}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:2 ReqID:5}, logIndex = 21
2019/06/13 18:42:44 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:3}
2019/06/13 18:42:44 [leader 3/1 Start] receive client request {Get 3  5 3}
2019/06/13 18:42:44 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:3}, logIndex = 22
2019/06/13 18:42:45 FFFF[follower 2/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}} {5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}} {10 1 {Append 0 x 0 1 y 2 3}} {11 1 {Get 4  6 2}} {12 1 {Append 1 x 1 1 y 4 3}} {13 1 {Append 4 x 4 0 y 6 3}} {14 1 {Get 1  4 4}} {15 1 {Get 0  2 4}} {16 1 {Get 2  3 3}} {17 1 {Get 3  5 2}}], and commitIndex have updated to 18
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:13 Term:1 Command:{Operation:Append Key:4 Value:x 4 0 y ClientID:6 ReqID:3}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 6 APPEND [4, x 4 0 y], CommandIndex 13
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{18 1 {Get 2  3 4}} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}}] to peer 2 succ
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:14 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:4}}
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 22, i 22, rf.commit 18
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 22's quorum 2
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 y], CommandIndex 14
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 y], CommandIndex 15
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 21, i 21, rf.commit 18
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 21's quorum 2
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:15 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:4}}
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 20, i 20, rf.commit 18
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 20's quorum 2
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 3 Get [2, ], CommandIndex 16
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 19, i 19, rf.commit 18
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 19's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 18, i 18, rf.commit 18
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 18's quorum 2
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:16 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:3}}
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:17 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:2}}
2019/06/13 18:42:45 FFFF[follower 4/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}} {5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}} {10 1 {Append 0 x 0 1 y 2 3}} {11 1 {Get 4  6 2}} {12 1 {Append 1 x 1 1 y 4 3}} {13 1 {Append 4 x 4 0 y 6 3}} {14 1 {Get 1  4 4}} {15 1 {Get 0  2 4}} {16 1 {Get 2  3 3}} {17 1 {Get 3  5 2}}], and commitIndex have updated to 18
2019/06/13 18:42:45 [follower 4/1 applyRoutine] have applied LogEntry {Index:13 Term:1 Command:{Operation:Append Key:4 Value:x 4 0 y ClientID:6 ReqID:3}}
2019/06/13 18:42:45 [KVServer 4 readApplyCh] apply for client 6 APPEND [4, x 4 0 y], CommandIndex 13
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{13 1 {Append 4 x 4 0 y 6 3}} {14 1 {Get 1  4 4}} {15 1 {Get 0  2 4}} {16 1 {Get 2  3 3}} {17 1 {Get 3  5 2}} {18 1 {Get 2  3 4}} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}}] to peer 4 succ
2019/06/13 18:42:45 [follower 4/1 applyRoutine] have applied LogEntry {Index:14 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:4}}
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 4, ai 22, i 22, rf.commit 18
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[4] = 22's quorum 3
2019/06/13 18:42:45 [KVServer 4 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 y], CommandIndex 14
2019/06/13 18:42:45 [KVServer 4 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 y], CommandIndex 15
2019/06/13 18:42:45 LLLL[leader 3/1 sendAndWaitAppendEntriesRPC] update commitIndex to 23
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 3 Get [2, ], CommandIndex 18
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:18 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:4}}
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:19 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:5}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 y], CommandIndex 19
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 6 Get [4, x 4 0 y], CommandIndex 20
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:20 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:4}}
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:21 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:5}}
2019/06/13 18:42:45 [follower 4/1 applyRoutine] have applied LogEntry {Index:15 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:4}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 y], CommandIndex 21
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 5 Get [3, ], CommandIndex 22
2019/06/13 18:42:45 [KVServer 4 readApplyCh] apply for client 3 Get [2, ], CommandIndex 16
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:22 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:3}}
2019/06/13 18:42:45 [follower 4/1 applyRoutine] have applied LogEntry {Index:16 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:3}}
2019/06/13 18:42:45 [follower 4/1 applyRoutine] have applied LogEntry {Index:17 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:2}}
2019/06/13 18:42:45 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 yx 1 1 y ClientID:4 RepID:5}
2019/06/13 18:42:45 [Clerk 4 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 1: client new get 1
2019/06/13 18:42:45 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:6} to KVServer 1
2019/06/13 18:42:45 [Clerk 2 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 y ClientID:2 RepID:5}
2019/06/13 18:42:45 [Clerk 2 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 0: client new append x 0 2 y
2019/06/13 18:42:45 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value: ClientID:5 RepID:3}
2019/06/13 18:42:45 [Clerk 5 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 3: client new get 3
2019/06/13 18:42:45 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 2 y Op:Append ClientID:2 ReqID:6} to KVServer 0
2019/06/13 18:42:45 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:4} to KVServer 4
2019/06/13 18:42:45 FFFF[follower 1/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}} {5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}} {10 1 {Append 0 x 0 1 y 2 3}} {11 1 {Get 4  6 2}} {12 1 {Append 1 x 1 1 y 4 3}} {13 1 {Append 4 x 4 0 y 6 3}} {14 1 {Get 1  4 4}} {15 1 {Get 0  2 4}} {16 1 {Get 2  3 3}} {17 1 {Get 3  5 2}}], and commitIndex have updated to 18
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:13 Term:1 Command:{Operation:Append Key:4 Value:x 4 0 y ClientID:6 ReqID:3}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 6 APPEND [4, x 4 0 y], CommandIndex 13
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 y], CommandIndex 14
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:14 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:4}}
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:15 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:4}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 y], CommandIndex 15
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 3 Get [2, ], CommandIndex 16
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:16 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:3}}
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:17 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:2}}
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{18 1 {Get 2  3 4}} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}}] to peer 1 succ
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:4} to KVServer 2
2019/06/13 18:42:45 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:4} to KVServer 4
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Append 0 x 0 2 y 2 6}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 2 y ClientID:2 ReqID:6}, logIndex = 23
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:6}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 1  4 6}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:4 ReqID:6}, logIndex = 24
2019/06/13 18:42:45 [KVServer 1 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:4}
2019/06/13 18:42:45 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:4} to KVServer 0
2019/06/13 18:42:45 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:4}
2019/06/13 18:42:45 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:4} to KVServer 0
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:4} to KVServer 3
2019/06/13 18:42:45 [KVServer 4 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:4}
2019/06/13 18:42:45 [KVServer 2 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:4}
2019/06/13 18:42:45 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:4}
2019/06/13 18:42:45 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:4} to KVServer 1
2019/06/13 18:42:45 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:4} to KVServer 1
2019/06/13 18:42:45 [KVServer 4 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:4}
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:4} to KVServer 4
2019/06/13 18:42:45 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:4} to KVServer 2
2019/06/13 18:42:45 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:4}
2019/06/13 18:42:45 FFFF[follower 2/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}} {5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}} {10 1 {Append 0 x 0 1 y 2 3}} {11 1 {Get 4  6 2}} {12 1 {Append 1 x 1 1 y 4 3}} {13 1 {Append 4 x 4 0 y 6 3}} {14 1 {Get 1  4 4}} {15 1 {Get 0  2 4}} {16 1 {Get 2  3 3}} {17 1 {Get 3  5 2}} {18 1 {Get 2  3 4}} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}}], and commitIndex have updated to 23
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:18 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:4}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 3 Get [2, ], CommandIndex 18
2019/06/13 18:42:45 [KVServer 2 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1005
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{23 1 {Append 0 x 0 2 y 2 6}} {24 1 {Get 1  4 6}}] to peer 2 succ
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 24, i 24, rf.commit 23
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 24's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 23, i 23, rf.commit 23
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 23's quorum 2
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 y], CommandIndex 19
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:19 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:5}}
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:20 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:4}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 6 Get [4, x 4 0 y], CommandIndex 20
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 y], CommandIndex 21
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:21 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:5}}
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:22 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:3}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 5 Get [3, ], CommandIndex 22
2019/06/13 18:42:45 [KVServer 2 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:4}
2019/06/13 18:42:45 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [KVServer 0 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:4}
2019/06/13 18:42:45 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:4} to KVServer 0
2019/06/13 18:42:45 FFFF[follower 1/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}} {5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}} {10 1 {Append 0 x 0 1 y 2 3}} {11 1 {Get 4  6 2}} {12 1 {Append 1 x 1 1 y 4 3}} {13 1 {Append 4 x 4 0 y 6 3}} {14 1 {Get 1  4 4}} {15 1 {Get 0  2 4}} {16 1 {Get 2  3 3}} {17 1 {Get 3  5 2}} {18 1 {Get 2  3 4}} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}}], and commitIndex have updated to 23
2019/06/13 18:42:45 FFFF[follower 0/1 AppendEntries] have commit [{0 0 -1} {1 1 {Put 2  3 1}} {2 1 {Put 3  5 1}} {3 1 {Put 0  2 1}} {4 1 {Put 1  4 1}} {5 1 {Put 4  6 1}} {6 1 {Get 2  3 2}} {7 1 {Get 3  5 2}} {8 1 {Append 1 x 1 0 y 4 2}} {9 1 {Append 0 x 0 0 y 2 2}} {10 1 {Append 0 x 0 1 y 2 3}} {11 1 {Get 4  6 2}} {12 1 {Append 1 x 1 1 y 4 3}} {13 1 {Append 4 x 4 0 y 6 3}} {14 1 {Get 1  4 4}} {15 1 {Get 0  2 4}} {16 1 {Get 2  3 3}} {17 1 {Get 3  5 2}} {18 1 {Get 2  3 4}} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}}], and commitIndex have updated to 23
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:18 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:4}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 3 Get [2, ], CommandIndex 18
2019/06/13 18:42:45 [KVServer 1 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1005
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 6 APPEND [4, x 4 0 y], CommandIndex 13
2019/06/13 18:42:45 [KVServer 0 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1005
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{23 1 {Append 0 x 0 2 y 2 6}} {24 1 {Get 1  4 6}}] to peer 1 succ
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 1, ai 24, i 24, rf.commit 23
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 24's quorum 3
2019/06/13 18:42:45 LLLL[leader 3/1 sendAndWaitAppendEntriesRPC] update commitIndex to 25
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:13 Term:1 Command:{Operation:Append Key:4 Value:x 4 0 y ClientID:6 ReqID:3}}
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{18 1 {Get 2  3 4}} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}} {23 1 {Append 0 x 0 2 y 2 6}} {24 1 {Get 1  4 6}}] to peer 0 succ
2019/06/13 18:42:45 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:4} to KVServer 2
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 y], CommandIndex 23
2019/06/13 18:42:45 [KVServer 3 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1005
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 y], CommandIndex 19
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 y], CommandIndex 14
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:14 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:4}}
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:19 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:5}}
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:15 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:4}}
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:20 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:4}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 6 Get [4, x 4 0 y], CommandIndex 20
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 y], CommandIndex 21
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 y], CommandIndex 15
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 3 Get [2, ], CommandIndex 16
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:21 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:5}}
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:16 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:3}}
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:22 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:3}}
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:17 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:2}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 5 Get [3, ], CommandIndex 22
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 3 Get [2, ], CommandIndex 18
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:23 Term:1 Command:{Operation:Append Key:0 Value:x 0 2 y ClientID:2 ReqID:6}}
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:18 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:4}}
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:24 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:6}}
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:19 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:5}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 y], CommandIndex 24
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 y], CommandIndex 19
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 6 Get [4, x 4 0 y], CommandIndex 20
2019/06/13 18:42:45 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 2 y, reply = {WrongLeader:false Err: ClientID:2 RepID:6}
2019/06/13 18:42:45 [Clerk 2 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:45 0: client new append x 0 3 y
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:20 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:4}}
2019/06/13 18:42:45 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 3 y Op:Append ClientID:2 ReqID:7} to KVServer 0
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:21 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:5}}
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 y], CommandIndex 21
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 5 Get [3, ], CommandIndex 22
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:22 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:3}}
2019/06/13 18:42:45 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 yx 1 1 y ClientID:4 RepID:6}
2019/06/13 18:42:45 [Clerk 4 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 1: client new append x 1 2 y
2019/06/13 18:42:45 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 2 y Op:Append ClientID:4 ReqID:7} to KVServer 1
2019/06/13 18:42:45 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:4} to KVServer 3
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Append 0 x 0 3 y 2 7}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 3 y ClientID:2 ReqID:7}, logIndex = 25
2019/06/13 18:42:45 [KVServer 2 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:4}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Append 1 x 1 2 y 4 7}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 2 y ClientID:4 ReqID:7}, logIndex = 26
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:4}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 2  3 4}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:4}, logIndex = 27
2019/06/13 18:42:45 [KVServer 1 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:4}
2019/06/13 18:42:45 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:4} to KVServer 1
2019/06/13 18:42:45 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:4} to KVServer 3
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:4}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 4  6 4}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:6 ReqID:4}, logIndex = 28
2019/06/13 18:42:45 [KVServer 0 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:4}
2019/06/13 18:42:45 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:4} to KVServer 4
2019/06/13 18:42:45 [leader 3/1 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:45 FFFF[follower 0/1 AppendEntries] have commit [{0 0 -1} {14 1 {Get 1  4 4}} {15 1 {Get 0  2 4}} {16 1 {Get 2  3 3}} {17 1 {Get 3  5 2}} {18 1 {Get 2  3 4}} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}} {23 1 {Append 0 x 0 2 y 2 6}} {24 1 {Get 1  4 6}}], and commitIndex have updated to 25
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:23 Term:1 Command:{Operation:Append Key:0 Value:x 0 2 y ClientID:2 ReqID:6}}
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 y], CommandIndex 23
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 y], CommandIndex 24
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:24 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:6}}
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:4}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 3  5 4}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:4}, logIndex = 29
2019/06/13 18:42:45 FFFF[follower 2/1 AppendEntries] have commit [{0 0 -1} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}} {23 1 {Append 0 x 0 2 y 2 6}} {24 1 {Get 1  4 6}}], and commitIndex have updated to 25
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:23 Term:1 Command:{Operation:Append Key:0 Value:x 0 2 y ClientID:2 ReqID:6}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 y], CommandIndex 23
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 y], CommandIndex 24
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:24 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:6}}
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{25 1 {Append 0 x 0 3 y 2 7}} {26 1 {Append 1 x 1 2 y 4 7}} {27 1 {Get 2  3 4}} {28 1 {Get 4  6 4}}] to peer 2 succ
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 28, i 5, rf.commit 25
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 28's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 27, i 4, rf.commit 25
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 27's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 26, i 3, rf.commit 25
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 26's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 25, i 2, rf.commit 25
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 25's quorum 2
2019/06/13 18:42:45 FFFF[follower 1/1 AppendEntries] have commit [{0 0 -1} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}} {23 1 {Append 0 x 0 2 y 2 6}} {24 1 {Get 1  4 6}}], and commitIndex have updated to 25
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:23 Term:1 Command:{Operation:Append Key:0 Value:x 0 2 y ClientID:2 ReqID:6}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 y], CommandIndex 23
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 y], CommandIndex 24
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:24 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:6}}
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{25 1 {Append 0 x 0 3 y 2 7}} {26 1 {Append 1 x 1 2 y 4 7}} {27 1 {Get 2  3 4}} {28 1 {Get 4  6 4}}] to peer 1 succ
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 1, ai 28, i 5, rf.commit 25
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 28's quorum 3
2019/06/13 18:42:45 LLLL[leader 3/1 sendAndWaitAppendEntriesRPC] update commitIndex to 29
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:25 Term:1 Command:{Operation:Append Key:0 Value:x 0 3 y ClientID:2 ReqID:7}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 25
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 y], CommandIndex 26
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:26 Term:1 Command:{Operation:Append Key:1 Value:x 1 2 y ClientID:4 ReqID:7}}
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:27 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:4}}
2019/06/13 18:42:45 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 2 y, reply = {WrongLeader:false Err: ClientID:4 RepID:7}
2019/06/13 18:42:45 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:45 1: client new append x 1 3 y
2019/06/13 18:42:45 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 3 y Op:Append ClientID:4 ReqID:8} to KVServer 1
2019/06/13 18:42:45 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 3 y, reply = {WrongLeader:false Err: ClientID:2 RepID:7}
2019/06/13 18:42:45 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 y ClientID:6 RepID:4}
2019/06/13 18:42:45 [Clerk 2 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:45 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value: ClientID:3 RepID:4}
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:28 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:4}}
2019/06/13 18:42:45 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 0: client new get 0
2019/06/13 18:42:45 [Clerk 2 Get] args = {Key:0 ClientID:2 ReqID:8} to KVServer 0
2019/06/13 18:42:45 [Clerk 6 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 4: client new append x 4 1 y
2019/06/13 18:42:45 2: client new get 2
2019/06/13 18:42:45 [Clerk 6 PutAppend] args = {Key:4 Value:x 4 1 y Op:Append ClientID:6 ReqID:5} to KVServer 1
2019/06/13 18:42:45 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:5} to KVServer 3
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:0 ClientID:2 ReqID:8}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 0  2 8}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:2 ReqID:8}, logIndex = 30
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Append 4 x 4 1 y 6 5}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 1 y ClientID:6 ReqID:5}, logIndex = 31
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:5}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 2  3 5}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:5}, logIndex = 32
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Append 1 x 1 3 y 4 8}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 3 y ClientID:4 ReqID:8}, logIndex = 33
2019/06/13 18:42:45 [leader 3/1 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:45 FFFF[follower 2/1 AppendEntries] have commit [{0 0 -1} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}} {23 1 {Append 0 x 0 2 y 2 6}} {24 1 {Get 1  4 6}} {25 1 {Append 0 x 0 3 y 2 7}} {26 1 {Append 1 x 1 2 y 4 7}} {27 1 {Get 2  3 4}} {28 1 {Get 4  6 4}}], and commitIndex have updated to 29
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:25 Term:1 Command:{Operation:Append Key:0 Value:x 0 3 y ClientID:2 ReqID:7}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 25
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 y], CommandIndex 26
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:26 Term:1 Command:{Operation:Append Key:1 Value:x 1 2 y ClientID:4 ReqID:7}}
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:27 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:4}}
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:28 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:4}}
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{29 1 {Get 3  5 4}} {30 1 {Get 0  2 8}} {31 1 {Append 4 x 4 1 y 6 5}} {32 1 {Get 2  3 5}} {33 1 {Append 1 x 1 3 y 4 8}}] to peer 2 succ
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 33, i 10, rf.commit 29
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 33's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 32, i 9, rf.commit 29
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 32's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 31, i 8, rf.commit 29
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 31's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 30, i 7, rf.commit 29
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 30's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 29, i 6, rf.commit 29
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 29's quorum 2
2019/06/13 18:42:45 FFFF[follower 0/1 AppendEntries] have commit [{0 0 -1} {14 1 {Get 1  4 4}} {15 1 {Get 0  2 4}} {16 1 {Get 2  3 3}} {17 1 {Get 3  5 2}} {18 1 {Get 2  3 4}} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}} {23 1 {Append 0 x 0 2 y 2 6}} {24 1 {Get 1  4 6}} {25 1 {Append 0 x 0 3 y 2 7}} {26 1 {Append 1 x 1 2 y 4 7}} {27 1 {Get 2  3 4}} {28 1 {Get 4  6 4}}], and commitIndex have updated to 29
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 25
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:25 Term:1 Command:{Operation:Append Key:0 Value:x 0 3 y ClientID:2 ReqID:7}}
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 y], CommandIndex 26
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:26 Term:1 Command:{Operation:Append Key:1 Value:x 1 2 y ClientID:4 ReqID:7}}
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:27 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:4}}
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:28 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:4}}
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{25 1 {Append 0 x 0 3 y 2 7}} {26 1 {Append 1 x 1 2 y 4 7}} {27 1 {Get 2  3 4}} {28 1 {Get 4  6 4}} {29 1 {Get 3  5 4}} {30 1 {Get 0  2 8}} {31 1 {Append 4 x 4 1 y 6 5}} {32 1 {Get 2  3 5}} {33 1 {Append 1 x 1 3 y 4 8}}] to peer 0 succ
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 0, ai 33, i 10, rf.commit 29
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 33's quorum 3
2019/06/13 18:42:45 LLLL[leader 3/1 sendAndWaitAppendEntriesRPC] update commitIndex to 34
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:29 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:4}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 5 Get [3, ], CommandIndex 29
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 30
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:30 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:8}}
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:31 Term:1 Command:{Operation:Append Key:4 Value:x 4 1 y ClientID:6 ReqID:5}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 y], CommandIndex 31
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 3 Get [2, ], CommandIndex 32
2019/06/13 18:42:45 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value: ClientID:5 RepID:4}
2019/06/13 18:42:45 [Clerk 2 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 y ClientID:2 RepID:8}
2019/06/13 18:42:45 [Clerk 2 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 [Clerk 6 PutAppend] RPC succ, Append 4 x 4 1 y, reply = {WrongLeader:false Err: ClientID:6 RepID:5}
2019/06/13 18:42:45 [Clerk 6 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:32 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:5}}
2019/06/13 18:42:45 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value: ClientID:3 RepID:5}
2019/06/13 18:42:45 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 y], CommandIndex 33
2019/06/13 18:42:45 2: client new get 2
2019/06/13 18:42:45 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:6} to KVServer 3
2019/06/13 18:42:45 0: client new append x 0 4 y
2019/06/13 18:42:45 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 4 y Op:Append ClientID:2 ReqID:9} to KVServer 0
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:33 Term:1 Command:{Operation:Append Key:1 Value:x 1 3 y ClientID:4 ReqID:8}}
2019/06/13 18:42:45 4: client new get 4
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:6} to KVServer 1
2019/06/13 18:42:45 [Clerk 5 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 3: client new get 3
2019/06/13 18:42:45 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 3 y, reply = {WrongLeader:false Err: ClientID:4 RepID:8}
2019/06/13 18:42:45 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:5} to KVServer 4
2019/06/13 18:42:45 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:45 1: client new append x 1 4 y
2019/06/13 18:42:45 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 4 y Op:Append ClientID:4 ReqID:9} to KVServer 1
2019/06/13 18:42:45 FFFF[follower 1/1 AppendEntries] have commit [{0 0 -1} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}} {23 1 {Append 0 x 0 2 y 2 6}} {24 1 {Get 1  4 6}} {25 1 {Append 0 x 0 3 y 2 7}} {26 1 {Append 1 x 1 2 y 4 7}} {27 1 {Get 2  3 4}} {28 1 {Get 4  6 4}}], and commitIndex have updated to 29
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 25
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:25 Term:1 Command:{Operation:Append Key:0 Value:x 0 3 y ClientID:2 ReqID:7}}
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:26 Term:1 Command:{Operation:Append Key:1 Value:x 1 2 y ClientID:4 ReqID:7}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 y], CommandIndex 26
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:27 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:4}}
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{29 1 {Get 3  5 4}} {30 1 {Get 0  2 8}} {31 1 {Append 4 x 4 1 y 6 5}} {32 1 {Get 2  3 5}} {33 1 {Append 1 x 1 3 y 4 8}}] to peer 1 succ
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:28 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:4}}
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:6}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 4  6 6}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:6 ReqID:6}, logIndex = 34
2019/06/13 18:42:45 [candidate 4/2 electionEventLoop] timeout, start the election
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:5}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 3  5 5}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:5}, logIndex = 35
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:6}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 2  3 6}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:6}, logIndex = 36
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Append 0 x 0 4 y 2 9}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 4 y ClientID:2 ReqID:9}, logIndex = 37
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Append 1 x 1 4 y 4 9}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 4 y ClientID:4 ReqID:9}, logIndex = 38
2019/06/13 18:42:45 [leader 3/1 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:45 FFFF[follower 2/1 AppendEntries] have commit [{0 0 -1} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}} {23 1 {Append 0 x 0 2 y 2 6}} {24 1 {Get 1  4 6}} {25 1 {Append 0 x 0 3 y 2 7}} {26 1 {Append 1 x 1 2 y 4 7}} {27 1 {Get 2  3 4}} {28 1 {Get 4  6 4}} {29 1 {Get 3  5 4}} {30 1 {Get 0  2 8}} {31 1 {Append 4 x 4 1 y 6 5}} {32 1 {Get 2  3 5}} {33 1 {Append 1 x 1 3 y 4 8}}], and commitIndex have updated to 34
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:29 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:4}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 5 Get [3, ], CommandIndex 29
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 30
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:30 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:8}}
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{34 1 {Get 4  6 6}} {35 1 {Get 3  5 5}} {36 1 {Get 2  3 6}} {37 1 {Append 0 x 0 4 y 2 9}} {38 1 {Append 1 x 1 4 y 4 9}}] to peer 2 succ
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:31 Term:1 Command:{Operation:Append Key:4 Value:x 4 1 y ClientID:6 ReqID:5}}
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 38, i 15, rf.commit 34
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 38's quorum 2
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 y], CommandIndex 31
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 3 Get [2, ], CommandIndex 32
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 37, i 14, rf.commit 34
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 37's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 36, i 13, rf.commit 34
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:32 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:5}}
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 36's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 35, i 12, rf.commit 34
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 35's quorum 2
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:33 Term:1 Command:{Operation:Append Key:1 Value:x 1 3 y ClientID:4 ReqID:8}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 y], CommandIndex 33
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 34, i 11, rf.commit 34
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 34's quorum 2
2019/06/13 18:42:45 FFFF[follower 0/1 AppendEntries] have commit [{0 0 -1} {14 1 {Get 1  4 4}} {15 1 {Get 0  2 4}} {16 1 {Get 2  3 3}} {17 1 {Get 3  5 2}} {18 1 {Get 2  3 4}} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}} {23 1 {Append 0 x 0 2 y 2 6}} {24 1 {Get 1  4 6}} {25 1 {Append 0 x 0 3 y 2 7}} {26 1 {Append 1 x 1 2 y 4 7}} {27 1 {Get 2  3 4}} {28 1 {Get 4  6 4}} {29 1 {Get 3  5 4}} {30 1 {Get 0  2 8}} {31 1 {Append 4 x 4 1 y 6 5}} {32 1 {Get 2  3 5}} {33 1 {Append 1 x 1 3 y 4 8}}], and commitIndex have updated to 34
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:29 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:4}}
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 5 Get [3, ], CommandIndex 29
2019/06/13 18:42:45 [KVServer 0 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1049
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{34 1 {Get 4  6 6}} {35 1 {Get 3  5 5}} {36 1 {Get 2  3 6}} {37 1 {Append 0 x 0 4 y 2 9}} {38 1 {Append 1 x 1 4 y 4 9}}] to peer 0 succ
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 0, ai 38, i 15, rf.commit 34
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 38's quorum 3
2019/06/13 18:42:45 LLLL[leader 3/1 sendAndWaitAppendEntriesRPC] update commitIndex to 39
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 30
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:34 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:6}}
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:30 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:8}}
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:31 Term:1 Command:{Operation:Append Key:4 Value:x 4 1 y ClientID:6 ReqID:5}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 y], CommandIndex 34
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 y], CommandIndex 31
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 3 Get [2, ], CommandIndex 32
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 5 Get [3, ], CommandIndex 35
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:32 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:5}}
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:35 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:5}}
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 y], CommandIndex 33
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:36 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:6}}
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:33 Term:1 Command:{Operation:Append Key:1 Value:x 1 3 y ClientID:4 ReqID:8}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 3 Get [2, ], CommandIndex 36
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 37
2019/06/13 18:42:45 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 y ClientID:6 RepID:6}
2019/06/13 18:42:45 [Clerk 6 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value: ClientID:5 RepID:5}
2019/06/13 18:42:45 [Clerk 5 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 4 y, reply = {WrongLeader:false Err: ClientID:2 RepID:9}
2019/06/13 18:42:45 [Clerk 2 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:45 3: client new append x 3 0 y
2019/06/13 18:42:45 0: client new get 0
2019/06/13 18:42:45 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value: ClientID:3 RepID:6}
2019/06/13 18:42:45 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 2: client new append x 2 0 y
2019/06/13 18:42:45 4: client new get 4
2019/06/13 18:42:45 [Clerk 3 PutAppend] args = {Key:2 Value:x 2 0 y Op:Append ClientID:3 ReqID:7} to KVServer 3
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:7} to KVServer 1
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:37 Term:1 Command:{Operation:Append Key:0 Value:x 0 4 y ClientID:2 ReqID:9}}
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:38 Term:1 Command:{Operation:Append Key:1 Value:x 1 4 y ClientID:4 ReqID:9}}
2019/06/13 18:42:45 [Clerk 5 PutAppend] args = {Key:3 Value:x 3 0 y Op:Append ClientID:5 ReqID:6} to KVServer 4
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 y], CommandIndex 38
2019/06/13 18:42:45 [Clerk 2 Get] args = {Key:0 ClientID:2 ReqID:10} to KVServer 0
2019/06/13 18:42:45 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 4 y, reply = {WrongLeader:false Err: ClientID:4 RepID:9}
2019/06/13 18:42:45 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:45 1: client new get 1
2019/06/13 18:42:45 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:10} to KVServer 1
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:7} to KVServer 2
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Append 2 x 2 0 y 3 7}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 0 y ClientID:3 ReqID:7}, logIndex = 39
2019/06/13 18:42:45 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:7}
2019/06/13 18:42:45 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:0 ClientID:2 ReqID:10}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 0  2 10}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:2 ReqID:10}, logIndex = 40
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:10}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 1  4 10}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:4 ReqID:10}, logIndex = 41
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Append 3 x 3 0 y 5 6}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 0 y ClientID:5 ReqID:6}, logIndex = 42
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:7} to KVServer 3
2019/06/13 18:42:45 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:7}
2019/06/13 18:42:45 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:7} to KVServer 4
2019/06/13 18:42:45 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:7}
2019/06/13 18:42:45 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [leader 3/1 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:45 FFFF[follower 0/1 AppendEntries] have commit [{0 0 -1} {30 1 {Get 0  2 8}} {31 1 {Append 4 x 4 1 y 6 5}} {32 1 {Get 2  3 5}} {33 1 {Append 1 x 1 3 y 4 8}} {34 1 {Get 4  6 6}} {35 1 {Get 3  5 5}} {36 1 {Get 2  3 6}} {37 1 {Append 0 x 0 4 y 2 9}} {38 1 {Append 1 x 1 4 y 4 9}}], and commitIndex have updated to 39
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:34 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:6}}
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 y], CommandIndex 34
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 5 Get [3, ], CommandIndex 35
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:35 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:5}}
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:36 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:6}}
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 3 Get [2, ], CommandIndex 36
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 37
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:37 Term:1 Command:{Operation:Append Key:0 Value:x 0 4 y ClientID:2 ReqID:9}}
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{39 1 {Append 2 x 2 0 y 3 7}} {40 1 {Get 0  2 10}} {41 1 {Get 1  4 10}} {42 1 {Append 3 x 3 0 y 5 6}}] to peer 0 succ
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:38 Term:1 Command:{Operation:Append Key:1 Value:x 1 4 y ClientID:4 ReqID:9}}
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 0, ai 42, i 19, rf.commit 39
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 y], CommandIndex 38
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 42's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 0, ai 41, i 18, rf.commit 39
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 41's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 0, ai 40, i 17, rf.commit 39
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 40's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 0, ai 39, i 16, rf.commit 39
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 39's quorum 2
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:7} to KVServer 0
2019/06/13 18:42:45 FFFF[follower 1/1 AppendEntries] have commit [{0 0 -1} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}} {23 1 {Append 0 x 0 2 y 2 6}} {24 1 {Get 1  4 6}} {25 1 {Append 0 x 0 3 y 2 7}} {26 1 {Append 1 x 1 2 y 4 7}} {27 1 {Get 2  3 4}} {28 1 {Get 4  6 4}} {29 1 {Get 3  5 4}} {30 1 {Get 0  2 8}} {31 1 {Append 4 x 4 1 y 6 5}} {32 1 {Get 2  3 5}} {33 1 {Append 1 x 1 3 y 4 8}} {34 1 {Get 4  6 6}} {35 1 {Get 3  5 5}} {36 1 {Get 2  3 6}} {37 1 {Append 0 x 0 4 y 2 9}} {38 1 {Append 1 x 1 4 y 4 9}}], and commitIndex have updated to 39
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:29 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:4}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 5 Get [3, ], CommandIndex 29
2019/06/13 18:42:45 [KVServer 1 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1041
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{34 1 {Get 4  6 6}} {35 1 {Get 3  5 5}} {36 1 {Get 2  3 6}} {37 1 {Append 0 x 0 4 y 2 9}} {38 1 {Append 1 x 1 4 y 4 9}} {39 1 {Append 2 x 2 0 y 3 7}} {40 1 {Get 0  2 10}} {41 1 {Get 1  4 10}} {42 1 {Append 3 x 3 0 y 5 6}}] to peer 1 succ
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 1, ai 42, i 19, rf.commit 39
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 42's quorum 3
2019/06/13 18:42:45 LLLL[leader 3/1 sendAndWaitAppendEntriesRPC] update commitIndex to 43
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:39 Term:1 Command:{Operation:Append Key:2 Value:x 2 0 y ClientID:3 ReqID:7}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 3 APPEND [2, x 2 0 y], CommandIndex 39
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 40
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 30
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:30 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:8}}
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:40 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:10}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 y], CommandIndex 31
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:31 Term:1 Command:{Operation:Append Key:4 Value:x 4 1 y ClientID:6 ReqID:5}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 y], CommandIndex 41
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:32 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:5}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 3 Get [2, ], CommandIndex 32
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:41 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:10}}
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:33 Term:1 Command:{Operation:Append Key:1 Value:x 1 3 y ClientID:4 ReqID:8}}
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:42 Term:1 Command:{Operation:Append Key:3 Value:x 3 0 y ClientID:5 ReqID:6}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 5 APPEND [3, x 3 0 y], CommandIndex 42
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 y], CommandIndex 33
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 y], CommandIndex 34
2019/06/13 18:42:45 [Clerk 3 PutAppend] RPC succ, Append 2 x 2 0 y, reply = {WrongLeader:false Err: ClientID:3 RepID:7}
2019/06/13 18:42:45 [Clerk 3 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:45 2: client new get 2
2019/06/13 18:42:45 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:8} to KVServer 3
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:34 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:6}}
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:35 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:5}}
2019/06/13 18:42:45 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 y ClientID:4 RepID:10}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 5 Get [3, ], CommandIndex 35
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 3 Get [2, ], CommandIndex 36
2019/06/13 18:42:45 [Clerk 4 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:36 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:6}}
2019/06/13 18:42:45 1: client new append x 1 5 y
2019/06/13 18:42:45 [Clerk 5 PutAppend] RPC succ, Append 3 x 3 0 y, reply = {WrongLeader:false Err: ClientID:5 RepID:6}
2019/06/13 18:42:45 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 5 y Op:Append ClientID:4 ReqID:11} to KVServer 1
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 37
2019/06/13 18:42:45 [Clerk 5 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:45 3: client new append x 3 1 y
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:37 Term:1 Command:{Operation:Append Key:0 Value:x 0 4 y ClientID:2 ReqID:9}}
2019/06/13 18:42:45 [Clerk 5 PutAppend] args = {Key:3 Value:x 3 1 y Op:Append ClientID:5 ReqID:7} to KVServer 4
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 y], CommandIndex 38
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:38 Term:1 Command:{Operation:Append Key:1 Value:x 1 4 y ClientID:4 ReqID:9}}
2019/06/13 18:42:45 [Clerk 2 Get] args = {Key:0 ClientID:2 ReqID:10} to KVServer 1
2019/06/13 18:42:45 [KVServer 2 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:7}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Append 3 x 3 1 y 5 7}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 1 y ClientID:5 ReqID:7}, logIndex = 43
2019/06/13 18:42:45 [KVServer 0 Get] RPC handler, args = {Key:0 ClientID:2 ReqID:10}
2019/06/13 18:42:45 FFFF[follower 2/1 AppendEntries] have commit [{0 0 -1} {19 1 {Get 1  4 5}} {20 1 {Get 4  6 4}} {21 1 {Get 0  2 5}} {22 1 {Get 3  5 3}} {23 1 {Append 0 x 0 2 y 2 6}} {24 1 {Get 1  4 6}} {25 1 {Append 0 x 0 3 y 2 7}} {26 1 {Append 1 x 1 2 y 4 7}} {27 1 {Get 2  3 4}} {28 1 {Get 4  6 4}} {29 1 {Get 3  5 4}} {30 1 {Get 0  2 8}} {31 1 {Append 4 x 4 1 y 6 5}} {32 1 {Get 2  3 5}} {33 1 {Append 1 x 1 3 y 4 8}} {34 1 {Get 4  6 6}} {35 1 {Get 3  5 5}} {36 1 {Get 2  3 6}} {37 1 {Append 0 x 0 4 y 2 9}} {38 1 {Append 1 x 1 4 y 4 9}}], and commitIndex have updated to 39
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 y], CommandIndex 34
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:34 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:6}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1041
2019/06/13 18:42:45 [Clerk 2 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{39 1 {Append 2 x 2 0 y 3 7}} {40 1 {Get 0  2 10}} {41 1 {Get 1  4 10}} {42 1 {Append 3 x 3 0 y 5 6}}] to peer 2 succ
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 5 Get [3, ], CommandIndex 35
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:35 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:5}}
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:36 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:6}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 3 Get [2, ], CommandIndex 36
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 37
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:37 Term:1 Command:{Operation:Append Key:0 Value:x 0 4 y ClientID:2 ReqID:9}}
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:38 Term:1 Command:{Operation:Append Key:1 Value:x 1 4 y ClientID:4 ReqID:9}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 y], CommandIndex 38
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:8}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 2  3 8}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:8}, logIndex = 44
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Append 1 x 1 5 y 4 11}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 5 y ClientID:4 ReqID:11}, logIndex = 45
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:7} to KVServer 1
2019/06/13 18:42:45 [Clerk 2 Get] args = {Key:0 ClientID:2 ReqID:10} to KVServer 2
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:7}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 4  6 7}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:6 ReqID:7}, logIndex = 46
2019/06/13 18:42:45 [Clerk 2 Get] args = {Key:0 ClientID:2 ReqID:10} to KVServer 3
2019/06/13 18:42:45 [KVServer 4 Get] RPC handler, args = {Key:0 ClientID:2 ReqID:10}
2019/06/13 18:42:45 [Clerk 2 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [Clerk 2 Get] args = {Key:0 ClientID:2 ReqID:10} to KVServer 4
2019/06/13 18:42:45 [KVServer 1 Get] RPC handler, args = {Key:0 ClientID:2 ReqID:10}
2019/06/13 18:42:45 [Clerk 2 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [Clerk 2 Get] args = {Key:0 ClientID:2 ReqID:10} to KVServer 0
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:0 ClientID:2 ReqID:10}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 0  2 10}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:2 ReqID:10}, logIndex = 47
2019/06/13 18:42:45 [leader 3/1 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:45 FFFF[follower 1/1 AppendEntries] have commit [{0 0 -1} {30 1 {Get 0  2 8}} {31 1 {Append 4 x 4 1 y 6 5}} {32 1 {Get 2  3 5}} {33 1 {Append 1 x 1 3 y 4 8}} {34 1 {Get 4  6 6}} {35 1 {Get 3  5 5}} {36 1 {Get 2  3 6}} {37 1 {Append 0 x 0 4 y 2 9}} {38 1 {Append 1 x 1 4 y 4 9}} {39 1 {Append 2 x 2 0 y 3 7}} {40 1 {Get 0  2 10}} {41 1 {Get 1  4 10}} {42 1 {Append 3 x 3 0 y 5 6}}], and commitIndex have updated to 43
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:39 Term:1 Command:{Operation:Append Key:2 Value:x 2 0 y ClientID:3 ReqID:7}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 3 APPEND [2, x 2 0 y], CommandIndex 39
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 40
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:40 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:10}}
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:41 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:10}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 y], CommandIndex 41
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 5 APPEND [3, x 3 0 y], CommandIndex 42
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{43 1 {Append 3 x 3 1 y 5 7}} {44 1 {Get 2  3 8}} {45 1 {Append 1 x 1 5 y 4 11}} {46 1 {Get 4  6 7}} {47 1 {Get 0  2 10}}] to peer 1 succ
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:42 Term:1 Command:{Operation:Append Key:3 Value:x 3 0 y ClientID:5 ReqID:6}}
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 1, ai 47, i 24, rf.commit 43
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 47's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 1, ai 46, i 23, rf.commit 43
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 46's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 1, ai 45, i 22, rf.commit 43
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 45's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 1, ai 44, i 21, rf.commit 43
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 44's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 1, ai 43, i 20, rf.commit 43
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 43's quorum 2
2019/06/13 18:42:45 [candidate 4/3 electionEventLoop] timeout, start the election
2019/06/13 18:42:45 [leader 3/1 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:45 FFFF[follower 2/1 AppendEntries] have commit [{0 0 -1} {35 1 {Get 3  5 5}} {36 1 {Get 2  3 6}} {37 1 {Append 0 x 0 4 y 2 9}} {38 1 {Append 1 x 1 4 y 4 9}} {39 1 {Append 2 x 2 0 y 3 7}} {40 1 {Get 0  2 10}} {41 1 {Get 1  4 10}} {42 1 {Append 3 x 3 0 y 5 6}}], and commitIndex have updated to 43
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:39 Term:1 Command:{Operation:Append Key:2 Value:x 2 0 y ClientID:3 ReqID:7}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 3 APPEND [2, x 2 0 y], CommandIndex 39
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 40
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:40 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:10}}
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:41 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:10}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 y], CommandIndex 41
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 5 APPEND [3, x 3 0 y], CommandIndex 42
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:42 Term:1 Command:{Operation:Append Key:3 Value:x 3 0 y ClientID:5 ReqID:6}}
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{43 1 {Append 3 x 3 1 y 5 7}} {44 1 {Get 2  3 8}} {45 1 {Append 1 x 1 5 y 4 11}} {46 1 {Get 4  6 7}} {47 1 {Get 0  2 10}}] to peer 2 succ
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 2, ai 47, i 24, rf.commit 43
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 47's quorum 3
2019/06/13 18:42:45 LLLL[leader 3/1 sendAndWaitAppendEntriesRPC] update commitIndex to 48
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:43 Term:1 Command:{Operation:Append Key:3 Value:x 3 1 y ClientID:5 ReqID:7}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 y], CommandIndex 43
2019/06/13 18:42:45 [KVServer 3 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1053
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 3 Get [2, x 2 0 y], CommandIndex 44
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:44 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:8}}
2019/06/13 18:42:45 [Clerk 5 PutAppend] RPC succ, Append 3 x 3 1 y, reply = {WrongLeader:false Err: ClientID:5 RepID:7}
2019/06/13 18:42:45 [Clerk 5 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:45 Term:1 Command:{Operation:Append Key:1 Value:x 1 5 y ClientID:4 ReqID:11}}
2019/06/13 18:42:45 3: client new get 3
2019/06/13 18:42:45 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:8} to KVServer 4
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 y], CommandIndex 45
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 y], CommandIndex 46
2019/06/13 18:42:45 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 y ClientID:3 RepID:8}
2019/06/13 18:42:45 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 2: client new get 2
2019/06/13 18:42:45 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:9} to KVServer 3
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:46 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:7}}
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:47 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:10}}
2019/06/13 18:42:45 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 y ClientID:6 RepID:7}
2019/06/13 18:42:45 [Clerk 6 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 5 y, reply = {WrongLeader:false Err: ClientID:4 RepID:11}
2019/06/13 18:42:45 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:45 1: client new append x 1 6 y
2019/06/13 18:42:45 [Clerk 2 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y ClientID:2 RepID:10}
2019/06/13 18:42:45 [Clerk 2 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 4: client new get 4
2019/06/13 18:42:45 0: client new get 0
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:8} to KVServer 1
2019/06/13 18:42:45 [Clerk 2 Get] args = {Key:0 ClientID:2 ReqID:11} to KVServer 0
2019/06/13 18:42:45 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 6 y Op:Append ClientID:4 ReqID:12} to KVServer 1
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Append 1 x 1 6 y 4 12}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 6 y ClientID:4 ReqID:12}, logIndex = 48
2019/06/13 18:42:45 FFFF[follower 0/1 AppendEntries] have commit [{0 0 -1} {30 1 {Get 0  2 8}} {31 1 {Append 4 x 4 1 y 6 5}} {32 1 {Get 2  3 5}} {33 1 {Append 1 x 1 3 y 4 8}} {34 1 {Get 4  6 6}} {35 1 {Get 3  5 5}} {36 1 {Get 2  3 6}} {37 1 {Append 0 x 0 4 y 2 9}} {38 1 {Append 1 x 1 4 y 4 9}} {39 1 {Append 2 x 2 0 y 3 7}} {40 1 {Get 0  2 10}} {41 1 {Get 1  4 10}} {42 1 {Append 3 x 3 0 y 5 6}}], and commitIndex have updated to 43
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:39 Term:1 Command:{Operation:Append Key:2 Value:x 2 0 y ClientID:3 ReqID:7}}
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 3 APPEND [2, x 2 0 y], CommandIndex 39
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 40
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:40 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:10}}
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:41 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:10}}
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 y], CommandIndex 41
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 5 APPEND [3, x 3 0 y], CommandIndex 42
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{43 1 {Append 3 x 3 1 y 5 7}} {44 1 {Get 2  3 8}} {45 1 {Append 1 x 1 5 y 4 11}} {46 1 {Get 4  6 7}} {47 1 {Get 0  2 10}}] to peer 0 succ
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:42 Term:1 Command:{Operation:Append Key:3 Value:x 3 0 y ClientID:5 ReqID:6}}
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:0 ClientID:2 ReqID:11}
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:9}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 0  2 11}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:2 ReqID:11}, logIndex = 49
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 2  3 9}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:9}, logIndex = 50
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:8}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 3  5 8}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:8}, logIndex = 51
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:8}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 4  6 8}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:6 ReqID:8}, logIndex = 52
2019/06/13 18:42:45 [leader 3/1 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:45 FFFF[follower 0/1 AppendEntries] have commit [{0 0 -1} {30 1 {Get 0  2 8}} {31 1 {Append 4 x 4 1 y 6 5}} {32 1 {Get 2  3 5}} {33 1 {Append 1 x 1 3 y 4 8}} {34 1 {Get 4  6 6}} {35 1 {Get 3  5 5}} {36 1 {Get 2  3 6}} {37 1 {Append 0 x 0 4 y 2 9}} {38 1 {Append 1 x 1 4 y 4 9}} {39 1 {Append 2 x 2 0 y 3 7}} {40 1 {Get 0  2 10}} {41 1 {Get 1  4 10}} {42 1 {Append 3 x 3 0 y 5 6}} {43 1 {Append 3 x 3 1 y 5 7}} {44 1 {Get 2  3 8}} {45 1 {Append 1 x 1 5 y 4 11}} {46 1 {Get 4  6 7}} {47 1 {Get 0  2 10}}], and commitIndex have updated to 48
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:43 Term:1 Command:{Operation:Append Key:3 Value:x 3 1 y ClientID:5 ReqID:7}}
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 y], CommandIndex 43
2019/06/13 18:42:45 [KVServer 0 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1009
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{48 1 {Append 1 x 1 6 y 4 12}} {49 1 {Get 0  2 11}} {50 1 {Get 2  3 9}} {51 1 {Get 3  5 8}} {52 1 {Get 4  6 8}}] to peer 0 succ
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 0, ai 52, i 9, rf.commit 48
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 52's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 0, ai 51, i 8, rf.commit 48
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 51's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 0, ai 50, i 7, rf.commit 48
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 50's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 0, ai 49, i 6, rf.commit 48
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 49's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 0, ai 48, i 5, rf.commit 48
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 48's quorum 2
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 3 Get [2, x 2 0 y], CommandIndex 44
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:44 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:8}}
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:45 Term:1 Command:{Operation:Append Key:1 Value:x 1 5 y ClientID:4 ReqID:11}}
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 y], CommandIndex 45
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 y], CommandIndex 46
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:46 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:7}}
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:47 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:10}}
2019/06/13 18:42:45 FFFF[follower 2/1 AppendEntries] have commit [{0 0 -1} {35 1 {Get 3  5 5}} {36 1 {Get 2  3 6}} {37 1 {Append 0 x 0 4 y 2 9}} {38 1 {Append 1 x 1 4 y 4 9}} {39 1 {Append 2 x 2 0 y 3 7}} {40 1 {Get 0  2 10}} {41 1 {Get 1  4 10}} {42 1 {Append 3 x 3 0 y 5 6}} {43 1 {Append 3 x 3 1 y 5 7}} {44 1 {Get 2  3 8}} {45 1 {Append 1 x 1 5 y 4 11}} {46 1 {Get 4  6 7}} {47 1 {Get 0  2 10}}], and commitIndex have updated to 48
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:43 Term:1 Command:{Operation:Append Key:3 Value:x 3 1 y ClientID:5 ReqID:7}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 y], CommandIndex 43
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 3 Get [2, x 2 0 y], CommandIndex 44
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:44 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:8}}
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:45 Term:1 Command:{Operation:Append Key:1 Value:x 1 5 y ClientID:4 ReqID:11}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 y], CommandIndex 45
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 y], CommandIndex 46
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:46 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:7}}
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:47 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:10}}
2019/06/13 18:42:45 FFFF[follower 1/1 AppendEntries] have commit [{0 0 -1} {30 1 {Get 0  2 8}} {31 1 {Append 4 x 4 1 y 6 5}} {32 1 {Get 2  3 5}} {33 1 {Append 1 x 1 3 y 4 8}} {34 1 {Get 4  6 6}} {35 1 {Get 3  5 5}} {36 1 {Get 2  3 6}} {37 1 {Append 0 x 0 4 y 2 9}} {38 1 {Append 1 x 1 4 y 4 9}} {39 1 {Append 2 x 2 0 y 3 7}} {40 1 {Get 0  2 10}} {41 1 {Get 1  4 10}} {42 1 {Append 3 x 3 0 y 5 6}} {43 1 {Append 3 x 3 1 y 5 7}} {44 1 {Get 2  3 8}} {45 1 {Append 1 x 1 5 y 4 11}} {46 1 {Get 4  6 7}} {47 1 {Get 0  2 10}}], and commitIndex have updated to 48
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:43 Term:1 Command:{Operation:Append Key:3 Value:x 3 1 y ClientID:5 ReqID:7}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 y], CommandIndex 43
2019/06/13 18:42:45 [KVServer 1 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1009
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{48 1 {Append 1 x 1 6 y 4 12}} {49 1 {Get 0  2 11}} {50 1 {Get 2  3 9}} {51 1 {Get 3  5 8}} {52 1 {Get 4  6 8}}] to peer 1 succ
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 1, ai 52, i 9, rf.commit 48
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 52's quorum 3
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 3 Get [2, x 2 0 y], CommandIndex 44
2019/06/13 18:42:45 LLLL[leader 3/1 sendAndWaitAppendEntriesRPC] update commitIndex to 53
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:44 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:8}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 48
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:45 Term:1 Command:{Operation:Append Key:1 Value:x 1 5 y ClientID:4 ReqID:11}}
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:48 Term:1 Command:{Operation:Append Key:1 Value:x 1 6 y ClientID:4 ReqID:12}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 y], CommandIndex 45
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:49 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:11}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 y], CommandIndex 46
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 49
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:46 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:7}}
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:50 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:9}}
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:47 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:10}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 3 Get [2, x 2 0 y], CommandIndex 50
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 y], CommandIndex 51
2019/06/13 18:42:45 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 6 y, reply = {WrongLeader:false Err: ClientID:4 RepID:12}
2019/06/13 18:42:45 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:45 1: client new get 1
2019/06/13 18:42:45 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:13} to KVServer 1
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:51 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:8}}
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:52 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:8}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 y], CommandIndex 52
2019/06/13 18:42:45 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 y ClientID:5 RepID:8}
2019/06/13 18:42:45 [Clerk 5 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 [Clerk 2 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y ClientID:2 RepID:11}
2019/06/13 18:42:45 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 y ClientID:3 RepID:9}
2019/06/13 18:42:45 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 [Clerk 2 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 2: client new append x 2 1 y
2019/06/13 18:42:45 [Clerk 3 PutAppend] args = {Key:2 Value:x 2 1 y Op:Append ClientID:3 ReqID:10} to KVServer 3
2019/06/13 18:42:45 3: client new get 3
2019/06/13 18:42:45 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:9} to KVServer 4
2019/06/13 18:42:45 0: client new get 0
2019/06/13 18:42:45 [Clerk 2 Get] args = {Key:0 ClientID:2 ReqID:12} to KVServer 0
2019/06/13 18:42:45 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 y ClientID:6 RepID:8}
2019/06/13 18:42:45 [Clerk 6 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 4: client new get 4
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:9} to KVServer 1
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:13}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 1  4 13}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:4 ReqID:13}, logIndex = 53
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:9} to KVServer 2
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:0 ClientID:2 ReqID:12}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 0  2 12}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:2 ReqID:12}, logIndex = 54
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:9}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 3  5 9}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:9}, logIndex = 55
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Append 2 x 2 1 y 3 10}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 1 y ClientID:3 ReqID:10}, logIndex = 56
2019/06/13 18:42:45 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:9}
2019/06/13 18:42:45 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:9} to KVServer 3
2019/06/13 18:42:45 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:9}
2019/06/13 18:42:45 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:9} to KVServer 4
2019/06/13 18:42:45 [leader 3/1 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:45 FFFF[follower 1/1 AppendEntries] have commit [{0 0 -1} {44 1 {Get 2  3 8}} {45 1 {Append 1 x 1 5 y 4 11}} {46 1 {Get 4  6 7}} {47 1 {Get 0  2 10}} {48 1 {Append 1 x 1 6 y 4 12}} {49 1 {Get 0  2 11}} {50 1 {Get 2  3 9}} {51 1 {Get 3  5 8}} {52 1 {Get 4  6 8}}], and commitIndex have updated to 53
2019/06/13 18:42:45 FFFF[follower 0/1 AppendEntries] have commit [{0 0 -1} {44 1 {Get 2  3 8}} {45 1 {Append 1 x 1 5 y 4 11}} {46 1 {Get 4  6 7}} {47 1 {Get 0  2 10}} {48 1 {Append 1 x 1 6 y 4 12}} {49 1 {Get 0  2 11}} {50 1 {Get 2  3 9}} {51 1 {Get 3  5 8}} {52 1 {Get 4  6 8}}], and commitIndex have updated to 53
2019/06/13 18:42:45 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:9}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 48
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:48 Term:1 Command:{Operation:Append Key:1 Value:x 1 6 y ClientID:4 ReqID:12}}
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:49 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:11}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 49
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 3 Get [2, x 2 0 y], CommandIndex 50
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:50 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:9}}
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:51 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:8}}
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{53 1 {Get 1  4 13}} {54 1 {Get 0  2 12}} {55 1 {Get 3  5 9}} {56 1 {Append 2 x 2 1 y 3 10}}] to peer 0 succ
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 0, ai 56, i 13, rf.commit 53
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 48
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 56's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 0, ai 55, i 12, rf.commit 53
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:48 Term:1 Command:{Operation:Append Key:1 Value:x 1 6 y ClientID:4 ReqID:12}}
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 55's quorum 2
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 0, ai 54, i 11, rf.commit 53
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 54's quorum 2
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 49
2019/06/13 18:42:45 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:49 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:11}}
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 0, ai 53, i 10, rf.commit 53
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 3 Get [2, x 2 0 y], CommandIndex 50
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 53's quorum 2
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 y], CommandIndex 51
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{53 1 {Get 1  4 13}} {54 1 {Get 0  2 12}} {55 1 {Get 3  5 9}} {56 1 {Append 2 x 2 1 y 3 10}}] to peer 1 succ
2019/06/13 18:42:45 [leader 3/1 calcCommitIndex] follower 1, ai 56, i 13, rf.commit 53
2019/06/13 18:42:45 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 56's quorum 3
2019/06/13 18:42:45 [follower 1/1 applyRoutine] have applied LogEntry {Index:52 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:8}}
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:50 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:9}}
2019/06/13 18:42:45 [KVServer 1 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 y], CommandIndex 52
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 y], CommandIndex 51
2019/06/13 18:42:45 LLLL[leader 3/1 sendAndWaitAppendEntriesRPC] update commitIndex to 57
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:51 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:8}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 53
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:53 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:13}}
2019/06/13 18:42:45 [KVServer 0 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 y], CommandIndex 52
2019/06/13 18:42:45 [follower 0/1 applyRoutine] have applied LogEntry {Index:52 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:8}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 54
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:54 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:12}}
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:55 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:9}}
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 y], CommandIndex 55
2019/06/13 18:42:45 [KVServer 3 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 y], CommandIndex 56
2019/06/13 18:42:45 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y ClientID:4 RepID:13}
2019/06/13 18:42:45 [Clerk 4 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 1: client new get 1
2019/06/13 18:42:45 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:14} to KVServer 1
2019/06/13 18:42:45 [Clerk 2 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y ClientID:2 RepID:12}
2019/06/13 18:42:45 [Clerk 2 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 [leader 3/1 applyRoutine] have applied LogEntry {Index:56 Term:1 Command:{Operation:Append Key:2 Value:x 2 1 y ClientID:3 ReqID:10}}
2019/06/13 18:42:45 0: client new append x 0 5 y
2019/06/13 18:42:45 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 5 y Op:Append ClientID:2 ReqID:13} to KVServer 0
2019/06/13 18:42:45 [Clerk 3 PutAppend] RPC succ, Append 2 x 2 1 y, reply = {WrongLeader:false Err: ClientID:3 RepID:10}
2019/06/13 18:42:45 [Clerk 3 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:45 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 y ClientID:5 RepID:9}
2019/06/13 18:42:45 [Clerk 5 Get] succ replicate command to replicated state machine
2019/06/13 18:42:45 3: client new append x 3 2 y
2019/06/13 18:42:45 2: client new get 2
2019/06/13 18:42:45 [Clerk 5 PutAppend] args = {Key:3 Value:x 3 2 y Op:Append ClientID:5 ReqID:10} to KVServer 4
2019/06/13 18:42:45 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:11} to KVServer 3
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:9} to KVServer 0
2019/06/13 18:42:45 [KVServer 2 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:9}
2019/06/13 18:42:45 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:11}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 2  3 11}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:11}, logIndex = 57
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Append 0 x 0 5 y 2 13}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 5 y ClientID:2 ReqID:13}, logIndex = 58
2019/06/13 18:42:45 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:9} to KVServer 1
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:9}
2019/06/13 18:42:45 [KVServer 3 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:14}
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 4  6 9}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:6 ReqID:9}, logIndex = 59
2019/06/13 18:42:45 FFFF[follower 2/1 AppendEntries] have commit [{0 0 -1} {35 1 {Get 3  5 5}} {36 1 {Get 2  3 6}} {37 1 {Append 0 x 0 4 y 2 9}} {38 1 {Append 1 x 1 4 y 4 9}} {39 1 {Append 2 x 2 0 y 3 7}} {40 1 {Get 0  2 10}} {41 1 {Get 1  4 10}} {42 1 {Append 3 x 3 0 y 5 6}} {43 1 {Append 3 x 3 1 y 5 7}} {44 1 {Get 2  3 8}} {45 1 {Append 1 x 1 5 y 4 11}} {46 1 {Get 4  6 7}} {47 1 {Get 0  2 10}} {48 1 {Append 1 x 1 6 y 4 12}} {49 1 {Get 0  2 11}} {50 1 {Get 2  3 9}} {51 1 {Get 3  5 8}} {52 1 {Get 4  6 8}}], and commitIndex have updated to 53
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Get 1  4 14}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:4 ReqID:14}, logIndex = 60
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:48 Term:1 Command:{Operation:Append Key:1 Value:x 1 6 y ClientID:4 ReqID:12}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 48
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 49
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:49 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:11}}
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:50 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:9}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 3 Get [2, x 2 0 y], CommandIndex 50
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 y], CommandIndex 51
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:51 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:8}}
2019/06/13 18:42:45 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{48 1 {Append 1 x 1 6 y 4 12}} {49 1 {Get 0  2 11}} {50 1 {Get 2  3 9}} {51 1 {Get 3  5 8}} {52 1 {Get 4  6 8}} {53 1 {Get 1  4 13}} {54 1 {Get 0  2 12}} {55 1 {Get 3  5 9}} {56 1 {Append 2 x 2 1 y 3 10}}] to peer 2 succ
2019/06/13 18:42:45 [follower 2/1 applyRoutine] have applied LogEntry {Index:52 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:8}}
2019/06/13 18:42:45 [KVServer 2 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 y], CommandIndex 52
2019/06/13 18:42:45 [leader 3/1 Start] receive client request {Append 3 x 3 2 y 5 10}
2019/06/13 18:42:45 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 2 y ClientID:5 ReqID:10}, logIndex = 61
2019/06/13 18:42:46 [leader 3/1 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:46 FFFF[follower 1/1 AppendEntries] have commit [{0 0 -1} {44 1 {Get 2  3 8}} {45 1 {Append 1 x 1 5 y 4 11}} {46 1 {Get 4  6 7}} {47 1 {Get 0  2 10}} {48 1 {Append 1 x 1 6 y 4 12}} {49 1 {Get 0  2 11}} {50 1 {Get 2  3 9}} {51 1 {Get 3  5 8}} {52 1 {Get 4  6 8}} {53 1 {Get 1  4 13}} {54 1 {Get 0  2 12}} {55 1 {Get 3  5 9}} {56 1 {Append 2 x 2 1 y 3 10}}], and commitIndex have updated to 57
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:53 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:13}}
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 53
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 54
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:54 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:12}}
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:55 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:9}}
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 y], CommandIndex 55
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 y], CommandIndex 56
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:56 Term:1 Command:{Operation:Append Key:2 Value:x 2 1 y ClientID:3 ReqID:10}}
2019/06/13 18:42:46 FFFF[follower 2/1 AppendEntries] have commit [{0 0 -1} {35 1 {Get 3  5 5}} {36 1 {Get 2  3 6}} {37 1 {Append 0 x 0 4 y 2 9}} {38 1 {Append 1 x 1 4 y 4 9}} {39 1 {Append 2 x 2 0 y 3 7}} {40 1 {Get 0  2 10}} {41 1 {Get 1  4 10}} {42 1 {Append 3 x 3 0 y 5 6}} {43 1 {Append 3 x 3 1 y 5 7}} {44 1 {Get 2  3 8}} {45 1 {Append 1 x 1 5 y 4 11}} {46 1 {Get 4  6 7}} {47 1 {Get 0  2 10}} {48 1 {Append 1 x 1 6 y 4 12}} {49 1 {Get 0  2 11}} {50 1 {Get 2  3 9}} {51 1 {Get 3  5 8}} {52 1 {Get 4  6 8}} {53 1 {Get 1  4 13}} {54 1 {Get 0  2 12}} {55 1 {Get 3  5 9}} {56 1 {Append 2 x 2 1 y 3 10}}], and commitIndex have updated to 57
2019/06/13 18:42:46 [follower 2/1 applyRoutine] have applied LogEntry {Index:53 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:13}}
2019/06/13 18:42:46 [KVServer 2 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 53
2019/06/13 18:42:46 [KVServer 2 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1149
2019/06/13 18:42:46 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{57 1 {Get 2  3 11}} {58 1 {Append 0 x 0 5 y 2 13}} {59 1 {Get 4  6 9}} {60 1 {Get 1  4 14}} {61 1 {Append 3 x 3 2 y 5 10}}] to peer 2 succ
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 2, ai 61, i 18, rf.commit 57
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 61's quorum 2
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 2, ai 60, i 17, rf.commit 57
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 60's quorum 2
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 2, ai 59, i 16, rf.commit 57
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 59's quorum 2
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 2, ai 58, i 15, rf.commit 57
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 58's quorum 2
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 2, ai 57, i 14, rf.commit 57
2019/06/13 18:42:46 [follower 2/1 applyRoutine] have applied LogEntry {Index:54 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:12}}
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[2] = 57's quorum 2
2019/06/13 18:42:46 [KVServer 2 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 54
2019/06/13 18:42:46 [KVServer 2 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 y], CommandIndex 55
2019/06/13 18:42:46 [follower 2/1 applyRoutine] have applied LogEntry {Index:55 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:9}}
2019/06/13 18:42:46 [follower 2/1 applyRoutine] have applied LogEntry {Index:56 Term:1 Command:{Operation:Append Key:2 Value:x 2 1 y ClientID:3 ReqID:10}}
2019/06/13 18:42:46 [KVServer 2 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 y], CommandIndex 56
2019/06/13 18:42:46 FFFF[follower 0/1 AppendEntries] have commit [{0 0 -1} {44 1 {Get 2  3 8}} {45 1 {Append 1 x 1 5 y 4 11}} {46 1 {Get 4  6 7}} {47 1 {Get 0  2 10}} {48 1 {Append 1 x 1 6 y 4 12}} {49 1 {Get 0  2 11}} {50 1 {Get 2  3 9}} {51 1 {Get 3  5 8}} {52 1 {Get 4  6 8}} {53 1 {Get 1  4 13}} {54 1 {Get 0  2 12}} {55 1 {Get 3  5 9}} {56 1 {Append 2 x 2 1 y 3 10}}], and commitIndex have updated to 57
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:53 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:13}}
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 53
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 54
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:54 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:12}}
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:55 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:9}}
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 y], CommandIndex 55
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 y], CommandIndex 56
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:56 Term:1 Command:{Operation:Append Key:2 Value:x 2 1 y ClientID:3 ReqID:10}}
2019/06/13 18:42:46 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{57 1 {Get 2  3 11}} {58 1 {Append 0 x 0 5 y 2 13}} {59 1 {Get 4  6 9}} {60 1 {Get 1  4 14}} {61 1 {Append 3 x 3 2 y 5 10}}] to peer 0 succ
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 0, ai 61, i 18, rf.commit 57
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 61's quorum 3
2019/06/13 18:42:46 LLLL[leader 3/1 sendAndWaitAppendEntriesRPC] update commitIndex to 62
2019/06/13 18:42:46 [leader 3/1 applyRoutine] have applied LogEntry {Index:57 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:11}}
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 y], CommandIndex 57
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 y], CommandIndex 58
2019/06/13 18:42:46 [leader 3/1 applyRoutine] have applied LogEntry {Index:58 Term:1 Command:{Operation:Append Key:0 Value:x 0 5 y ClientID:2 ReqID:13}}
2019/06/13 18:42:46 [leader 3/1 applyRoutine] have applied LogEntry {Index:59 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:9}}
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 y], CommandIndex 59
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 60
2019/06/13 18:42:46 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 y ClientID:3 RepID:11}
2019/06/13 18:42:46 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 5 y, reply = {WrongLeader:false Err: ClientID:2 RepID:13}
2019/06/13 18:42:46 [Clerk 2 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:46 0: client new append x 0 6 y
2019/06/13 18:42:46 [leader 3/1 applyRoutine] have applied LogEntry {Index:60 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:14}}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 y ClientID:6 RepID:9}
2019/06/13 18:42:46 [Clerk 6 Get] succ replicate command to replicated state machine
2019/06/13 18:42:46 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 6 y Op:Append ClientID:2 ReqID:14} to KVServer 0
2019/06/13 18:42:46 [leader 3/1 applyRoutine] have applied LogEntry {Index:61 Term:1 Command:{Operation:Append Key:3 Value:x 3 2 y ClientID:5 ReqID:10}}
2019/06/13 18:42:46 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:46 2: client new append x 2 2 y
2019/06/13 18:42:46 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y ClientID:4 RepID:14}
2019/06/13 18:42:46 [Clerk 3 PutAppend] args = {Key:2 Value:x 2 2 y Op:Append ClientID:3 ReqID:12} to KVServer 3
2019/06/13 18:42:46 [Clerk 4 Get] succ replicate command to replicated state machine
2019/06/13 18:42:46 1: client new get 1
2019/06/13 18:42:46 4: client new append x 4 2 y
2019/06/13 18:42:46 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:15} to KVServer 1
2019/06/13 18:42:46 [Clerk 6 PutAppend] args = {Key:4 Value:x 4 2 y Op:Append ClientID:6 ReqID:10} to KVServer 1
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 y], CommandIndex 61
2019/06/13 18:42:46 [Clerk 5 PutAppend] RPC succ, Append 3 x 3 2 y, reply = {WrongLeader:false Err: ClientID:5 RepID:10}
2019/06/13 18:42:46 [Clerk 5 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:46 3: client new get 3
2019/06/13 18:42:46 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:11} to KVServer 4
2019/06/13 18:42:46 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:11}
2019/06/13 18:42:46 [leader 3/1 Start] receive client request {Get 3  5 11}
2019/06/13 18:42:46 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:11}, logIndex = 62
2019/06/13 18:42:46 [KVServer 3 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:15}
2019/06/13 18:42:46 [leader 3/1 Start] receive client request {Get 1  4 15}
2019/06/13 18:42:46 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:4 ReqID:15}, logIndex = 63
2019/06/13 18:42:46 [Clerk 3 PutAppend] args = {Key:2 Value:x 2 2 y Op:Append ClientID:3 ReqID:12} to KVServer 4
2019/06/13 18:42:46 [leader 3/1 Start] receive client request {Append 4 x 4 2 y 6 10}
2019/06/13 18:42:46 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 2 y ClientID:6 ReqID:10}, logIndex = 64
2019/06/13 18:42:46 [leader 3/1 Start] receive client request {Append 0 x 0 6 y 2 14}
2019/06/13 18:42:46 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 6 y ClientID:2 ReqID:14}, logIndex = 65
2019/06/13 18:42:46 [Clerk 3 PutAppend] RPC succ, Append 2 x 2 2 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:46 [Clerk 3 PutAppend] args = {Key:2 Value:x 2 2 y Op:Append ClientID:3 ReqID:12} to KVServer 0
2019/06/13 18:42:46 [Clerk 3 PutAppend] RPC succ, Append 2 x 2 2 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:46 [candidate 4/4 electionEventLoop] timeout, start the election
2019/06/13 18:42:46 [Clerk 3 PutAppend] args = {Key:2 Value:x 2 2 y Op:Append ClientID:3 ReqID:12} to KVServer 1
2019/06/13 18:42:46 [Clerk 3 PutAppend] RPC succ, Append 2 x 2 2 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:46 [leader 3/1 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:46 [Clerk 3 PutAppend] args = {Key:2 Value:x 2 2 y Op:Append ClientID:3 ReqID:12} to KVServer 2
2019/06/13 18:42:46 FFFF[follower 0/1 AppendEntries] have commit [{0 0 -1} {44 1 {Get 2  3 8}} {45 1 {Append 1 x 1 5 y 4 11}} {46 1 {Get 4  6 7}} {47 1 {Get 0  2 10}} {48 1 {Append 1 x 1 6 y 4 12}} {49 1 {Get 0  2 11}} {50 1 {Get 2  3 9}} {51 1 {Get 3  5 8}} {52 1 {Get 4  6 8}} {53 1 {Get 1  4 13}} {54 1 {Get 0  2 12}} {55 1 {Get 3  5 9}} {56 1 {Append 2 x 2 1 y 3 10}} {57 1 {Get 2  3 11}} {58 1 {Append 0 x 0 5 y 2 13}} {59 1 {Get 4  6 9}} {60 1 {Get 1  4 14}} {61 1 {Append 3 x 3 2 y 5 10}}], and commitIndex have updated to 62
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 y], CommandIndex 57
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:57 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:11}}
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:58 Term:1 Command:{Operation:Append Key:0 Value:x 0 5 y ClientID:2 ReqID:13}}
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 y], CommandIndex 58
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 y], CommandIndex 59
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:59 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:9}}
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:60 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:14}}
2019/06/13 18:42:46 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{62 1 {Get 3  5 11}} {63 1 {Get 1  4 15}} {64 1 {Append 4 x 4 2 y 6 10}} {65 1 {Append 0 x 0 6 y 2 14}}] to peer 0 succ
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 0, ai 65, i 22, rf.commit 62
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 60
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 65's quorum 2
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 0, ai 64, i 21, rf.commit 62
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 64's quorum 2
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:61 Term:1 Command:{Operation:Append Key:3 Value:x 3 2 y ClientID:5 ReqID:10}}
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 0, ai 63, i 20, rf.commit 62
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 63's quorum 2
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 y], CommandIndex 61
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 0, ai 62, i 19, rf.commit 62
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 62's quorum 2
2019/06/13 18:42:46 FFFF[follower 1/1 AppendEntries] have commit [{0 0 -1} {44 1 {Get 2  3 8}} {45 1 {Append 1 x 1 5 y 4 11}} {46 1 {Get 4  6 7}} {47 1 {Get 0  2 10}} {48 1 {Append 1 x 1 6 y 4 12}} {49 1 {Get 0  2 11}} {50 1 {Get 2  3 9}} {51 1 {Get 3  5 8}} {52 1 {Get 4  6 8}} {53 1 {Get 1  4 13}} {54 1 {Get 0  2 12}} {55 1 {Get 3  5 9}} {56 1 {Append 2 x 2 1 y 3 10}} {57 1 {Get 2  3 11}} {58 1 {Append 0 x 0 5 y 2 13}} {59 1 {Get 4  6 9}} {60 1 {Get 1  4 14}} {61 1 {Append 3 x 3 2 y 5 10}}], and commitIndex have updated to 62
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:57 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:11}}
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 y], CommandIndex 57
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 y], CommandIndex 58
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:58 Term:1 Command:{Operation:Append Key:0 Value:x 0 5 y ClientID:2 ReqID:13}}
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:59 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:9}}
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 y], CommandIndex 59
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 60
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:60 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:14}}
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:61 Term:1 Command:{Operation:Append Key:3 Value:x 3 2 y ClientID:5 ReqID:10}}
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 y], CommandIndex 61
2019/06/13 18:42:46 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{57 1 {Get 2  3 11}} {58 1 {Append 0 x 0 5 y 2 13}} {59 1 {Get 4  6 9}} {60 1 {Get 1  4 14}} {61 1 {Append 3 x 3 2 y 5 10}} {62 1 {Get 3  5 11}} {63 1 {Get 1  4 15}} {64 1 {Append 4 x 4 2 y 6 10}} {65 1 {Append 0 x 0 6 y 2 14}}] to peer 1 succ
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 1, ai 65, i 22, rf.commit 62
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 65's quorum 3
2019/06/13 18:42:46 LLLL[leader 3/1 sendAndWaitAppendEntriesRPC] update commitIndex to 66
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 y], CommandIndex 62
2019/06/13 18:42:46 [leader 3/1 applyRoutine] have applied LogEntry {Index:62 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:11}}
2019/06/13 18:42:46 [leader 3/1 applyRoutine] have applied LogEntry {Index:63 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:15}}
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 63
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 64
2019/06/13 18:42:46 [leader 3/1 applyRoutine] have applied LogEntry {Index:64 Term:1 Command:{Operation:Append Key:4 Value:x 4 2 y ClientID:6 ReqID:10}}
2019/06/13 18:42:46 [leader 3/1 applyRoutine] have applied LogEntry {Index:65 Term:1 Command:{Operation:Append Key:0 Value:x 0 6 y ClientID:2 ReqID:14}}
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y], CommandIndex 65
2019/06/13 18:42:46 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y ClientID:4 RepID:15}
2019/06/13 18:42:46 [Clerk 4 Get] succ replicate command to replicated state machine
2019/06/13 18:42:46 1: client new get 1
2019/06/13 18:42:46 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:16} to KVServer 1
2019/06/13 18:42:46 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 6 y, reply = {WrongLeader:false Err: ClientID:2 RepID:14}
2019/06/13 18:42:46 [Clerk 2 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:46 [Clerk 6 PutAppend] RPC succ, Append 4 x 4 2 y, reply = {WrongLeader:false Err: ClientID:6 RepID:10}
2019/06/13 18:42:46 0: client new get 0
2019/06/13 18:42:46 [Clerk 6 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:46 [Clerk 2 Get] args = {Key:0 ClientID:2 ReqID:15} to KVServer 0
2019/06/13 18:42:46 4: client new get 4
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 1
2019/06/13 18:42:46 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 y ClientID:5 RepID:11}
2019/06/13 18:42:46 [Clerk 5 Get] succ replicate command to replicated state machine
2019/06/13 18:42:46 3: client new append x 3 3 y
2019/06/13 18:42:46 [Clerk 5 PutAppend] args = {Key:3 Value:x 3 3 y Op:Append ClientID:5 ReqID:12} to KVServer 4
2019/06/13 18:42:46 FFFF[follower 2/1 AppendEntries] have commit [{0 0 -1} {54 1 {Get 0  2 12}} {55 1 {Get 3  5 9}} {56 1 {Append 2 x 2 1 y 3 10}} {57 1 {Get 2  3 11}} {58 1 {Append 0 x 0 5 y 2 13}} {59 1 {Get 4  6 9}} {60 1 {Get 1  4 14}} {61 1 {Append 3 x 3 2 y 5 10}}], and commitIndex have updated to 62
2019/06/13 18:42:46 [follower 2/1 applyRoutine] have applied LogEntry {Index:57 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:11}}
2019/06/13 18:42:46 [KVServer 2 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 y], CommandIndex 57
2019/06/13 18:42:46 [KVServer 2 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 y], CommandIndex 58
2019/06/13 18:42:46 [follower 2/1 applyRoutine] have applied LogEntry {Index:58 Term:1 Command:{Operation:Append Key:0 Value:x 0 5 y ClientID:2 ReqID:13}}
2019/06/13 18:42:46 [follower 2/1 applyRoutine] have applied LogEntry {Index:59 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:9}}
2019/06/13 18:42:46 [KVServer 2 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 y], CommandIndex 59
2019/06/13 18:42:46 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{62 1 {Get 3  5 11}} {63 1 {Get 1  4 15}} {64 1 {Append 4 x 4 2 y 6 10}} {65 1 {Append 0 x 0 6 y 2 14}}] to peer 2 succ
2019/06/13 18:42:46 [KVServer 2 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 60
2019/06/13 18:42:46 [follower 2/1 applyRoutine] have applied LogEntry {Index:60 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:14}}
2019/06/13 18:42:46 [follower 2/1 applyRoutine] have applied LogEntry {Index:61 Term:1 Command:{Operation:Append Key:3 Value:x 3 2 y ClientID:5 ReqID:10}}
2019/06/13 18:42:46 [KVServer 2 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 y], CommandIndex 61
2019/06/13 18:42:46 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [leader 3/1 Start] receive client request {Get 4  6 11}
2019/06/13 18:42:46 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:6 ReqID:11}, logIndex = 66
2019/06/13 18:42:46 [KVServer 3 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:16}
2019/06/13 18:42:46 [leader 3/1 Start] receive client request {Get 1  4 16}
2019/06/13 18:42:46 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:4 ReqID:16}, logIndex = 67
2019/06/13 18:42:46 [KVServer 3 Get] RPC handler, args = {Key:0 ClientID:2 ReqID:15}
2019/06/13 18:42:46 [leader 3/1 Start] receive client request {Get 0  2 15}
2019/06/13 18:42:46 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:2 ReqID:15}, logIndex = 68
2019/06/13 18:42:46 [leader 3/1 Start] receive client request {Append 3 x 3 3 y 5 12}
2019/06/13 18:42:46 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 3 y ClientID:5 ReqID:12}, logIndex = 69
2019/06/13 18:42:46 [Clerk 3 PutAppend] RPC succ, Append 2 x 2 2 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:46 [Clerk 3 PutAppend] args = {Key:2 Value:x 2 2 y Op:Append ClientID:3 ReqID:12} to KVServer 3
2019/06/13 18:42:46 [leader 3/1 Start] receive client request {Append 2 x 2 2 y 3 12}
2019/06/13 18:42:46 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 2 y ClientID:3 ReqID:12}, logIndex = 70
2019/06/13 18:42:46 [leader 3/1 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:46 FFFF[follower 1/1 AppendEntries] have commit [{0 0 -1} {44 1 {Get 2  3 8}} {45 1 {Append 1 x 1 5 y 4 11}} {46 1 {Get 4  6 7}} {47 1 {Get 0  2 10}} {48 1 {Append 1 x 1 6 y 4 12}} {49 1 {Get 0  2 11}} {50 1 {Get 2  3 9}} {51 1 {Get 3  5 8}} {52 1 {Get 4  6 8}} {53 1 {Get 1  4 13}} {54 1 {Get 0  2 12}} {55 1 {Get 3  5 9}} {56 1 {Append 2 x 2 1 y 3 10}} {57 1 {Get 2  3 11}} {58 1 {Append 0 x 0 5 y 2 13}} {59 1 {Get 4  6 9}} {60 1 {Get 1  4 14}} {61 1 {Append 3 x 3 2 y 5 10}} {62 1 {Get 3  5 11}} {63 1 {Get 1  4 15}} {64 1 {Append 4 x 4 2 y 6 10}} {65 1 {Append 0 x 0 6 y 2 14}}], and commitIndex have updated to 66
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:62 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:11}}
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 y], CommandIndex 62
2019/06/13 18:42:46 [KVServer 1 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1144
2019/06/13 18:42:46 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{66 1 {Get 4  6 11}} {67 1 {Get 1  4 16}} {68 1 {Get 0  2 15}} {69 1 {Append 3 x 3 3 y 5 12}} {70 1 {Append 2 x 2 2 y 3 12}}] to peer 1 succ
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 1, ai 70, i 27, rf.commit 66
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 70's quorum 2
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 1, ai 69, i 26, rf.commit 66
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 69's quorum 2
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 1, ai 68, i 25, rf.commit 66
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 68's quorum 2
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 63
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 1, ai 67, i 24, rf.commit 66
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:63 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:15}}
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 67's quorum 2
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 1, ai 66, i 23, rf.commit 66
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[1] = 66's quorum 2
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:64 Term:1 Command:{Operation:Append Key:4 Value:x 4 2 y ClientID:6 ReqID:10}}
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 64
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y], CommandIndex 65
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:65 Term:1 Command:{Operation:Append Key:0 Value:x 0 6 y ClientID:2 ReqID:14}}
2019/06/13 18:42:46 FFFF[follower 0/1 AppendEntries] have commit [{0 0 -1} {44 1 {Get 2  3 8}} {45 1 {Append 1 x 1 5 y 4 11}} {46 1 {Get 4  6 7}} {47 1 {Get 0  2 10}} {48 1 {Append 1 x 1 6 y 4 12}} {49 1 {Get 0  2 11}} {50 1 {Get 2  3 9}} {51 1 {Get 3  5 8}} {52 1 {Get 4  6 8}} {53 1 {Get 1  4 13}} {54 1 {Get 0  2 12}} {55 1 {Get 3  5 9}} {56 1 {Append 2 x 2 1 y 3 10}} {57 1 {Get 2  3 11}} {58 1 {Append 0 x 0 5 y 2 13}} {59 1 {Get 4  6 9}} {60 1 {Get 1  4 14}} {61 1 {Append 3 x 3 2 y 5 10}} {62 1 {Get 3  5 11}} {63 1 {Get 1  4 15}} {64 1 {Append 4 x 4 2 y 6 10}} {65 1 {Append 0 x 0 6 y 2 14}}], and commitIndex have updated to 66
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:62 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:11}}
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 y], CommandIndex 62
2019/06/13 18:42:46 [KVServer 0 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1144
2019/06/13 18:42:46 [leader 3/1 sendAndWaitAppendEntriesRPC] replicate LogEntry [{66 1 {Get 4  6 11}} {67 1 {Get 1  4 16}} {68 1 {Get 0  2 15}} {69 1 {Append 3 x 3 3 y 5 12}} {70 1 {Append 2 x 2 2 y 3 12}}] to peer 0 succ
2019/06/13 18:42:46 [leader 3/1 calcCommitIndex] follower 0, ai 70, i 27, rf.commit 66
2019/06/13 18:42:46 LLLL[leader 3/1 calcCommitIndex] matchIndex[0] = 70's quorum 3
2019/06/13 18:42:46 LLLL[leader 3/1 sendAndWaitAppendEntriesRPC] update commitIndex to 71
2019/06/13 18:42:46 [leader 3/1 applyRoutine] have applied LogEntry {Index:66 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:11}}
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 66
2019/06/13 18:42:46 [KVServer 3 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1144
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 63
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:63 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:15}}
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:64 Term:1 Command:{Operation:Append Key:4 Value:x 4 2 y ClientID:6 ReqID:10}}
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 64
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y], CommandIndex 65
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:65 Term:1 Command:{Operation:Append Key:0 Value:x 0 6 y ClientID:2 ReqID:14}}
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 67
2019/06/13 18:42:46 [leader 3/1 applyRoutine] have applied LogEntry {Index:67 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:16}}
2019/06/13 18:42:46 [leader 3/1 applyRoutine] have applied LogEntry {Index:68 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:15}}
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y], CommandIndex 68
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 69
2019/06/13 18:42:46 [leader 3/1 applyRoutine] have applied LogEntry {Index:69 Term:1 Command:{Operation:Append Key:3 Value:x 3 3 y ClientID:5 ReqID:12}}
2019/06/13 18:42:46 [leader 3/1 applyRoutine] have applied LogEntry {Index:70 Term:1 Command:{Operation:Append Key:2 Value:x 2 2 y ClientID:3 ReqID:12}}
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 y], CommandIndex 70
2019/06/13 18:42:46 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y ClientID:4 RepID:16}
2019/06/13 18:42:46 [Clerk 4 Get] succ replicate command to replicated state machine
2019/06/13 18:42:46 1: client new get 1
2019/06/13 18:42:46 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:17} to KVServer 1
2019/06/13 18:42:46 [Clerk 5 PutAppend] RPC succ, Append 3 x 3 3 y, reply = {WrongLeader:false Err: ClientID:5 RepID:12}
2019/06/13 18:42:46 [Clerk 5 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:46 3: client new get 3
2019/06/13 18:42:46 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:13} to KVServer 4
2019/06/13 18:42:46 [Clerk 2 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y ClientID:2 RepID:15}
2019/06/13 18:42:46 [Clerk 2 Get] succ replicate command to replicated state machine
2019/06/13 18:42:46 0: client new get 0
2019/06/13 18:42:46 [Clerk 3 PutAppend] RPC succ, Append 2 x 2 2 y, reply = {WrongLeader:false Err: ClientID:3 RepID:12}
2019/06/13 18:42:46 [Clerk 3 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:46 2: client new get 2
2019/06/13 18:42:46 [Clerk 2 Get] args = {Key:0 ClientID:2 ReqID:16} to KVServer 0
2019/06/13 18:42:46 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:13} to KVServer 3
2019/06/13 18:42:46 [KVServer 3 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:17}
2019/06/13 18:42:46 [leader 3/1 Start] receive client request {Get 1  4 17}
2019/06/13 18:42:46 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:4 ReqID:17}, logIndex = 71
2019/06/13 18:42:46 [KVServer 3 Get] RPC handler, args = {Key:0 ClientID:2 ReqID:16}
2019/06/13 18:42:46 [leader 3/1 Start] receive client request {Get 0  2 16}
2019/06/13 18:42:46 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:2 ReqID:16}, logIndex = 72
2019/06/13 18:42:46 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:13}
2019/06/13 18:42:46 [leader 3/1 Start] receive client request {Get 3  5 13}
2019/06/13 18:42:46 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:13}, logIndex = 73
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 2
2019/06/13 18:42:46 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:13}
2019/06/13 18:42:46 [leader 3/1 Start] receive client request {Get 2  3 13}
2019/06/13 18:42:46 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:13}, logIndex = 74
2019/06/13 18:42:46 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 3
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 4
2019/06/13 18:42:46 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [leader 3/1 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:46 [leader 3/1 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 0
2019/06/13 18:42:46 [leader 3/1 sendAndWaitInstallSnapshotRPC] come across newer term 4back to follower
2019/06/13 18:42:46 FFFF[follower 0/1 AppendEntries] have commit [{0 0 -1} {63 1 {Get 1  4 15}} {64 1 {Append 4 x 4 2 y 6 10}} {65 1 {Append 0 x 0 6 y 2 14}} {66 1 {Get 4  6 11}} {67 1 {Get 1  4 16}} {68 1 {Get 0  2 15}} {69 1 {Append 3 x 3 3 y 5 12}} {70 1 {Append 2 x 2 2 y 3 12}}], and commitIndex have updated to 71
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:66 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:11}}
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 66
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 67
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:67 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:16}}
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:68 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:15}}
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y], CommandIndex 68
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 69
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:69 Term:1 Command:{Operation:Append Key:3 Value:x 3 3 y ClientID:5 ReqID:12}}
2019/06/13 18:42:46 [follower 0/1 applyRoutine] have applied LogEntry {Index:70 Term:1 Command:{Operation:Append Key:2 Value:x 2 2 y ClientID:3 ReqID:12}}
2019/06/13 18:42:46 [KVServer 0 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 y], CommandIndex 70
2019/06/13 18:42:46 FFFF[follower 1/1 AppendEntries] have commit [{0 0 -1} {63 1 {Get 1  4 15}} {64 1 {Append 4 x 4 2 y 6 10}} {65 1 {Append 0 x 0 6 y 2 14}} {66 1 {Get 4  6 11}} {67 1 {Get 1  4 16}} {68 1 {Get 0  2 15}} {69 1 {Append 3 x 3 3 y 5 12}} {70 1 {Append 2 x 2 2 y 3 12}}], and commitIndex have updated to 71
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:66 Term:1 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:11}}
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 66
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 67
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:67 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:16}}
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:68 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:15}}
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y], CommandIndex 68
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 69
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:69 Term:1 Command:{Operation:Append Key:3 Value:x 3 3 y ClientID:5 ReqID:12}}
2019/06/13 18:42:46 [follower 1/1 applyRoutine] have applied LogEntry {Index:70 Term:1 Command:{Operation:Append Key:2 Value:x 2 2 y ClientID:3 ReqID:12}}
2019/06/13 18:42:46 [KVServer 1 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 y], CommandIndex 70
2019/06/13 18:42:46 [KVServer 2 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 1
2019/06/13 18:42:46 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 2
2019/06/13 18:42:46 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [candidate 4/5 electionEventLoop] timeout, start the election
2019/06/13 18:42:46 [follower 0/1 RequestVote] come across newer term 5, back to follower
2019/06/13 18:42:46 [follower 1/1 RequestVote] come across newer term 5, back to follower
2019/06/13 18:42:46 [follower 3/4 RequestVote] come across newer term 5, back to follower
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 3
2019/06/13 18:42:46 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [candidate 2/2 electionEventLoop] timeout, start the election
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 4
2019/06/13 18:42:46 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 0
2019/06/13 18:42:46 [KVServer 2 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 1
2019/06/13 18:42:46 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 2
2019/06/13 18:42:46 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 3
2019/06/13 18:42:46 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 4
2019/06/13 18:42:46 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 0
2019/06/13 18:42:46 [KVServer 2 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [candidate 1/6 electionEventLoop] timeout, start the election
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 1
2019/06/13 18:42:46 [follower 4/5 RequestVote] come across newer term 6, back to follower
2019/06/13 18:42:46 [follower 4/6 RequestVote] vote for candidate 1
2019/06/13 18:42:46 [follower 3/5 RequestVote] come across newer term 6, back to follower
2019/06/13 18:42:46 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 2
2019/06/13 18:42:46 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [follower 0/5 RequestVote] come across newer term 6, back to follower
2019/06/13 18:42:46 [follower 0/6 RequestVote] vote for candidate 1
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 3
2019/06/13 18:42:46 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 4
2019/06/13 18:42:46 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 0
2019/06/13 18:42:46 [KVServer 2 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 1
2019/06/13 18:42:46 [candidate 3/7 electionEventLoop] timeout, start the election
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 2
2019/06/13 18:42:46 [follower 1/6 RequestVote] come across newer term 7, back to follower
2019/06/13 18:42:46 [follower 4/6 RequestVote] come across newer term 7, back to follower
2019/06/13 18:42:46 [follower 1/7 RequestVote] vote for candidate 3
2019/06/13 18:42:46 [follower 4/7 RequestVote] vote for candidate 3
2019/06/13 18:42:46 [leader 3/7 becomeLeader] win the election, become leader
2019/06/13 18:42:46 [leader 3/7 leaderEventLoop] start sending heartbeat
2019/06/13 18:42:46 [follower 0/6 RequestVote] come across newer term 7, back to follower
2019/06/13 18:42:46 [follower 0/7 RequestVote] vote for candidate 3
2019/06/13 18:42:46 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [candidate 2/3 electionEventLoop] timeout, start the election
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 3
2019/06/13 18:42:46 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 4
2019/06/13 18:42:46 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [leader 3/7 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 0
2019/06/13 18:42:46 [follower 4/7 InstallSnapshot] RPC handler, rf.ss = {LastIncludedIndex:66 LastIncludedTerm:1 StateMachineState:map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y 1:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y 2:x 2 0 yx 2 1 y 3:x 3 0 yx 3 1 yx 3 2 y 4:x 4 0 yx 4 1 yx 4 2 y]}, rf.logs = [{0 0 -1}]
2019/06/13 18:42:46 [KVServer 4 readApplyCh] update snapshot, kv.kvs = map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y 1:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y 2:x 2 0 yx 2 1 y 3:x 3 0 yx 3 1 yx 3 2 y 4:x 4 0 yx 4 1 yx 4 2 y]
2019/06/13 18:42:46 [KVServer 2 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 1
2019/06/13 18:42:46 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:46 [leader 3/7 Start] receive client request {Get 4  6 11}
2019/06/13 18:42:46 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:6 ReqID:11}, logIndex = 75
2019/06/13 18:42:46 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{75 7 {Get 4  6 11}}] to peer 0 succ
2019/06/13 18:42:46 [leader 3/7 calcCommitIndex] follower 0, ai 75, i 9, rf.commit 71
2019/06/13 18:42:46 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 75's quorum 2
2019/06/13 18:42:46 [leader 3/7 calcCommitIndex] follower 0, ai 74, i 8, rf.commit 71
2019/06/13 18:42:46 [leader 3/7 calcCommitIndex] follower 0, only count my term, currentTerm = 7, rf.logs[i] = {Index:74 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:13}}
2019/06/13 18:42:46 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{75 7 {Get 4  6 11}}] to peer 1 succ
2019/06/13 18:42:46 [leader 3/7 calcCommitIndex] follower 1, ai 75, i 9, rf.commit 71
2019/06/13 18:42:46 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 75's quorum 3
2019/06/13 18:42:46 LLLL[leader 3/7 sendAndWaitAppendEntriesRPC] update commitIndex to 76
2019/06/13 18:42:46 [leader 3/7 applyRoutine] have applied LogEntry {Index:71 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:17}}
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 71
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y], CommandIndex 72
2019/06/13 18:42:46 [leader 3/7 applyRoutine] have applied LogEntry {Index:72 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:16}}
2019/06/13 18:42:46 [leader 3/7 applyRoutine] have applied LogEntry {Index:73 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:13}}
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 73
2019/06/13 18:42:46 [KVServer 3 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 y], CommandIndex 74
2019/06/13 18:42:46 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y ClientID:4 RepID:17}
2019/06/13 18:42:46 [Clerk 4 Get] succ replicate command to replicated state machine
2019/06/13 18:42:46 1: client new append x 1 7 y
2019/06/13 18:42:46 [Clerk 2 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y ClientID:2 RepID:16}
2019/06/13 18:42:46 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 7 y Op:Append ClientID:4 ReqID:18} to KVServer 1
2019/06/13 18:42:46 [Clerk 2 Get] succ replicate command to replicated state machine
2019/06/13 18:42:46 0: client new append x 0 7 y
2019/06/13 18:42:46 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 yx 2 2 y ClientID:3 RepID:13}
2019/06/13 18:42:46 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 7 y Op:Append ClientID:2 ReqID:17} to KVServer 0
2019/06/13 18:42:46 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 yx 3 3 y ClientID:5 RepID:13}
2019/06/13 18:42:46 [Clerk 5 Get] succ replicate command to replicated state machine
2019/06/13 18:42:46 3: client new get 3
2019/06/13 18:42:46 [leader 3/7 applyRoutine] have applied LogEntry {Index:74 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:13}}
2019/06/13 18:42:46 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:14} to KVServer 4
2019/06/13 18:42:46 [leader 3/7 applyRoutine] have applied LogEntry {Index:75 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:11}}
2019/06/13 18:42:46 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:46 2: client new append x 2 3 y
2019/06/13 18:42:46 [Clerk 3 PutAppend] args = {Key:2 Value:x 2 3 y Op:Append ClientID:3 ReqID:14} to KVServer 3
2019/06/13 18:42:46 FFFF[follower 4/7 AppendEntries] have commit [{0 0 -1} {67 1 {Get 1  4 16}} {68 1 {Get 0  2 15}} {69 1 {Append 3 x 3 3 y 5 12}} {70 1 {Append 2 x 2 2 y 3 12}}], and commitIndex have updated to 71
2019/06/13 18:42:46 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{67 1 {Get 1  4 16}} {68 1 {Get 0  2 15}} {69 1 {Append 3 x 3 3 y 5 12}} {70 1 {Append 2 x 2 2 y 3 12}} {71 1 {Get 1  4 17}} {72 1 {Get 0  2 16}} {73 1 {Get 3  5 13}} {74 1 {Get 2  3 13}} {75 7 {Get 4  6 11}}] to peer 4 succ
2019/06/13 18:42:46 [leader 3/7 Start] receive client request {Append 2 x 2 3 y 3 14}
2019/06/13 18:42:46 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 3 y ClientID:3 ReqID:14}, logIndex = 76
2019/06/13 18:42:46 [leader 3/7 Start] receive client request {Append 0 x 0 7 y 2 17}
2019/06/13 18:42:46 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 7 y ClientID:2 ReqID:17}, logIndex = 77
2019/06/13 18:42:46 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 2
2019/06/13 18:42:46 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 7 y Op:Append ClientID:4 ReqID:18} to KVServer 2
2019/06/13 18:42:47 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:14}
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Get 3  5 14}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:14}, logIndex = 78
2019/06/13 18:42:47 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:47 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:47 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:47 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 3
2019/06/13 18:42:47 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 7 y Op:Append ClientID:4 ReqID:18} to KVServer 3
2019/06/13 18:42:47 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:47 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:47 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:47 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 4
2019/06/13 18:42:47 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 7 y Op:Append ClientID:4 ReqID:18} to KVServer 4
2019/06/13 18:42:47 FFFF[follower 1/7 AppendEntries] have commit [{0 0 -1} {63 1 {Get 1  4 15}} {64 1 {Append 4 x 4 2 y 6 10}} {65 1 {Append 0 x 0 6 y 2 14}} {66 1 {Get 4  6 11}} {67 1 {Get 1  4 16}} {68 1 {Get 0  2 15}} {69 1 {Append 3 x 3 3 y 5 12}} {70 1 {Append 2 x 2 2 y 3 12}} {71 1 {Get 1  4 17}} {72 1 {Get 0  2 16}} {73 1 {Get 3  5 13}} {74 1 {Get 2  3 13}} {75 7 {Get 4  6 11}}], and commitIndex have updated to 76
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:71 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:17}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 71
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{76 7 {Append 2 x 2 3 y 3 14}} {77 7 {Append 0 x 0 7 y 2 17}} {78 7 {Get 3  5 14}}] to peer 1 succ
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y], CommandIndex 72
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 1, ai 78, i 12, rf.commit 76
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 78's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 1, ai 77, i 11, rf.commit 76
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 77's quorum 2
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:72 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:16}}
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 1, ai 76, i 10, rf.commit 76
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 76's quorum 2
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:73 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:13}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 73
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 y], CommandIndex 74
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:74 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:13}}
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:75 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:11}}
2019/06/13 18:42:47 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:47 FFFF[follower 0/7 AppendEntries] have commit [{0 0 -1} {63 1 {Get 1  4 15}} {64 1 {Append 4 x 4 2 y 6 10}} {65 1 {Append 0 x 0 6 y 2 14}} {66 1 {Get 4  6 11}} {67 1 {Get 1  4 16}} {68 1 {Get 0  2 15}} {69 1 {Append 3 x 3 3 y 5 12}} {70 1 {Append 2 x 2 2 y 3 12}} {71 1 {Get 1  4 17}} {72 1 {Get 0  2 16}} {73 1 {Get 3  5 13}} {74 1 {Get 2  3 13}} {75 7 {Get 4  6 11}}], and commitIndex have updated to 76
2019/06/13 18:42:47 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:71 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:17}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 71
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y], CommandIndex 72
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:72 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:16}}
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:73 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:13}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 73
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 y], CommandIndex 74
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:74 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:13}}
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{76 7 {Append 2 x 2 3 y 3 14}} {77 7 {Append 0 x 0 7 y 2 17}} {78 7 {Get 3  5 14}}] to peer 0 succ
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 78, i 12, rf.commit 76
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 78's quorum 3
2019/06/13 18:42:47 LLLL[leader 3/7 sendAndWaitAppendEntriesRPC] update commitIndex to 79
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:75 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:11}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 y], CommandIndex 76
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:76 Term:7 Command:{Operation:Append Key:2 Value:x 2 3 y ClientID:3 ReqID:14}}
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:77 Term:7 Command:{Operation:Append Key:0 Value:x 0 7 y ClientID:2 ReqID:17}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 y], CommandIndex 77
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 78
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:78 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:14}}
2019/06/13 18:42:47 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 7 y, reply = {WrongLeader:false Err: ClientID:2 RepID:17}
2019/06/13 18:42:47 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 yx 3 3 y ClientID:5 RepID:14}
2019/06/13 18:42:47 [Clerk 2 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 [Clerk 5 Get] succ replicate command to replicated state machine
2019/06/13 18:42:47 0: client new append x 0 8 y
2019/06/13 18:42:47 3: client new append x 3 4 y
2019/06/13 18:42:47 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 8 y Op:Append ClientID:2 ReqID:18} to KVServer 0
2019/06/13 18:42:47 [Clerk 5 PutAppend] args = {Key:3 Value:x 3 4 y Op:Append ClientID:5 ReqID:15} to KVServer 4
2019/06/13 18:42:47 [Clerk 3 PutAppend] RPC succ, Append 2 x 2 3 y, reply = {WrongLeader:false Err: ClientID:3 RepID:14}
2019/06/13 18:42:47 [Clerk 3 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 2: client new get 2
2019/06/13 18:42:47 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:15} to KVServer 3
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 3 x 3 4 y 5 15}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 4 y ClientID:5 ReqID:15}, logIndex = 79
2019/06/13 18:42:47 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 0
2019/06/13 18:42:47 FFFF[follower 4/7 AppendEntries] have commit [{0 0 -1} {67 1 {Get 1  4 16}} {68 1 {Get 0  2 15}} {69 1 {Append 3 x 3 3 y 5 12}} {70 1 {Append 2 x 2 2 y 3 12}} {71 1 {Get 1  4 17}} {72 1 {Get 0  2 16}} {73 1 {Get 3  5 13}} {74 1 {Get 2  3 13}} {75 7 {Get 4  6 11}}], and commitIndex have updated to 76
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:71 Term:1 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:17}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 71
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y], CommandIndex 72
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:72 Term:1 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:16}}
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:73 Term:1 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:13}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 y], CommandIndex 73
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{76 7 {Append 2 x 2 3 y 3 14}} {77 7 {Append 0 x 0 7 y 2 17}} {78 7 {Get 3  5 14}}] to peer 4 succ
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 y], CommandIndex 74
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:74 Term:1 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:13}}
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:75 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:11}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 75
2019/06/13 18:42:47 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 8 y Op:Append ClientID:2 ReqID:18} to KVServer 1
2019/06/13 18:42:47 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:15}
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Get 2  3 15}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:15}, logIndex = 80
2019/06/13 18:42:47 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 8 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:47 [KVServer 2 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:47 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:47 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 7 y Op:Append ClientID:4 ReqID:18} to KVServer 0
2019/06/13 18:42:47 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 8 y Op:Append ClientID:2 ReqID:18} to KVServer 2
2019/06/13 18:42:47 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:11} to KVServer 1
2019/06/13 18:42:47 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:47 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:11}
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Get 4  6 11}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:6 ReqID:11}, logIndex = 81
2019/06/13 18:42:47 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 7 y Op:Append ClientID:4 ReqID:18} to KVServer 1
2019/06/13 18:42:47 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 8 y Op:Append ClientID:2 ReqID:18} to KVServer 3
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 1 x 1 7 y 4 18}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 7 y ClientID:4 ReqID:18}, logIndex = 82
2019/06/13 18:42:47 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 8 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:47 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 8 y Op:Append ClientID:2 ReqID:18} to KVServer 4
2019/06/13 18:42:47 FFFF[follower 1/7 AppendEntries] have commit [{0 0 -1} {63 1 {Get 1  4 15}} {64 1 {Append 4 x 4 2 y 6 10}} {65 1 {Append 0 x 0 6 y 2 14}} {66 1 {Get 4  6 11}} {67 1 {Get 1  4 16}} {68 1 {Get 0  2 15}} {69 1 {Append 3 x 3 3 y 5 12}} {70 1 {Append 2 x 2 2 y 3 12}} {71 1 {Get 1  4 17}} {72 1 {Get 0  2 16}} {73 1 {Get 3  5 13}} {74 1 {Get 2  3 13}} {75 7 {Get 4  6 11}} {76 7 {Append 2 x 2 3 y 3 14}} {77 7 {Append 0 x 0 7 y 2 17}} {78 7 {Get 3  5 14}}], and commitIndex have updated to 79
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:76 Term:7 Command:{Operation:Append Key:2 Value:x 2 3 y ClientID:3 ReqID:14}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 y], CommandIndex 76
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 y], CommandIndex 77
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:77 Term:7 Command:{Operation:Append Key:0 Value:x 0 7 y ClientID:2 ReqID:17}}
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:78 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:14}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 78
2019/06/13 18:42:47 [candidate 2/4 electionEventLoop] timeout, start the election
2019/06/13 18:42:47 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 8 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:47 FFFF[follower 0/7 AppendEntries] have commit [{0 0 -1} {63 1 {Get 1  4 15}} {64 1 {Append 4 x 4 2 y 6 10}} {65 1 {Append 0 x 0 6 y 2 14}} {66 1 {Get 4  6 11}} {67 1 {Get 1  4 16}} {68 1 {Get 0  2 15}} {69 1 {Append 3 x 3 3 y 5 12}} {70 1 {Append 2 x 2 2 y 3 12}} {71 1 {Get 1  4 17}} {72 1 {Get 0  2 16}} {73 1 {Get 3  5 13}} {74 1 {Get 2  3 13}} {75 7 {Get 4  6 11}} {76 7 {Append 2 x 2 3 y 3 14}} {77 7 {Append 0 x 0 7 y 2 17}} {78 7 {Get 3  5 14}}], and commitIndex have updated to 79
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:76 Term:7 Command:{Operation:Append Key:2 Value:x 2 3 y ClientID:3 ReqID:14}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 y], CommandIndex 76
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 y], CommandIndex 77
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:77 Term:7 Command:{Operation:Append Key:0 Value:x 0 7 y ClientID:2 ReqID:17}}
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:78 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:14}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 78
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{79 7 {Append 3 x 3 4 y 5 15}} {80 7 {Get 2  3 15}} {81 7 {Get 4  6 11}} {82 7 {Append 1 x 1 7 y 4 18}}] to peer 0 succ
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 82, i 16, rf.commit 79
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 82's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 81, i 15, rf.commit 79
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 81's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 80, i 14, rf.commit 79
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 80's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 79, i 13, rf.commit 79
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 79's quorum 2
2019/06/13 18:42:47 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 8 y Op:Append ClientID:2 ReqID:18} to KVServer 0
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 0 x 0 8 y 2 18}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 8 y ClientID:2 ReqID:18}, logIndex = 83
2019/06/13 18:42:47 FFFF[follower 4/7 AppendEntries] have commit [{0 0 -1} {67 1 {Get 1  4 16}} {68 1 {Get 0  2 15}} {69 1 {Append 3 x 3 3 y 5 12}} {70 1 {Append 2 x 2 2 y 3 12}} {71 1 {Get 1  4 17}} {72 1 {Get 0  2 16}} {73 1 {Get 3  5 13}} {74 1 {Get 2  3 13}} {75 7 {Get 4  6 11}} {76 7 {Append 2 x 2 3 y 3 14}} {77 7 {Append 0 x 0 7 y 2 17}} {78 7 {Get 3  5 14}}], and commitIndex have updated to 79
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:76 Term:7 Command:{Operation:Append Key:2 Value:x 2 3 y ClientID:3 ReqID:14}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 3 y], CommandIndex 76
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 y], CommandIndex 77
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{79 7 {Append 3 x 3 4 y 5 15}} {80 7 {Get 2  3 15}} {81 7 {Get 4  6 11}} {82 7 {Append 1 x 1 7 y 4 18}} {83 7 {Append 0 x 0 8 y 2 18}}] to peer 1 succ
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 1, ai 83, i 17, rf.commit 79
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:77 Term:7 Command:{Operation:Append Key:0 Value:x 0 7 y ClientID:2 ReqID:17}}
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 83's quorum 2
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:78 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:14}}
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 1, ai 82, i 16, rf.commit 79
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 82's quorum 3
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 y], CommandIndex 78
2019/06/13 18:42:47 LLLL[leader 3/7 sendAndWaitAppendEntriesRPC] update commitIndex to 83
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:79 Term:7 Command:{Operation:Append Key:3 Value:x 3 4 y ClientID:5 ReqID:15}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 y], CommandIndex 79
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 y], CommandIndex 80
2019/06/13 18:42:47 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 yx 2 2 yx 2 3 y ClientID:3 RepID:15}
2019/06/13 18:42:47 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:47 2: client new append x 2 4 y
2019/06/13 18:42:47 [Clerk 3 PutAppend] args = {Key:2 Value:x 2 4 y Op:Append ClientID:3 ReqID:16} to KVServer 3
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:80 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:15}}
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:81 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:11}}
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{79 7 {Append 3 x 3 4 y 5 15}} {80 7 {Get 2  3 15}} {81 7 {Get 4  6 11}} {82 7 {Append 1 x 1 7 y 4 18}} {83 7 {Append 0 x 0 8 y 2 18}}] to peer 4 succ
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 4, ai 83, i 17, rf.commit 83
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[4] = 83's quorum 3
2019/06/13 18:42:47 LLLL[leader 3/7 sendAndWaitAppendEntriesRPC] update commitIndex to 84
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 y], CommandIndex 82
2019/06/13 18:42:47 [Clerk 5 PutAppend] RPC succ, Append 3 x 3 4 y, reply = {WrongLeader:false Err: ClientID:5 RepID:15}
2019/06/13 18:42:47 [Clerk 5 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 3: client new get 3
2019/06/13 18:42:47 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:16} to KVServer 4
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:82 Term:7 Command:{Operation:Append Key:1 Value:x 1 7 y ClientID:4 ReqID:18}}
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:83 Term:7 Command:{Operation:Append Key:0 Value:x 0 8 y ClientID:2 ReqID:18}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 83
2019/06/13 18:42:47 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 yx 4 2 y ClientID:6 RepID:11}
2019/06/13 18:42:47 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 7 y, reply = {WrongLeader:false Err: ClientID:4 RepID:18}
2019/06/13 18:42:47 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 1: client new append x 1 8 y
2019/06/13 18:42:47 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 8 y Op:Append ClientID:4 ReqID:19} to KVServer 1
2019/06/13 18:42:47 [Clerk 6 Get] succ replicate command to replicated state machine
2019/06/13 18:42:47 4: client new get 4
2019/06/13 18:42:47 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:12} to KVServer 1
2019/06/13 18:42:47 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:16}
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Get 3  5 16}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:16}, logIndex = 84
2019/06/13 18:42:47 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 8 y Op:Append ClientID:2 ReqID:18} to KVServer 1
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 1 x 1 8 y 4 19}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 8 y ClientID:4 ReqID:19}, logIndex = 85
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 2 x 2 4 y 3 16}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 4 y ClientID:3 ReqID:16}, logIndex = 86
2019/06/13 18:42:47 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 8 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:47 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 8 y Op:Append ClientID:2 ReqID:18} to KVServer 2
2019/06/13 18:42:47 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:12} to KVServer 2
2019/06/13 18:42:47 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:12}
2019/06/13 18:42:47 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:47 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:12} to KVServer 3
2019/06/13 18:42:47 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 8 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:47 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:12}
2019/06/13 18:42:47 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:47 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 8 y Op:Append ClientID:2 ReqID:18} to KVServer 3
2019/06/13 18:42:47 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:12} to KVServer 4
2019/06/13 18:42:47 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 8 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:47 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:12}
2019/06/13 18:42:47 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:47 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 8 y Op:Append ClientID:2 ReqID:18} to KVServer 4
2019/06/13 18:42:47 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:12} to KVServer 0
2019/06/13 18:42:47 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 8 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:47 FFFF[follower 4/7 AppendEntries] have commit [{0 0 -1} {67 1 {Get 1  4 16}} {68 1 {Get 0  2 15}} {69 1 {Append 3 x 3 3 y 5 12}} {70 1 {Append 2 x 2 2 y 3 12}} {71 1 {Get 1  4 17}} {72 1 {Get 0  2 16}} {73 1 {Get 3  5 13}} {74 1 {Get 2  3 13}} {75 7 {Get 4  6 11}} {76 7 {Append 2 x 2 3 y 3 14}} {77 7 {Append 0 x 0 7 y 2 17}} {78 7 {Get 3  5 14}} {79 7 {Append 3 x 3 4 y 5 15}} {80 7 {Get 2  3 15}} {81 7 {Get 4  6 11}} {82 7 {Append 1 x 1 7 y 4 18}} {83 7 {Append 0 x 0 8 y 2 18}}], and commitIndex have updated to 84
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{84 7 {Get 3  5 16}} {85 7 {Append 1 x 1 8 y 4 19}} {86 7 {Append 2 x 2 4 y 3 16}}] to peer 4 succ
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 4, ai 86, i 20, rf.commit 84
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[4] = 86's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 4, ai 85, i 19, rf.commit 84
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[4] = 85's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 4, ai 84, i 18, rf.commit 84
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[4] = 84's quorum 2
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:79 Term:7 Command:{Operation:Append Key:3 Value:x 3 4 y ClientID:5 ReqID:15}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 4 y], CommandIndex 79
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 3 y], CommandIndex 80
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:80 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:15}}
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:81 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:11}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 y], CommandIndex 82
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:82 Term:7 Command:{Operation:Append Key:1 Value:x 1 7 y ClientID:4 ReqID:18}}
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:83 Term:7 Command:{Operation:Append Key:0 Value:x 0 8 y ClientID:2 ReqID:18}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 83
2019/06/13 18:42:47 [candidate 2/4 AppendEntries] come across newer term 7, back to follower
2019/06/13 18:42:47 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 8 y Op:Append ClientID:2 ReqID:18} to KVServer 0
2019/06/13 18:42:47 FFFF[follower 0/7 AppendEntries] have commit [{0 0 -1} {63 1 {Get 1  4 15}} {64 1 {Append 4 x 4 2 y 6 10}} {65 1 {Append 0 x 0 6 y 2 14}} {66 1 {Get 4  6 11}} {67 1 {Get 1  4 16}} {68 1 {Get 0  2 15}} {69 1 {Append 3 x 3 3 y 5 12}} {70 1 {Append 2 x 2 2 y 3 12}} {71 1 {Get 1  4 17}} {72 1 {Get 0  2 16}} {73 1 {Get 3  5 13}} {74 1 {Get 2  3 13}} {75 7 {Get 4  6 11}} {76 7 {Append 2 x 2 3 y 3 14}} {77 7 {Append 0 x 0 7 y 2 17}} {78 7 {Get 3  5 14}} {79 7 {Append 3 x 3 4 y 5 15}} {80 7 {Get 2  3 15}} {81 7 {Get 4  6 11}} {82 7 {Append 1 x 1 7 y 4 18}} {83 7 {Append 0 x 0 8 y 2 18}}], and commitIndex have updated to 84
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:79 Term:7 Command:{Operation:Append Key:3 Value:x 3 4 y ClientID:5 ReqID:15}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 y], CommandIndex 79
2019/06/13 18:42:47 [KVServer 0 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1088
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{83 7 {Append 0 x 0 8 y 2 18}} {84 7 {Get 3  5 16}} {85 7 {Append 1 x 1 8 y 4 19}} {86 7 {Append 2 x 2 4 y 3 16}}] to peer 0 succ
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 86, i 20, rf.commit 84
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 86's quorum 3
2019/06/13 18:42:47 LLLL[leader 3/7 sendAndWaitAppendEntriesRPC] update commitIndex to 87
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:84 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:16}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 y], CommandIndex 80
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:80 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:15}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 y], CommandIndex 84
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:81 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:11}}
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:85 Term:7 Command:{Operation:Append Key:1 Value:x 1 8 y ClientID:4 ReqID:19}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 y], CommandIndex 85
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 y], CommandIndex 82
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:86 Term:7 Command:{Operation:Append Key:2 Value:x 2 4 y ClientID:3 ReqID:16}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 y], CommandIndex 86
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:82 Term:7 Command:{Operation:Append Key:1 Value:x 1 7 y ClientID:4 ReqID:18}}
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:83 Term:7 Command:{Operation:Append Key:0 Value:x 0 8 y ClientID:2 ReqID:18}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 83
2019/06/13 18:42:47 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 8 y, reply = {WrongLeader:false Err: ClientID:4 RepID:19}
2019/06/13 18:42:47 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 1: client new get 1
2019/06/13 18:42:47 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:20} to KVServer 1
2019/06/13 18:42:47 [Clerk 3 PutAppend] RPC succ, Append 2 x 2 4 y, reply = {WrongLeader:false Err: ClientID:3 RepID:16}
2019/06/13 18:42:47 [Clerk 3 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 2: client new append x 2 5 y
2019/06/13 18:42:47 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 y ClientID:5 RepID:16}
2019/06/13 18:42:47 [Clerk 5 Get] succ replicate command to replicated state machine
2019/06/13 18:42:47 3: client new get 3
2019/06/13 18:42:47 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:17} to KVServer 4
2019/06/13 18:42:47 [Clerk 3 PutAppend] args = {Key:2 Value:x 2 5 y Op:Append ClientID:3 ReqID:17} to KVServer 3
2019/06/13 18:42:47 [KVServer 2 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:12}
2019/06/13 18:42:47 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:47 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:12} to KVServer 1
2019/06/13 18:42:47 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:17}
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Get 3  5 17}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:17}, logIndex = 87
2019/06/13 18:42:47 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 8 y, reply = {WrongLeader:false Err:ErrDuplicateReq ClientID:0 RepID:0}
2019/06/13 18:42:47 [Clerk 2 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 0: client new append x 0 9 y
2019/06/13 18:42:47 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 9 y Op:Append ClientID:2 ReqID:19} to KVServer 0
2019/06/13 18:42:47 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:12}
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Get 4  6 12}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:6 ReqID:12}, logIndex = 88
2019/06/13 18:42:47 [KVServer 3 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:20}
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Get 1  4 20}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:4 ReqID:20}, logIndex = 89
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 2 x 2 5 y 3 17}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 5 y ClientID:3 ReqID:17}, logIndex = 90
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 0 x 0 9 y 2 19}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 9 y ClientID:2 ReqID:19}, logIndex = 91
2019/06/13 18:42:47 FFFF[follower 0/7 AppendEntries] have commit [{0 0 -1} {80 7 {Get 2  3 15}} {81 7 {Get 4  6 11}} {82 7 {Append 1 x 1 7 y 4 18}} {83 7 {Append 0 x 0 8 y 2 18}} {84 7 {Get 3  5 16}} {85 7 {Append 1 x 1 8 y 4 19}} {86 7 {Append 2 x 2 4 y 3 16}}], and commitIndex have updated to 87
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:84 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:16}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 y], CommandIndex 84
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 y], CommandIndex 85
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:85 Term:7 Command:{Operation:Append Key:1 Value:x 1 8 y ClientID:4 ReqID:19}}
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:86 Term:7 Command:{Operation:Append Key:2 Value:x 2 4 y ClientID:3 ReqID:16}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 y], CommandIndex 86
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{87 7 {Get 3  5 17}} {88 7 {Get 4  6 12}} {89 7 {Get 1  4 20}} {90 7 {Append 2 x 2 5 y 3 17}} {91 7 {Append 0 x 0 9 y 2 19}}] to peer 0 succ
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 91, i 25, rf.commit 87
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 91's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 90, i 24, rf.commit 87
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 90's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 89, i 23, rf.commit 87
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 89's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 88, i 22, rf.commit 87
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 88's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 87, i 21, rf.commit 87
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 87's quorum 2
2019/06/13 18:42:47 FFFF[follower 4/7 AppendEntries] have commit [{0 0 -1} {67 1 {Get 1  4 16}} {68 1 {Get 0  2 15}} {69 1 {Append 3 x 3 3 y 5 12}} {70 1 {Append 2 x 2 2 y 3 12}} {71 1 {Get 1  4 17}} {72 1 {Get 0  2 16}} {73 1 {Get 3  5 13}} {74 1 {Get 2  3 13}} {75 7 {Get 4  6 11}} {76 7 {Append 2 x 2 3 y 3 14}} {77 7 {Append 0 x 0 7 y 2 17}} {78 7 {Get 3  5 14}} {79 7 {Append 3 x 3 4 y 5 15}} {80 7 {Get 2  3 15}} {81 7 {Get 4  6 11}} {82 7 {Append 1 x 1 7 y 4 18}} {83 7 {Append 0 x 0 8 y 2 18}} {84 7 {Get 3  5 16}} {85 7 {Append 1 x 1 8 y 4 19}} {86 7 {Append 2 x 2 4 y 3 16}}], and commitIndex have updated to 87
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:84 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:16}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 4 y], CommandIndex 84
2019/06/13 18:42:47 [KVServer 4 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1122
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{87 7 {Get 3  5 17}} {88 7 {Get 4  6 12}} {89 7 {Get 1  4 20}} {90 7 {Append 2 x 2 5 y 3 17}} {91 7 {Append 0 x 0 9 y 2 19}}] to peer 4 succ
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 4, ai 91, i 25, rf.commit 87
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[4] = 91's quorum 3
2019/06/13 18:42:47 LLLL[leader 3/7 sendAndWaitAppendEntriesRPC] update commitIndex to 92
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:87 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:17}}
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:85 Term:7 Command:{Operation:Append Key:1 Value:x 1 8 y ClientID:4 ReqID:19}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 y], CommandIndex 87
2019/06/13 18:42:47 [KVServer 3 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1122
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 y], CommandIndex 85
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 y], CommandIndex 86
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:86 Term:7 Command:{Operation:Append Key:2 Value:x 2 4 y ClientID:3 ReqID:16}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 88
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:88 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:12}}
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:89 Term:7 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:20}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 y], CommandIndex 89
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 90
2019/06/13 18:42:47 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 yx 4 2 y ClientID:6 RepID:12}
2019/06/13 18:42:47 [Clerk 6 Get] succ replicate command to replicated state machine
2019/06/13 18:42:47 4: client new append x 4 3 y
2019/06/13 18:42:47 [Clerk 6 PutAppend] args = {Key:4 Value:x 4 3 y Op:Append ClientID:6 ReqID:13} to KVServer 1
2019/06/13 18:42:47 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 y ClientID:5 RepID:17}
2019/06/13 18:42:47 [Clerk 5 Get] succ replicate command to replicated state machine
2019/06/13 18:42:47 3: client new append x 3 5 y
2019/06/13 18:42:47 [Clerk 5 PutAppend] args = {Key:3 Value:x 3 5 y Op:Append ClientID:5 ReqID:18} to KVServer 4
2019/06/13 18:42:47 [Clerk 3 PutAppend] RPC succ, Append 2 x 2 5 y, reply = {WrongLeader:false Err: ClientID:3 RepID:17}
2019/06/13 18:42:47 [Clerk 3 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 y ClientID:4 RepID:20}
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:90 Term:7 Command:{Operation:Append Key:2 Value:x 2 5 y ClientID:3 ReqID:17}}
2019/06/13 18:42:47 2: client new get 2
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:91 Term:7 Command:{Operation:Append Key:0 Value:x 0 9 y ClientID:2 ReqID:19}}
2019/06/13 18:42:47 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:18} to KVServer 3
2019/06/13 18:42:47 [Clerk 4 Get] succ replicate command to replicated state machine
2019/06/13 18:42:47 1: client new append x 1 9 y
2019/06/13 18:42:47 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 9 y Op:Append ClientID:4 ReqID:21} to KVServer 1
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y], CommandIndex 91
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 4 x 4 3 y 6 13}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 3 y ClientID:6 ReqID:13}, logIndex = 92
2019/06/13 18:42:47 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 9 y, reply = {WrongLeader:false Err: ClientID:2 RepID:19}
2019/06/13 18:42:47 [Clerk 2 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 0: client new get 0
2019/06/13 18:42:47 [Clerk 2 Get] args = {Key:0 ClientID:2 ReqID:20} to KVServer 0
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 1 x 1 9 y 4 21}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 9 y ClientID:4 ReqID:21}, logIndex = 93
2019/06/13 18:42:47 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:18}
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Get 2  3 18}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:18}, logIndex = 94
2019/06/13 18:42:47 FFFF[follower 1/7 AppendEntries] have commit [{0 0 -1} {63 1 {Get 1  4 15}} {64 1 {Append 4 x 4 2 y 6 10}} {65 1 {Append 0 x 0 6 y 2 14}} {66 1 {Get 4  6 11}} {67 1 {Get 1  4 16}} {68 1 {Get 0  2 15}} {69 1 {Append 3 x 3 3 y 5 12}} {70 1 {Append 2 x 2 2 y 3 12}} {71 1 {Get 1  4 17}} {72 1 {Get 0  2 16}} {73 1 {Get 3  5 13}} {74 1 {Get 2  3 13}} {75 7 {Get 4  6 11}} {76 7 {Append 2 x 2 3 y 3 14}} {77 7 {Append 0 x 0 7 y 2 17}} {78 7 {Get 3  5 14}} {79 7 {Append 3 x 3 4 y 5 15}} {80 7 {Get 2  3 15}} {81 7 {Get 4  6 11}} {82 7 {Append 1 x 1 7 y 4 18}} {83 7 {Append 0 x 0 8 y 2 18}} {84 7 {Get 3  5 16}} {85 7 {Append 1 x 1 8 y 4 19}} {86 7 {Append 2 x 2 4 y 3 16}}], and commitIndex have updated to 87
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 y], CommandIndex 79
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:79 Term:7 Command:{Operation:Append Key:3 Value:x 3 4 y ClientID:5 ReqID:15}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1277
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{84 7 {Get 3  5 16}} {85 7 {Append 1 x 1 8 y 4 19}} {86 7 {Append 2 x 2 4 y 3 16}} {87 7 {Get 3  5 17}} {88 7 {Get 4  6 12}} {89 7 {Get 1  4 20}} {90 7 {Append 2 x 2 5 y 3 17}} {91 7 {Append 0 x 0 9 y 2 19}}] to peer 1 succ
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 y], CommandIndex 80
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:80 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:15}}
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 3 x 3 5 y 5 18}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 5 y ClientID:5 ReqID:18}, logIndex = 95
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:81 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:11}}
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:82 Term:7 Command:{Operation:Append Key:1 Value:x 1 7 y ClientID:4 ReqID:18}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 y], CommandIndex 82
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 83
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:83 Term:7 Command:{Operation:Append Key:0 Value:x 0 8 y ClientID:2 ReqID:18}}
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:84 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:16}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 y], CommandIndex 84
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 y], CommandIndex 85
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:85 Term:7 Command:{Operation:Append Key:1 Value:x 1 8 y ClientID:4 ReqID:19}}
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:86 Term:7 Command:{Operation:Append Key:2 Value:x 2 4 y ClientID:3 ReqID:16}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 y], CommandIndex 86
2019/06/13 18:42:47 [KVServer 3 Get] RPC handler, args = {Key:0 ClientID:2 ReqID:20}
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Get 0  2 20}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:2 ReqID:20}, logIndex = 96
2019/06/13 18:42:47 [leader 3/7 sendAndWaitInstallSnapshotRPC]
labgob warning: Decoding into a non-default variable/field LastIncludedIndex may not work
2019/06/13 18:42:47 [follower 2/7 InstallSnapshot] RPC handler, rf.ss = {LastIncludedIndex:87 LastIncludedTerm:7 StateMachineState:map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y 1:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 y 2:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 y 3:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 y 4:x 4 0 yx 4 1 yx 4 2 y]}, rf.logs = [{0 0 -1}]
2019/06/13 18:42:47 [KVServer 2 readApplyCh] update snapshot, kv.kvs = map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 y 1:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y 2:x 2 0 yx 2 1 y 3:x 3 0 yx 3 1 yx 3 2 y 4:x 4 0 yx 4 1 y]
2019/06/13 18:42:47 FFFF[follower 1/7 AppendEntries] have commit [{0 0 -1} {80 7 {Get 2  3 15}} {81 7 {Get 4  6 11}} {82 7 {Append 1 x 1 7 y 4 18}} {83 7 {Append 0 x 0 8 y 2 18}} {84 7 {Get 3  5 16}} {85 7 {Append 1 x 1 8 y 4 19}} {86 7 {Append 2 x 2 4 y 3 16}} {87 7 {Get 3  5 17}} {88 7 {Get 4  6 12}} {89 7 {Get 1  4 20}} {90 7 {Append 2 x 2 5 y 3 17}} {91 7 {Append 0 x 0 9 y 2 19}}], and commitIndex have updated to 92
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:87 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:17}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 y], CommandIndex 87
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 88
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:88 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:12}}
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:89 Term:7 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:20}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 y], CommandIndex 89
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 90
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:90 Term:7 Command:{Operation:Append Key:2 Value:x 2 5 y ClientID:3 ReqID:17}}
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{92 7 {Append 4 x 4 3 y 6 13}} {93 7 {Append 1 x 1 9 y 4 21}} {94 7 {Get 2  3 18}} {95 7 {Append 3 x 3 5 y 5 18}} {96 7 {Get 0  2 20}}] to peer 1 succ
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y], CommandIndex 91
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 1, ai 96, i 9, rf.commit 92
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:91 Term:7 Command:{Operation:Append Key:0 Value:x 0 9 y ClientID:2 ReqID:19}}
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 96's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 1, ai 95, i 8, rf.commit 92
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 95's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 1, ai 94, i 7, rf.commit 92
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 94's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 1, ai 93, i 6, rf.commit 92
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 93's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 1, ai 92, i 5, rf.commit 92
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 92's quorum 2
2019/06/13 18:42:47 FFFF[follower 2/7 AppendEntries] have commit [{0 0 -1} {88 7 {Get 4  6 12}} {89 7 {Get 1  4 20}} {90 7 {Append 2 x 2 5 y 3 17}} {91 7 {Append 0 x 0 9 y 2 19}}], and commitIndex have updated to 92
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{88 7 {Get 4  6 12}} {89 7 {Get 1  4 20}} {90 7 {Append 2 x 2 5 y 3 17}} {91 7 {Append 0 x 0 9 y 2 19}} {92 7 {Append 4 x 4 3 y 6 13}} {93 7 {Append 1 x 1 9 y 4 21}} {94 7 {Get 2  3 18}} {95 7 {Append 3 x 3 5 y 5 18}} {96 7 {Get 0  2 20}}] to peer 2 succ
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 2, ai 96, i 9, rf.commit 92
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[2] = 96's quorum 3
2019/06/13 18:42:47 LLLL[leader 3/7 sendAndWaitAppendEntriesRPC] update commitIndex to 97
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:92 Term:7 Command:{Operation:Append Key:4 Value:x 4 3 y ClientID:6 ReqID:13}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 y], CommandIndex 92
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 y], CommandIndex 93
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:93 Term:7 Command:{Operation:Append Key:1 Value:x 1 9 y ClientID:4 ReqID:21}}
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:94 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:18}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 94
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 y], CommandIndex 95
2019/06/13 18:42:47 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 9 y, reply = {WrongLeader:false Err: ClientID:4 RepID:21}
2019/06/13 18:42:47 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 1: client new append x 1 10 y
2019/06/13 18:42:47 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 10 y Op:Append ClientID:4 ReqID:22} to KVServer 1
2019/06/13 18:42:47 [Clerk 6 PutAppend] RPC succ, Append 4 x 4 3 y, reply = {WrongLeader:false Err: ClientID:6 RepID:13}
2019/06/13 18:42:47 [Clerk 6 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 4: client new append x 4 4 y
2019/06/13 18:42:47 [Clerk 6 PutAppend] args = {Key:4 Value:x 4 4 y Op:Append ClientID:6 ReqID:14} to KVServer 1
2019/06/13 18:42:47 [Clerk 5 PutAppend] RPC succ, Append 3 x 3 5 y, reply = {WrongLeader:false Err: ClientID:5 RepID:18}
2019/06/13 18:42:47 [Clerk 5 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 3: client new get 3
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:95 Term:7 Command:{Operation:Append Key:3 Value:x 3 5 y ClientID:5 ReqID:18}}
2019/06/13 18:42:47 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:19} to KVServer 4
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:96 Term:7 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:20}}
2019/06/13 18:42:47 FFFF[follower 4/7 AppendEntries] have commit [{0 0 -1} {85 7 {Append 1 x 1 8 y 4 19}} {86 7 {Append 2 x 2 4 y 3 16}} {87 7 {Get 3  5 17}} {88 7 {Get 4  6 12}} {89 7 {Get 1  4 20}} {90 7 {Append 2 x 2 5 y 3 17}} {91 7 {Append 0 x 0 9 y 2 19}}], and commitIndex have updated to 92
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y], CommandIndex 96
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:87 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:17}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 4 y], CommandIndex 87
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 88
2019/06/13 18:42:47 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y ClientID:3 RepID:18}
2019/06/13 18:42:47 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:88 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:12}}
2019/06/13 18:42:47 2: client new get 2
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:89 Term:7 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:20}}
2019/06/13 18:42:47 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:19} to KVServer 3
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 y], CommandIndex 89
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 90
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{92 7 {Append 4 x 4 3 y 6 13}} {93 7 {Append 1 x 1 9 y 4 21}} {94 7 {Get 2  3 18}} {95 7 {Append 3 x 3 5 y 5 18}} {96 7 {Get 0  2 20}}] to peer 4 succ
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:90 Term:7 Command:{Operation:Append Key:2 Value:x 2 5 y ClientID:3 ReqID:17}}
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:91 Term:7 Command:{Operation:Append Key:0 Value:x 0 9 y ClientID:2 ReqID:19}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y], CommandIndex 91
2019/06/13 18:42:47 [Clerk 2 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y ClientID:2 RepID:20}
2019/06/13 18:42:47 [Clerk 2 Get] succ replicate command to replicated state machine
2019/06/13 18:42:47 0: client new get 0
2019/06/13 18:42:47 [Clerk 2 Get] args = {Key:0 ClientID:2 ReqID:21} to KVServer 0
2019/06/13 18:42:47 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:19}
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Get 2  3 19}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:19}, logIndex = 97
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 1 x 1 10 y 4 22}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 10 y ClientID:4 ReqID:22}, logIndex = 98
2019/06/13 18:42:47 FFFF[follower 0/7 AppendEntries] have commit [{0 0 -1} {80 7 {Get 2  3 15}} {81 7 {Get 4  6 11}} {82 7 {Append 1 x 1 7 y 4 18}} {83 7 {Append 0 x 0 8 y 2 18}} {84 7 {Get 3  5 16}} {85 7 {Append 1 x 1 8 y 4 19}} {86 7 {Append 2 x 2 4 y 3 16}} {87 7 {Get 3  5 17}} {88 7 {Get 4  6 12}} {89 7 {Get 1  4 20}} {90 7 {Append 2 x 2 5 y 3 17}} {91 7 {Append 0 x 0 9 y 2 19}}], and commitIndex have updated to 92
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:87 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:17}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 y], CommandIndex 87
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 88
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:88 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:12}}
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:89 Term:7 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:20}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 y], CommandIndex 89
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 90
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{92 7 {Append 4 x 4 3 y 6 13}} {93 7 {Append 1 x 1 9 y 4 21}} {94 7 {Get 2  3 18}} {95 7 {Append 3 x 3 5 y 5 18}} {96 7 {Get 0  2 20}}] to peer 0 succ
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:90 Term:7 Command:{Operation:Append Key:2 Value:x 2 5 y ClientID:3 ReqID:17}}
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:91 Term:7 Command:{Operation:Append Key:0 Value:x 0 9 y ClientID:2 ReqID:19}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y], CommandIndex 91
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 4 x 4 4 y 6 14}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 4 y ClientID:6 ReqID:14}, logIndex = 99
2019/06/13 18:42:47 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:19}
2019/06/13 18:42:47 [KVServer 3 Get] RPC handler, args = {Key:0 ClientID:2 ReqID:21}
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Get 3  5 19}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:19}, logIndex = 100
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Get 0  2 21}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:2 ReqID:21}, logIndex = 101
2019/06/13 18:42:47 FFFF[follower 0/7 AppendEntries] have commit [{0 0 -1} {80 7 {Get 2  3 15}} {81 7 {Get 4  6 11}} {82 7 {Append 1 x 1 7 y 4 18}} {83 7 {Append 0 x 0 8 y 2 18}} {84 7 {Get 3  5 16}} {85 7 {Append 1 x 1 8 y 4 19}} {86 7 {Append 2 x 2 4 y 3 16}} {87 7 {Get 3  5 17}} {88 7 {Get 4  6 12}} {89 7 {Get 1  4 20}} {90 7 {Append 2 x 2 5 y 3 17}} {91 7 {Append 0 x 0 9 y 2 19}} {92 7 {Append 4 x 4 3 y 6 13}} {93 7 {Append 1 x 1 9 y 4 21}} {94 7 {Get 2  3 18}} {95 7 {Append 3 x 3 5 y 5 18}} {96 7 {Get 0  2 20}}], and commitIndex have updated to 97
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:92 Term:7 Command:{Operation:Append Key:4 Value:x 4 3 y ClientID:6 ReqID:13}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 y], CommandIndex 92
2019/06/13 18:42:47 [KVServer 0 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1024
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{97 7 {Get 2  3 19}} {98 7 {Append 1 x 1 10 y 4 22}} {99 7 {Append 4 x 4 4 y 6 14}} {100 7 {Get 3  5 19}} {101 7 {Get 0  2 21}}] to peer 0 succ
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 101, i 14, rf.commit 97
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 101's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 100, i 13, rf.commit 97
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 100's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 99, i 12, rf.commit 97
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 99's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 98, i 11, rf.commit 97
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 98's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 97, i 10, rf.commit 97
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 97's quorum 2
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 y], CommandIndex 93
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:93 Term:7 Command:{Operation:Append Key:1 Value:x 1 9 y ClientID:4 ReqID:21}}
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:94 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:18}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 94
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 y], CommandIndex 95
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:95 Term:7 Command:{Operation:Append Key:3 Value:x 3 5 y ClientID:5 ReqID:18}}
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:96 Term:7 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:20}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y], CommandIndex 96
2019/06/13 18:42:47 FFFF[follower 4/7 AppendEntries] have commit [{0 0 -1} {85 7 {Append 1 x 1 8 y 4 19}} {86 7 {Append 2 x 2 4 y 3 16}} {87 7 {Get 3  5 17}} {88 7 {Get 4  6 12}} {89 7 {Get 1  4 20}} {90 7 {Append 2 x 2 5 y 3 17}} {91 7 {Append 0 x 0 9 y 2 19}} {92 7 {Append 4 x 4 3 y 6 13}} {93 7 {Append 1 x 1 9 y 4 21}} {94 7 {Get 2  3 18}} {95 7 {Append 3 x 3 5 y 5 18}} {96 7 {Get 0  2 20}}], and commitIndex have updated to 97
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:92 Term:7 Command:{Operation:Append Key:4 Value:x 4 3 y ClientID:6 ReqID:13}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 y], CommandIndex 92
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 y], CommandIndex 93
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:93 Term:7 Command:{Operation:Append Key:1 Value:x 1 9 y ClientID:4 ReqID:21}}
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:94 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:18}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 94
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 4 yx 3 5 y], CommandIndex 95
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{97 7 {Get 2  3 19}} {98 7 {Append 1 x 1 10 y 4 22}} {99 7 {Append 4 x 4 4 y 6 14}} {100 7 {Get 3  5 19}} {101 7 {Get 0  2 21}}] to peer 4 succ
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:95 Term:7 Command:{Operation:Append Key:3 Value:x 3 5 y ClientID:5 ReqID:18}}
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 4, ai 101, i 14, rf.commit 97
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[4] = 101's quorum 3
2019/06/13 18:42:47 LLLL[leader 3/7 sendAndWaitAppendEntriesRPC] update commitIndex to 102
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:96 Term:7 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:20}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y], CommandIndex 96
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:97 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:19}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 97
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 y], CommandIndex 98
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:98 Term:7 Command:{Operation:Append Key:1 Value:x 1 10 y ClientID:4 ReqID:22}}
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:99 Term:7 Command:{Operation:Append Key:4 Value:x 4 4 y ClientID:6 ReqID:14}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 y], CommandIndex 99
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 y], CommandIndex 100
2019/06/13 18:42:47 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 10 y, reply = {WrongLeader:false Err: ClientID:4 RepID:22}
2019/06/13 18:42:47 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 1: client new append x 1 11 y
2019/06/13 18:42:47 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 11 y Op:Append ClientID:4 ReqID:23} to KVServer 1
2019/06/13 18:42:47 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y ClientID:3 RepID:19}
2019/06/13 18:42:47 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:47 2: client new append x 2 6 y
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:100 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:19}}
2019/06/13 18:42:47 [Clerk 3 PutAppend] args = {Key:2 Value:x 2 6 y Op:Append ClientID:3 ReqID:20} to KVServer 3
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:101 Term:7 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:21}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y], CommandIndex 101
2019/06/13 18:42:47 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 y ClientID:5 RepID:19}
2019/06/13 18:42:47 [Clerk 5 Get] succ replicate command to replicated state machine
2019/06/13 18:42:47 3: client new append x 3 6 y
2019/06/13 18:42:47 [Clerk 5 PutAppend] args = {Key:3 Value:x 3 6 y Op:Append ClientID:5 ReqID:20} to KVServer 4
2019/06/13 18:42:47 [Clerk 6 PutAppend] RPC succ, Append 4 x 4 4 y, reply = {WrongLeader:false Err: ClientID:6 RepID:14}
2019/06/13 18:42:47 [Clerk 6 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 [Clerk 2 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y ClientID:2 RepID:21}
2019/06/13 18:42:47 [Clerk 2 Get] succ replicate command to replicated state machine
2019/06/13 18:42:47 0: client new append x 0 10 y
2019/06/13 18:42:47 4: client new append x 4 5 y
2019/06/13 18:42:47 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 10 y Op:Append ClientID:2 ReqID:22} to KVServer 0
2019/06/13 18:42:47 [Clerk 6 PutAppend] args = {Key:4 Value:x 4 5 y Op:Append ClientID:6 ReqID:15} to KVServer 1
2019/06/13 18:42:47 FFFF[follower 2/7 AppendEntries] have commit [{0 0 -1} {88 7 {Get 4  6 12}} {89 7 {Get 1  4 20}} {90 7 {Append 2 x 2 5 y 3 17}} {91 7 {Append 0 x 0 9 y 2 19}} {92 7 {Append 4 x 4 3 y 6 13}} {93 7 {Append 1 x 1 9 y 4 21}} {94 7 {Get 2  3 18}} {95 7 {Append 3 x 3 5 y 5 18}} {96 7 {Get 0  2 20}}], and commitIndex have updated to 97
2019/06/13 18:42:47 [follower 2/7 applyRoutine] have applied LogEntry {Index:92 Term:7 Command:{Operation:Append Key:4 Value:x 4 3 y ClientID:6 ReqID:13}}
2019/06/13 18:42:47 [KVServer 2 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 y], CommandIndex 92
2019/06/13 18:42:47 [KVServer 2 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 y], CommandIndex 93
2019/06/13 18:42:47 [follower 2/7 applyRoutine] have applied LogEntry {Index:93 Term:7 Command:{Operation:Append Key:1 Value:x 1 9 y ClientID:4 ReqID:21}}
2019/06/13 18:42:47 [follower 2/7 applyRoutine] have applied LogEntry {Index:94 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:18}}
2019/06/13 18:42:47 [KVServer 2 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 y], CommandIndex 94
2019/06/13 18:42:47 [KVServer 2 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 y], CommandIndex 95
2019/06/13 18:42:47 [follower 2/7 applyRoutine] have applied LogEntry {Index:95 Term:7 Command:{Operation:Append Key:3 Value:x 3 5 y ClientID:5 ReqID:18}}
2019/06/13 18:42:47 [follower 2/7 applyRoutine] have applied LogEntry {Index:96 Term:7 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:20}}
2019/06/13 18:42:47 [KVServer 2 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 96
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 0 x 0 10 y 2 22}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 10 y ClientID:2 ReqID:22}, logIndex = 102
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 2 x 2 6 y 3 20}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 6 y ClientID:3 ReqID:20}, logIndex = 103
2019/06/13 18:42:47 FFFF[follower 1/7 AppendEntries] have commit [{0 0 -1} {80 7 {Get 2  3 15}} {81 7 {Get 4  6 11}} {82 7 {Append 1 x 1 7 y 4 18}} {83 7 {Append 0 x 0 8 y 2 18}} {84 7 {Get 3  5 16}} {85 7 {Append 1 x 1 8 y 4 19}} {86 7 {Append 2 x 2 4 y 3 16}} {87 7 {Get 3  5 17}} {88 7 {Get 4  6 12}} {89 7 {Get 1  4 20}} {90 7 {Append 2 x 2 5 y 3 17}} {91 7 {Append 0 x 0 9 y 2 19}} {92 7 {Append 4 x 4 3 y 6 13}} {93 7 {Append 1 x 1 9 y 4 21}} {94 7 {Get 2  3 18}} {95 7 {Append 3 x 3 5 y 5 18}} {96 7 {Get 0  2 20}}], and commitIndex have updated to 97
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:92 Term:7 Command:{Operation:Append Key:4 Value:x 4 3 y ClientID:6 ReqID:13}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 y], CommandIndex 92
2019/06/13 18:42:47 [KVServer 1 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1024
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{97 7 {Get 2  3 19}} {98 7 {Append 1 x 1 10 y 4 22}} {99 7 {Append 4 x 4 4 y 6 14}} {100 7 {Get 3  5 19}} {101 7 {Get 0  2 21}}] to peer 1 succ
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 y], CommandIndex 93
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:93 Term:7 Command:{Operation:Append Key:1 Value:x 1 9 y ClientID:4 ReqID:21}}
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:94 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:18}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 94
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 y], CommandIndex 95
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:95 Term:7 Command:{Operation:Append Key:3 Value:x 3 5 y ClientID:5 ReqID:18}}
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:96 Term:7 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:20}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y], CommandIndex 96
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 1 x 1 11 y 4 23}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 11 y ClientID:4 ReqID:23}, logIndex = 104
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 4 x 4 5 y 6 15}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 5 y ClientID:6 ReqID:15}, logIndex = 105
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 3 x 3 6 y 5 20}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 6 y ClientID:5 ReqID:20}, logIndex = 106
2019/06/13 18:42:47 FFFF[follower 1/7 AppendEntries] have commit [{0 0 -1} {93 7 {Append 1 x 1 9 y 4 21}} {94 7 {Get 2  3 18}} {95 7 {Append 3 x 3 5 y 5 18}} {96 7 {Get 0  2 20}} {97 7 {Get 2  3 19}} {98 7 {Append 1 x 1 10 y 4 22}} {99 7 {Append 4 x 4 4 y 6 14}} {100 7 {Get 3  5 19}} {101 7 {Get 0  2 21}}], and commitIndex have updated to 102
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:97 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:19}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 97
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 y], CommandIndex 98
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:98 Term:7 Command:{Operation:Append Key:1 Value:x 1 10 y ClientID:4 ReqID:22}}
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{102 7 {Append 0 x 0 10 y 2 22}} {103 7 {Append 2 x 2 6 y 3 20}} {104 7 {Append 1 x 1 11 y 4 23}} {105 7 {Append 4 x 4 5 y 6 15}} {106 7 {Append 3 x 3 6 y 5 20}}] to peer 1 succ
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 y], CommandIndex 99
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 1, ai 106, i 19, rf.commit 102
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 106's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 1, ai 105, i 18, rf.commit 102
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:99 Term:7 Command:{Operation:Append Key:4 Value:x 4 4 y ClientID:6 ReqID:14}}
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 105's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 1, ai 104, i 17, rf.commit 102
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 104's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 1, ai 103, i 16, rf.commit 102
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 103's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 1, ai 102, i 15, rf.commit 102
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 102's quorum 2
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:100 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:19}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 y], CommandIndex 100
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y], CommandIndex 101
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:101 Term:7 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:21}}
2019/06/13 18:42:47 FFFF[follower 2/7 AppendEntries] have commit [{0 0 -1} {88 7 {Get 4  6 12}} {89 7 {Get 1  4 20}} {90 7 {Append 2 x 2 5 y 3 17}} {91 7 {Append 0 x 0 9 y 2 19}} {92 7 {Append 4 x 4 3 y 6 13}} {93 7 {Append 1 x 1 9 y 4 21}} {94 7 {Get 2  3 18}} {95 7 {Append 3 x 3 5 y 5 18}} {96 7 {Get 0  2 20}} {97 7 {Get 2  3 19}} {98 7 {Append 1 x 1 10 y 4 22}} {99 7 {Append 4 x 4 4 y 6 14}} {100 7 {Get 3  5 19}} {101 7 {Get 0  2 21}}], and commitIndex have updated to 102
2019/06/13 18:42:47 [follower 2/7 applyRoutine] have applied LogEntry {Index:97 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:19}}
2019/06/13 18:42:47 [KVServer 2 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 y], CommandIndex 97
2019/06/13 18:42:47 [KVServer 2 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 y], CommandIndex 98
2019/06/13 18:42:47 [follower 2/7 applyRoutine] have applied LogEntry {Index:98 Term:7 Command:{Operation:Append Key:1 Value:x 1 10 y ClientID:4 ReqID:22}}
2019/06/13 18:42:47 [follower 2/7 applyRoutine] have applied LogEntry {Index:99 Term:7 Command:{Operation:Append Key:4 Value:x 4 4 y ClientID:6 ReqID:14}}
2019/06/13 18:42:47 [KVServer 2 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 y], CommandIndex 99
2019/06/13 18:42:47 [KVServer 2 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 y], CommandIndex 100
2019/06/13 18:42:47 [follower 2/7 applyRoutine] have applied LogEntry {Index:100 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:19}}
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{97 7 {Get 2  3 19}} {98 7 {Append 1 x 1 10 y 4 22}} {99 7 {Append 4 x 4 4 y 6 14}} {100 7 {Get 3  5 19}} {101 7 {Get 0  2 21}} {102 7 {Append 0 x 0 10 y 2 22}} {103 7 {Append 2 x 2 6 y 3 20}} {104 7 {Append 1 x 1 11 y 4 23}} {105 7 {Append 4 x 4 5 y 6 15}} {106 7 {Append 3 x 3 6 y 5 20}}] to peer 2 succ
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 2, ai 106, i 19, rf.commit 102
2019/06/13 18:42:47 [KVServer 2 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 101
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[2] = 106's quorum 3
2019/06/13 18:42:47 LLLL[leader 3/7 sendAndWaitAppendEntriesRPC] update commitIndex to 107
2019/06/13 18:42:47 [follower 2/7 applyRoutine] have applied LogEntry {Index:101 Term:7 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:21}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 y], CommandIndex 102
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:102 Term:7 Command:{Operation:Append Key:0 Value:x 0 10 y ClientID:2 ReqID:22}}
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:103 Term:7 Command:{Operation:Append Key:2 Value:x 2 6 y ClientID:3 ReqID:20}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 103
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 y], CommandIndex 104
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:104 Term:7 Command:{Operation:Append Key:1 Value:x 1 11 y ClientID:4 ReqID:23}}
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:105 Term:7 Command:{Operation:Append Key:4 Value:x 4 5 y ClientID:6 ReqID:15}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 y], CommandIndex 105
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 y], CommandIndex 106
2019/06/13 18:42:47 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 10 y, reply = {WrongLeader:false Err: ClientID:2 RepID:22}
2019/06/13 18:42:47 [Clerk 2 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 0: client new append x 0 11 y
2019/06/13 18:42:47 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 11 y Op:Append ClientID:2 ReqID:23} to KVServer 0
2019/06/13 18:42:47 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 11 y, reply = {WrongLeader:false Err: ClientID:4 RepID:23}
2019/06/13 18:42:47 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 [Clerk 3 PutAppend] RPC succ, Append 2 x 2 6 y, reply = {WrongLeader:false Err: ClientID:3 RepID:20}
2019/06/13 18:42:47 1: client new append x 1 12 y
2019/06/13 18:42:47 [Clerk 3 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 12 y Op:Append ClientID:4 ReqID:24} to KVServer 1
2019/06/13 18:42:47 2: client new get 2
2019/06/13 18:42:47 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:21} to KVServer 3
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:106 Term:7 Command:{Operation:Append Key:3 Value:x 3 6 y ClientID:5 ReqID:20}}
2019/06/13 18:42:47 [Clerk 5 PutAppend] RPC succ, Append 3 x 3 6 y, reply = {WrongLeader:false Err: ClientID:5 RepID:20}
2019/06/13 18:42:47 [Clerk 5 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 3: client new append x 3 7 y
2019/06/13 18:42:47 [Clerk 5 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:5 ReqID:21} to KVServer 4
2019/06/13 18:42:47 [Clerk 6 PutAppend] RPC succ, Append 4 x 4 5 y, reply = {WrongLeader:false Err: ClientID:6 RepID:15}
2019/06/13 18:42:47 [Clerk 6 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 4: client new get 4
2019/06/13 18:42:47 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:16} to KVServer 1
2019/06/13 18:42:47 FFFF[follower 4/7 AppendEntries] have commit [{0 0 -1} {85 7 {Append 1 x 1 8 y 4 19}} {86 7 {Append 2 x 2 4 y 3 16}} {87 7 {Get 3  5 17}} {88 7 {Get 4  6 12}} {89 7 {Get 1  4 20}} {90 7 {Append 2 x 2 5 y 3 17}} {91 7 {Append 0 x 0 9 y 2 19}} {92 7 {Append 4 x 4 3 y 6 13}} {93 7 {Append 1 x 1 9 y 4 21}} {94 7 {Get 2  3 18}} {95 7 {Append 3 x 3 5 y 5 18}} {96 7 {Get 0  2 20}} {97 7 {Get 2  3 19}} {98 7 {Append 1 x 1 10 y 4 22}} {99 7 {Append 4 x 4 4 y 6 14}} {100 7 {Get 3  5 19}} {101 7 {Get 0  2 21}}], and commitIndex have updated to 102
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:97 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:19}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 97
2019/06/13 18:42:47 [KVServer 4 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1062
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{102 7 {Append 0 x 0 10 y 2 22}} {103 7 {Append 2 x 2 6 y 3 20}} {104 7 {Append 1 x 1 11 y 4 23}} {105 7 {Append 4 x 4 5 y 6 15}} {106 7 {Append 3 x 3 6 y 5 20}}] to peer 4 succ
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 y], CommandIndex 98
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:98 Term:7 Command:{Operation:Append Key:1 Value:x 1 10 y ClientID:4 ReqID:22}}
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:99 Term:7 Command:{Operation:Append Key:4 Value:x 4 4 y ClientID:6 ReqID:14}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 y], CommandIndex 99
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 4 yx 3 5 y], CommandIndex 100
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:100 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:19}}
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:101 Term:7 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:21}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y], CommandIndex 101
2019/06/13 18:42:47 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:16}
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Get 4  6 16}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:6 ReqID:16}, logIndex = 107
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 1 x 1 12 y 4 24}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 12 y ClientID:4 ReqID:24}, logIndex = 108
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 0 x 0 11 y 2 23}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 11 y ClientID:2 ReqID:23}, logIndex = 109
2019/06/13 18:42:47 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:21}
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Get 2  3 21}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:21}, logIndex = 110
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 3 x 3 7 y 5 21}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 7 y ClientID:5 ReqID:21}, logIndex = 111
2019/06/13 18:42:47 FFFF[follower 2/7 AppendEntries] have commit [{0 0 -1} {88 7 {Get 4  6 12}} {89 7 {Get 1  4 20}} {90 7 {Append 2 x 2 5 y 3 17}} {91 7 {Append 0 x 0 9 y 2 19}} {92 7 {Append 4 x 4 3 y 6 13}} {93 7 {Append 1 x 1 9 y 4 21}} {94 7 {Get 2  3 18}} {95 7 {Append 3 x 3 5 y 5 18}} {96 7 {Get 0  2 20}} {97 7 {Get 2  3 19}} {98 7 {Append 1 x 1 10 y 4 22}} {99 7 {Append 4 x 4 4 y 6 14}} {100 7 {Get 3  5 19}} {101 7 {Get 0  2 21}} {102 7 {Append 0 x 0 10 y 2 22}} {103 7 {Append 2 x 2 6 y 3 20}} {104 7 {Append 1 x 1 11 y 4 23}} {105 7 {Append 4 x 4 5 y 6 15}} {106 7 {Append 3 x 3 6 y 5 20}}], and commitIndex have updated to 107
2019/06/13 18:42:47 [follower 2/7 applyRoutine] have applied LogEntry {Index:102 Term:7 Command:{Operation:Append Key:0 Value:x 0 10 y ClientID:2 ReqID:22}}
2019/06/13 18:42:47 [KVServer 2 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 10 y], CommandIndex 102
2019/06/13 18:42:47 [KVServer 2 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1142
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{107 7 {Get 4  6 16}} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}}] to peer 2 succ
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 2, ai 111, i 24, rf.commit 107
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[2] = 111's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 2, ai 110, i 23, rf.commit 107
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[2] = 110's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 2, ai 109, i 22, rf.commit 107
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[2] = 109's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 2, ai 108, i 21, rf.commit 107
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[2] = 108's quorum 2
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 2, ai 107, i 20, rf.commit 107
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[2] = 107's quorum 2
2019/06/13 18:42:47 [KVServer 2 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 6 y], CommandIndex 103
2019/06/13 18:42:47 [follower 2/7 applyRoutine] have applied LogEntry {Index:103 Term:7 Command:{Operation:Append Key:2 Value:x 2 6 y ClientID:3 ReqID:20}}
2019/06/13 18:42:47 [follower 2/7 applyRoutine] have applied LogEntry {Index:104 Term:7 Command:{Operation:Append Key:1 Value:x 1 11 y ClientID:4 ReqID:23}}
2019/06/13 18:42:47 [KVServer 2 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 y], CommandIndex 104
2019/06/13 18:42:47 [KVServer 2 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 y], CommandIndex 105
2019/06/13 18:42:47 [follower 2/7 applyRoutine] have applied LogEntry {Index:105 Term:7 Command:{Operation:Append Key:4 Value:x 4 5 y ClientID:6 ReqID:15}}
2019/06/13 18:42:47 [follower 2/7 applyRoutine] have applied LogEntry {Index:106 Term:7 Command:{Operation:Append Key:3 Value:x 3 6 y ClientID:5 ReqID:20}}
2019/06/13 18:42:47 [KVServer 2 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 y], CommandIndex 106
2019/06/13 18:42:47 FFFF[follower 0/7 AppendEntries] have commit [{0 0 -1} {93 7 {Append 1 x 1 9 y 4 21}} {94 7 {Get 2  3 18}} {95 7 {Append 3 x 3 5 y 5 18}} {96 7 {Get 0  2 20}} {97 7 {Get 2  3 19}} {98 7 {Append 1 x 1 10 y 4 22}} {99 7 {Append 4 x 4 4 y 6 14}} {100 7 {Get 3  5 19}} {101 7 {Get 0  2 21}} {102 7 {Append 0 x 0 10 y 2 22}} {103 7 {Append 2 x 2 6 y 3 20}} {104 7 {Append 1 x 1 11 y 4 23}} {105 7 {Append 4 x 4 5 y 6 15}} {106 7 {Append 3 x 3 6 y 5 20}}], and commitIndex have updated to 107
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:97 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:19}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 97
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 y], CommandIndex 98
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:98 Term:7 Command:{Operation:Append Key:1 Value:x 1 10 y ClientID:4 ReqID:22}}
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:99 Term:7 Command:{Operation:Append Key:4 Value:x 4 4 y ClientID:6 ReqID:14}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 y], CommandIndex 99
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 y], CommandIndex 100
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:100 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:19}}
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{102 7 {Append 0 x 0 10 y 2 22}} {103 7 {Append 2 x 2 6 y 3 20}} {104 7 {Append 1 x 1 11 y 4 23}} {105 7 {Append 4 x 4 5 y 6 15}} {106 7 {Append 3 x 3 6 y 5 20}} {107 7 {Get 4  6 16}} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}}] to peer 0 succ
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:101 Term:7 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:21}}
2019/06/13 18:42:47 [leader 3/7 calcCommitIndex] follower 0, ai 111, i 24, rf.commit 107
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y], CommandIndex 101
2019/06/13 18:42:47 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 111's quorum 3
2019/06/13 18:42:47 LLLL[leader 3/7 sendAndWaitAppendEntriesRPC] update commitIndex to 112
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:102 Term:7 Command:{Operation:Append Key:0 Value:x 0 10 y ClientID:2 ReqID:22}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 y], CommandIndex 102
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:107 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:16}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 y], CommandIndex 107
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:103 Term:7 Command:{Operation:Append Key:2 Value:x 2 6 y ClientID:3 ReqID:20}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 103
2019/06/13 18:42:47 [KVServer 3 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1142
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:104 Term:7 Command:{Operation:Append Key:1 Value:x 1 11 y ClientID:4 ReqID:23}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 y], CommandIndex 104
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 y], CommandIndex 105
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:105 Term:7 Command:{Operation:Append Key:4 Value:x 4 5 y ClientID:6 ReqID:15}}
2019/06/13 18:42:47 [follower 0/7 applyRoutine] have applied LogEntry {Index:106 Term:7 Command:{Operation:Append Key:3 Value:x 3 6 y ClientID:5 ReqID:20}}
2019/06/13 18:42:47 [KVServer 0 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 y], CommandIndex 106
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 y], CommandIndex 108
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:108 Term:7 Command:{Operation:Append Key:1 Value:x 1 12 y ClientID:4 ReqID:24}}
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:109 Term:7 Command:{Operation:Append Key:0 Value:x 0 11 y ClientID:2 ReqID:23}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 109
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 110
2019/06/13 18:42:47 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 12 y, reply = {WrongLeader:false Err: ClientID:4 RepID:24}
2019/06/13 18:42:47 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 1: client new append x 1 13 y
2019/06/13 18:42:47 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 13 y Op:Append ClientID:4 ReqID:25} to KVServer 1
2019/06/13 18:42:47 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 y ClientID:6 RepID:16}
2019/06/13 18:42:47 [Clerk 6 Get] succ replicate command to replicated state machine
2019/06/13 18:42:47 4: client new append x 4 6 y
2019/06/13 18:42:47 [Clerk 6 PutAppend] args = {Key:4 Value:x 4 6 y Op:Append ClientID:6 ReqID:17} to KVServer 1
2019/06/13 18:42:47 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y ClientID:3 RepID:21}
2019/06/13 18:42:47 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:47 2: client new get 2
2019/06/13 18:42:47 FFFF[follower 1/7 AppendEntries] have commit [{0 0 -1} {93 7 {Append 1 x 1 9 y 4 21}} {94 7 {Get 2  3 18}} {95 7 {Append 3 x 3 5 y 5 18}} {96 7 {Get 0  2 20}} {97 7 {Get 2  3 19}} {98 7 {Append 1 x 1 10 y 4 22}} {99 7 {Append 4 x 4 4 y 6 14}} {100 7 {Get 3  5 19}} {101 7 {Get 0  2 21}} {102 7 {Append 0 x 0 10 y 2 22}} {103 7 {Append 2 x 2 6 y 3 20}} {104 7 {Append 1 x 1 11 y 4 23}} {105 7 {Append 4 x 4 5 y 6 15}} {106 7 {Append 3 x 3 6 y 5 20}}], and commitIndex have updated to 107
2019/06/13 18:42:47 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:22} to KVServer 3
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:110 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:21}}
2019/06/13 18:42:47 [leader 3/7 applyRoutine] have applied LogEntry {Index:111 Term:7 Command:{Operation:Append Key:3 Value:x 3 7 y ClientID:5 ReqID:21}}
2019/06/13 18:42:47 [KVServer 3 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 111
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:102 Term:7 Command:{Operation:Append Key:0 Value:x 0 10 y ClientID:2 ReqID:22}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 y], CommandIndex 102
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 103
2019/06/13 18:42:47 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 11 y, reply = {WrongLeader:false Err: ClientID:2 RepID:23}
2019/06/13 18:42:47 [Clerk 2 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:47 0: client new get 0
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:103 Term:7 Command:{Operation:Append Key:2 Value:x 2 6 y ClientID:3 ReqID:20}}
2019/06/13 18:42:47 [Clerk 2 Get] args = {Key:0 ClientID:2 ReqID:24} to KVServer 0
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:104 Term:7 Command:{Operation:Append Key:1 Value:x 1 11 y ClientID:4 ReqID:23}}
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{107 7 {Get 4  6 16}} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}}] to peer 1 succ
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 y], CommandIndex 104
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 y], CommandIndex 105
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:105 Term:7 Command:{Operation:Append Key:4 Value:x 4 5 y ClientID:6 ReqID:15}}
2019/06/13 18:42:47 [follower 1/7 applyRoutine] have applied LogEntry {Index:106 Term:7 Command:{Operation:Append Key:3 Value:x 3 6 y ClientID:5 ReqID:20}}
2019/06/13 18:42:47 [KVServer 1 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 y], CommandIndex 106
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 1 x 1 13 y 4 25}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 13 y ClientID:4 ReqID:25}, logIndex = 112
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Append 4 x 4 6 y 6 17}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 6 y ClientID:6 ReqID:17}, logIndex = 113
2019/06/13 18:42:47 [Clerk 5 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:5 ReqID:21} to KVServer 0
2019/06/13 18:42:47 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:22}
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Get 2  3 22}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:22}, logIndex = 114
2019/06/13 18:42:47 [Clerk 5 PutAppend] RPC succ, Append 3 x 3 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:47 FFFF[follower 4/7 AppendEntries] have commit [{0 0 -1} {98 7 {Append 1 x 1 10 y 4 22}} {99 7 {Append 4 x 4 4 y 6 14}} {100 7 {Get 3  5 19}} {101 7 {Get 0  2 21}} {102 7 {Append 0 x 0 10 y 2 22}} {103 7 {Append 2 x 2 6 y 3 20}} {104 7 {Append 1 x 1 11 y 4 23}} {105 7 {Append 4 x 4 5 y 6 15}} {106 7 {Append 3 x 3 6 y 5 20}}], and commitIndex have updated to 107
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 y], CommandIndex 102
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:102 Term:7 Command:{Operation:Append Key:0 Value:x 0 10 y ClientID:2 ReqID:22}}
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:103 Term:7 Command:{Operation:Append Key:2 Value:x 2 6 y ClientID:3 ReqID:20}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 103
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 y], CommandIndex 104
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:104 Term:7 Command:{Operation:Append Key:1 Value:x 1 11 y ClientID:4 ReqID:23}}
2019/06/13 18:42:47 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{107 7 {Get 4  6 16}} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}}] to peer 4 succ
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:105 Term:7 Command:{Operation:Append Key:4 Value:x 4 5 y ClientID:6 ReqID:15}}
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 y], CommandIndex 105
2019/06/13 18:42:47 [KVServer 4 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 4 yx 3 5 yx 3 6 y], CommandIndex 106
2019/06/13 18:42:47 [follower 4/7 applyRoutine] have applied LogEntry {Index:106 Term:7 Command:{Operation:Append Key:3 Value:x 3 6 y ClientID:5 ReqID:20}}
2019/06/13 18:42:47 [KVServer 3 Get] RPC handler, args = {Key:0 ClientID:2 ReqID:24}
2019/06/13 18:42:47 [leader 3/7 Start] receive client request {Get 0  2 24}
2019/06/13 18:42:47 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:2 ReqID:24}, logIndex = 115
2019/06/13 18:42:47 [Clerk 5 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:5 ReqID:21} to KVServer 1
2019/06/13 18:42:47 [Clerk 5 PutAppend] RPC succ, Append 3 x 3 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:48 [Clerk 5 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:5 ReqID:21} to KVServer 2
2019/06/13 18:42:48 [Clerk 5 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:5 ReqID:21} to KVServer 3
2019/06/13 18:42:48 [Clerk 5 PutAppend] RPC succ, Append 3 x 3 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:48 [Clerk 5 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:5 ReqID:21} to KVServer 4
2019/06/13 18:42:48 [Clerk 5 PutAppend] RPC succ, Append 3 x 3 7 y, reply = {WrongLeader:false Err:ErrDuplicateReq ClientID:0 RepID:0}
2019/06/13 18:42:48 [Clerk 5 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:48 3: client new get 3
2019/06/13 18:42:48 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:22} to KVServer 4
2019/06/13 18:42:48 FFFF[follower 2/7 AppendEntries] have commit [{0 0 -1} {103 7 {Append 2 x 2 6 y 3 20}} {104 7 {Append 1 x 1 11 y 4 23}} {105 7 {Append 4 x 4 5 y 6 15}} {106 7 {Append 3 x 3 6 y 5 20}} {107 7 {Get 4  6 16}} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}}], and commitIndex have updated to 112
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:107 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:16}}
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 y], CommandIndex 107
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 y], CommandIndex 108
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:108 Term:7 Command:{Operation:Append Key:1 Value:x 1 12 y ClientID:4 ReqID:24}}
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:109 Term:7 Command:{Operation:Append Key:0 Value:x 0 11 y ClientID:2 ReqID:23}}
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 10 yx 0 11 y], CommandIndex 109
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 6 y], CommandIndex 110
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:110 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:21}}
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:111 Term:7 Command:{Operation:Append Key:3 Value:x 3 7 y ClientID:5 ReqID:21}}
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 111
2019/06/13 18:42:48 FFFF[follower 4/7 AppendEntries] have commit [{0 0 -1} {98 7 {Append 1 x 1 10 y 4 22}} {99 7 {Append 4 x 4 4 y 6 14}} {100 7 {Get 3  5 19}} {101 7 {Get 0  2 21}} {102 7 {Append 0 x 0 10 y 2 22}} {103 7 {Append 2 x 2 6 y 3 20}} {104 7 {Append 1 x 1 11 y 4 23}} {105 7 {Append 4 x 4 5 y 6 15}} {106 7 {Append 3 x 3 6 y 5 20}} {107 7 {Get 4  6 16}} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}}], and commitIndex have updated to 112
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:107 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:16}}
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 y], CommandIndex 107
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 y], CommandIndex 108
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:108 Term:7 Command:{Operation:Append Key:1 Value:x 1 12 y ClientID:4 ReqID:24}}
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:109 Term:7 Command:{Operation:Append Key:0 Value:x 0 11 y ClientID:2 ReqID:23}}
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 109
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 110
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:110 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:21}}
2019/06/13 18:42:48 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{112 7 {Append 1 x 1 13 y 4 25}} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}}] to peer 4 succ
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 111
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 4, ai 115, i 8, rf.commit 112
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[4] = 115's quorum 2
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:111 Term:7 Command:{Operation:Append Key:3 Value:x 3 7 y ClientID:5 ReqID:21}}
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 4, ai 114, i 7, rf.commit 112
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[4] = 114's quorum 2
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 4, ai 113, i 6, rf.commit 112
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[4] = 113's quorum 2
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 4, ai 112, i 5, rf.commit 112
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[4] = 112's quorum 2
2019/06/13 18:42:48 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:22}
2019/06/13 18:42:48 [leader 3/7 Start] receive client request {Get 3  5 22}
2019/06/13 18:42:48 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:22}, logIndex = 116
2019/06/13 18:42:48 FFFF[follower 0/7 AppendEntries] have commit [{0 0 -1} {93 7 {Append 1 x 1 9 y 4 21}} {94 7 {Get 2  3 18}} {95 7 {Append 3 x 3 5 y 5 18}} {96 7 {Get 0  2 20}} {97 7 {Get 2  3 19}} {98 7 {Append 1 x 1 10 y 4 22}} {99 7 {Append 4 x 4 4 y 6 14}} {100 7 {Get 3  5 19}} {101 7 {Get 0  2 21}} {102 7 {Append 0 x 0 10 y 2 22}} {103 7 {Append 2 x 2 6 y 3 20}} {104 7 {Append 1 x 1 11 y 4 23}} {105 7 {Append 4 x 4 5 y 6 15}} {106 7 {Append 3 x 3 6 y 5 20}} {107 7 {Get 4  6 16}} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}}], and commitIndex have updated to 112
2019/06/13 18:42:48 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{112 7 {Append 1 x 1 13 y 4 25}} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}}] to peer 2 succ
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 2, ai 116, i 9, rf.commit 112
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[2] = 116's quorum 2
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:107 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:16}}
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 2, ai 115, i 8, rf.commit 112
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[2] = 115's quorum 3
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 y], CommandIndex 107
2019/06/13 18:42:48 [KVServer 0 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1131
2019/06/13 18:42:48 LLLL[leader 3/7 sendAndWaitAppendEntriesRPC] update commitIndex to 116
2019/06/13 18:42:48 [leader 3/7 applyRoutine] have applied LogEntry {Index:112 Term:7 Command:{Operation:Append Key:1 Value:x 1 13 y ClientID:4 ReqID:25}}
2019/06/13 18:42:48 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 y], CommandIndex 112
2019/06/13 18:42:48 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{112 7 {Append 1 x 1 13 y 4 25}} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}}] to peer 0 succ
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 0, ai 116, i 9, rf.commit 116
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 116's quorum 3
2019/06/13 18:42:48 LLLL[leader 3/7 sendAndWaitAppendEntriesRPC] update commitIndex to 117
2019/06/13 18:42:48 [KVServer 3 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 113
2019/06/13 18:42:48 [leader 3/7 applyRoutine] have applied LogEntry {Index:113 Term:7 Command:{Operation:Append Key:4 Value:x 4 6 y ClientID:6 ReqID:17}}
2019/06/13 18:42:48 [leader 3/7 applyRoutine] have applied LogEntry {Index:114 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:22}}
2019/06/13 18:42:48 [KVServer 3 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 114
2019/06/13 18:42:48 [KVServer 3 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 115
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:108 Term:7 Command:{Operation:Append Key:1 Value:x 1 12 y ClientID:4 ReqID:24}}
2019/06/13 18:42:48 [leader 3/7 applyRoutine] have applied LogEntry {Index:115 Term:7 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:24}}
2019/06/13 18:42:48 [leader 3/7 applyRoutine] have applied LogEntry {Index:116 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:22}}
2019/06/13 18:42:48 [KVServer 3 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 116
2019/06/13 18:42:48 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 13 y, reply = {WrongLeader:false Err: ClientID:4 RepID:25}
2019/06/13 18:42:48 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:48 1: client new append x 1 14 y
2019/06/13 18:42:48 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 14 y Op:Append ClientID:4 ReqID:26} to KVServer 1
2019/06/13 18:42:48 [Clerk 6 PutAppend] RPC succ, Append 4 x 4 6 y, reply = {WrongLeader:false Err: ClientID:6 RepID:17}
2019/06/13 18:42:48 [Clerk 6 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:48 4: client new append x 4 7 y
2019/06/13 18:42:48 [Clerk 6 PutAppend] args = {Key:4 Value:x 4 7 y Op:Append ClientID:6 ReqID:18} to KVServer 1
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 y], CommandIndex 108
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 109
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:109 Term:7 Command:{Operation:Append Key:0 Value:x 0 11 y ClientID:2 ReqID:23}}
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:110 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:21}}
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 110
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 111
2019/06/13 18:42:48 [Clerk 2 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y ClientID:2 RepID:24}
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:111 Term:7 Command:{Operation:Append Key:3 Value:x 3 7 y ClientID:5 ReqID:21}}
2019/06/13 18:42:48 [Clerk 2 Get] succ replicate command to replicated state machine
2019/06/13 18:42:48 0: client new append x 0 12 y
2019/06/13 18:42:48 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 12 y Op:Append ClientID:2 ReqID:25} to KVServer 0
2019/06/13 18:42:48 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y ClientID:5 RepID:22}
2019/06/13 18:42:48 [Clerk 5 Get] succ replicate command to replicated state machine
2019/06/13 18:42:48 3: client new get 3
2019/06/13 18:42:48 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:23} to KVServer 4
2019/06/13 18:42:48 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y ClientID:3 RepID:22}
2019/06/13 18:42:48 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:48 2: client new append x 2 7 y
2019/06/13 18:42:48 [Clerk 3 PutAppend] args = {Key:2 Value:x 2 7 y Op:Append ClientID:3 ReqID:23} to KVServer 3
2019/06/13 18:42:48 FFFF[follower 1/7 AppendEntries] have commit [{0 0 -1} {93 7 {Append 1 x 1 9 y 4 21}} {94 7 {Get 2  3 18}} {95 7 {Append 3 x 3 5 y 5 18}} {96 7 {Get 0  2 20}} {97 7 {Get 2  3 19}} {98 7 {Append 1 x 1 10 y 4 22}} {99 7 {Append 4 x 4 4 y 6 14}} {100 7 {Get 3  5 19}} {101 7 {Get 0  2 21}} {102 7 {Append 0 x 0 10 y 2 22}} {103 7 {Append 2 x 2 6 y 3 20}} {104 7 {Append 1 x 1 11 y 4 23}} {105 7 {Append 4 x 4 5 y 6 15}} {106 7 {Append 3 x 3 6 y 5 20}} {107 7 {Get 4  6 16}} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}}], and commitIndex have updated to 112
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 y], CommandIndex 107
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:107 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:16}}
2019/06/13 18:42:48 [KVServer 1 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1131
2019/06/13 18:42:48 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{112 7 {Append 1 x 1 13 y 4 25}} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}}] to peer 1 succ
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 y], CommandIndex 108
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:108 Term:7 Command:{Operation:Append Key:1 Value:x 1 12 y ClientID:4 ReqID:24}}
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:109 Term:7 Command:{Operation:Append Key:0 Value:x 0 11 y ClientID:2 ReqID:23}}
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 109
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 110
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:110 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:21}}
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:111 Term:7 Command:{Operation:Append Key:3 Value:x 3 7 y ClientID:5 ReqID:21}}
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 111
2019/06/13 18:42:48 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{116 7 {Get 3  5 22}}] to peer 4 succ
2019/06/13 18:42:48 [leader 3/7 Start] receive client request {Append 0 x 0 12 y 2 25}
2019/06/13 18:42:48 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 12 y ClientID:2 ReqID:25}, logIndex = 117
2019/06/13 18:42:48 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 14 y Op:Append ClientID:4 ReqID:26} to KVServer 2
2019/06/13 18:42:48 [leader 3/7 Start] receive client request {Append 2 x 2 7 y 3 23}
2019/06/13 18:42:48 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 7 y ClientID:3 ReqID:23}, logIndex = 118
2019/06/13 18:42:48 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:23}
2019/06/13 18:42:48 [leader 3/7 Start] receive client request {Get 3  5 23}
2019/06/13 18:42:48 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:23}, logIndex = 119
2019/06/13 18:42:48 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 14 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:48 [Clerk 6 PutAppend] args = {Key:4 Value:x 4 7 y Op:Append ClientID:6 ReqID:18} to KVServer 2
2019/06/13 18:42:48 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 14 y Op:Append ClientID:4 ReqID:26} to KVServer 3
2019/06/13 18:42:48 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 14 y Op:Append ClientID:4 ReqID:26} to KVServer 4
2019/06/13 18:42:48 [Clerk 6 PutAppend] args = {Key:4 Value:x 4 7 y Op:Append ClientID:6 ReqID:18} to KVServer 3
2019/06/13 18:42:48 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 14 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:48 [Clerk 6 PutAppend] RPC succ, Append 4 x 4 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:48 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 14 y Op:Append ClientID:4 ReqID:26} to KVServer 0
2019/06/13 18:42:48 FFFF[follower 1/7 AppendEntries] have commit [{0 0 -1} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}} {112 7 {Append 1 x 1 13 y 4 25}} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}}], and commitIndex have updated to 117
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:112 Term:7 Command:{Operation:Append Key:1 Value:x 1 13 y ClientID:4 ReqID:25}}
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 y], CommandIndex 112
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 113
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:113 Term:7 Command:{Operation:Append Key:4 Value:x 4 6 y ClientID:6 ReqID:17}}
2019/06/13 18:42:48 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}}] to peer 1 succ
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 114
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 1, ai 119, i 12, rf.commit 117
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 119's quorum 2
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 1, ai 118, i 11, rf.commit 117
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:114 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:22}}
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 118's quorum 2
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:115 Term:7 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:24}}
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 115
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 116
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 1, ai 117, i 10, rf.commit 117
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:116 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:22}}
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 117's quorum 2
2019/06/13 18:42:48 [Clerk 6 PutAppend] args = {Key:4 Value:x 4 7 y Op:Append ClientID:6 ReqID:18} to KVServer 4
2019/06/13 18:42:48 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 14 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:48 FFFF[follower 4/7 AppendEntries] have commit [{0 0 -1} {98 7 {Append 1 x 1 10 y 4 22}} {99 7 {Append 4 x 4 4 y 6 14}} {100 7 {Get 3  5 19}} {101 7 {Get 0  2 21}} {102 7 {Append 0 x 0 10 y 2 22}} {103 7 {Append 2 x 2 6 y 3 20}} {104 7 {Append 1 x 1 11 y 4 23}} {105 7 {Append 4 x 4 5 y 6 15}} {106 7 {Append 3 x 3 6 y 5 20}} {107 7 {Get 4  6 16}} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}} {112 7 {Append 1 x 1 13 y 4 25}} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}}], and commitIndex have updated to 117
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 y], CommandIndex 112
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:112 Term:7 Command:{Operation:Append Key:1 Value:x 1 13 y ClientID:4 ReqID:25}}
2019/06/13 18:42:48 [KVServer 4 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1066
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 113
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:113 Term:7 Command:{Operation:Append Key:4 Value:x 4 6 y ClientID:6 ReqID:17}}
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:114 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:22}}
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 114
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 115
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:115 Term:7 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:24}}
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:116 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:22}}
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 116
2019/06/13 18:42:48 FFFF[follower 2/7 AppendEntries] have commit [{0 0 -1} {103 7 {Append 2 x 2 6 y 3 20}} {104 7 {Append 1 x 1 11 y 4 23}} {105 7 {Append 4 x 4 5 y 6 15}} {106 7 {Append 3 x 3 6 y 5 20}} {107 7 {Get 4  6 16}} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}} {112 7 {Append 1 x 1 13 y 4 25}} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}}], and commitIndex have updated to 117
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:112 Term:7 Command:{Operation:Append Key:1 Value:x 1 13 y ClientID:4 ReqID:25}}
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 y], CommandIndex 112
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 113
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:113 Term:7 Command:{Operation:Append Key:4 Value:x 4 6 y ClientID:6 ReqID:17}}
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:114 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:22}}
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 6 y], CommandIndex 114
2019/06/13 18:42:48 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}}] to peer 2 succ
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:115 Term:7 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:24}}
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 2, ai 119, i 12, rf.commit 117
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[2] = 119's quorum 3
2019/06/13 18:42:48 LLLL[leader 3/7 sendAndWaitAppendEntriesRPC] update commitIndex to 120
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 10 yx 0 11 y], CommandIndex 115
2019/06/13 18:42:48 [KVServer 3 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y], CommandIndex 117
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 116
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:116 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:22}}
2019/06/13 18:42:48 [leader 3/7 applyRoutine] have applied LogEntry {Index:117 Term:7 Command:{Operation:Append Key:0 Value:x 0 12 y ClientID:2 ReqID:25}}
2019/06/13 18:42:48 [leader 3/7 applyRoutine] have applied LogEntry {Index:118 Term:7 Command:{Operation:Append Key:2 Value:x 2 7 y ClientID:3 ReqID:23}}
2019/06/13 18:42:48 [KVServer 3 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 118
2019/06/13 18:42:48 [KVServer 3 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 119
2019/06/13 18:42:48 [leader 3/7 applyRoutine] have applied LogEntry {Index:119 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:23}}
2019/06/13 18:42:48 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 12 y, reply = {WrongLeader:false Err: ClientID:2 RepID:25}
2019/06/13 18:42:48 [Clerk 2 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:48 0: client new append x 0 13 y
2019/06/13 18:42:48 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:2 ReqID:26} to KVServer 0
2019/06/13 18:42:48 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y ClientID:5 RepID:23}
2019/06/13 18:42:48 [Clerk 5 Get] succ replicate command to replicated state machine
2019/06/13 18:42:48 3: client new append x 3 8 y
2019/06/13 18:42:48 [Clerk 5 PutAppend] args = {Key:3 Value:x 3 8 y Op:Append ClientID:5 ReqID:24} to KVServer 4
2019/06/13 18:42:48 [Clerk 3 PutAppend] RPC succ, Append 2 x 2 7 y, reply = {WrongLeader:false Err: ClientID:3 RepID:23}
2019/06/13 18:42:48 [Clerk 3 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:48 2: client new get 2
2019/06/13 18:42:48 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:24} to KVServer 3
2019/06/13 18:42:48 FFFF[follower 0/7 AppendEntries] have commit [{0 0 -1} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}} {112 7 {Append 1 x 1 13 y 4 25}} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}}], and commitIndex have updated to 117
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:112 Term:7 Command:{Operation:Append Key:1 Value:x 1 13 y ClientID:4 ReqID:25}}
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 y], CommandIndex 112
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 113
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:113 Term:7 Command:{Operation:Append Key:4 Value:x 4 6 y ClientID:6 ReqID:17}}
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:114 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:22}}
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 114
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 115
2019/06/13 18:42:48 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}}] to peer 0 succ
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:115 Term:7 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:24}}
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:116 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:22}}
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 116
2019/06/13 18:42:48 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:24}
2019/06/13 18:42:48 [leader 3/7 Start] receive client request {Append 3 x 3 8 y 5 24}
2019/06/13 18:42:48 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 8 y ClientID:5 ReqID:24}, logIndex = 120
2019/06/13 18:42:48 [leader 3/7 Start] receive client request {Get 2  3 24}
2019/06/13 18:42:48 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:24}, logIndex = 121
2019/06/13 18:42:48 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 14 y Op:Append ClientID:4 ReqID:26} to KVServer 1
2019/06/13 18:42:48 [leader 3/7 Start] receive client request {Append 1 x 1 14 y 4 26}
2019/06/13 18:42:48 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 14 y ClientID:4 ReqID:26}, logIndex = 122
2019/06/13 18:42:48 [leader 3/7 Start] receive client request {Append 0 x 0 13 y 2 26}
2019/06/13 18:42:48 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 13 y ClientID:2 ReqID:26}, logIndex = 123
2019/06/13 18:42:48 [Clerk 6 PutAppend] args = {Key:4 Value:x 4 7 y Op:Append ClientID:6 ReqID:18} to KVServer 0
2019/06/13 18:42:48 [Clerk 6 PutAppend] RPC succ, Append 4 x 4 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:48 [Clerk 6 PutAppend] args = {Key:4 Value:x 4 7 y Op:Append ClientID:6 ReqID:18} to KVServer 1
2019/06/13 18:42:48 [leader 3/7 Start] receive client request {Append 4 x 4 7 y 6 18}
2019/06/13 18:42:48 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 7 y ClientID:6 ReqID:18}, logIndex = 124
2019/06/13 18:42:48 FFFF[follower 2/7 AppendEntries] have commit [{0 0 -1} {103 7 {Append 2 x 2 6 y 3 20}} {104 7 {Append 1 x 1 11 y 4 23}} {105 7 {Append 4 x 4 5 y 6 15}} {106 7 {Append 3 x 3 6 y 5 20}} {107 7 {Get 4  6 16}} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}} {112 7 {Append 1 x 1 13 y 4 25}} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}} {117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}}], and commitIndex have updated to 120
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:117 Term:7 Command:{Operation:Append Key:0 Value:x 0 12 y ClientID:2 ReqID:25}}
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 10 yx 0 11 yx 0 12 y], CommandIndex 117
2019/06/13 18:42:48 [KVServer 2 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1078
2019/06/13 18:42:48 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}}] to peer 2 succ
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 2, ai 124, i 17, rf.commit 120
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[2] = 124's quorum 2
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 2, ai 123, i 16, rf.commit 120
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[2] = 123's quorum 2
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 2, ai 122, i 15, rf.commit 120
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 6 yx 2 7 y], CommandIndex 118
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[2] = 122's quorum 2
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 2, ai 121, i 14, rf.commit 120
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:118 Term:7 Command:{Operation:Append Key:2 Value:x 2 7 y ClientID:3 ReqID:23}}
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[2] = 121's quorum 2
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 119
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 2, ai 120, i 13, rf.commit 120
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[2] = 120's quorum 2
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:119 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:23}}
2019/06/13 18:42:48 FFFF[follower 1/7 AppendEntries] have commit [{0 0 -1} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}} {112 7 {Append 1 x 1 13 y 4 25}} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}} {117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}}], and commitIndex have updated to 120
2019/06/13 18:42:48 FFFF[follower 0/7 AppendEntries] have commit [{0 0 -1} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}} {112 7 {Append 1 x 1 13 y 4 25}} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}} {117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}}], and commitIndex have updated to 120
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:117 Term:7 Command:{Operation:Append Key:0 Value:x 0 12 y ClientID:2 ReqID:25}}
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y], CommandIndex 117
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 118
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:118 Term:7 Command:{Operation:Append Key:2 Value:x 2 7 y ClientID:3 ReqID:23}}
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:117 Term:7 Command:{Operation:Append Key:0 Value:x 0 12 y ClientID:2 ReqID:25}}
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 119
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y], CommandIndex 117
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:119 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:23}}
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 118
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:118 Term:7 Command:{Operation:Append Key:2 Value:x 2 7 y ClientID:3 ReqID:23}}
2019/06/13 18:42:48 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}}] to peer 1 succ
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:119 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:23}}
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 119
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 1, ai 124, i 17, rf.commit 120
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[1] = 124's quorum 3
2019/06/13 18:42:48 LLLL[leader 3/7 sendAndWaitAppendEntriesRPC] update commitIndex to 125
2019/06/13 18:42:48 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}}] to peer 0 succ
2019/06/13 18:42:48 [leader 3/7 applyRoutine] have applied LogEntry {Index:120 Term:7 Command:{Operation:Append Key:3 Value:x 3 8 y ClientID:5 ReqID:24}}
2019/06/13 18:42:48 [KVServer 3 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 120
2019/06/13 18:42:48 [KVServer 3 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 121
2019/06/13 18:42:48 [leader 3/7 applyRoutine] have applied LogEntry {Index:121 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:24}}
2019/06/13 18:42:48 [leader 3/7 applyRoutine] have applied LogEntry {Index:122 Term:7 Command:{Operation:Append Key:1 Value:x 1 14 y ClientID:4 ReqID:26}}
2019/06/13 18:42:48 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 122
2019/06/13 18:42:48 [KVServer 3 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 y], CommandIndex 123
2019/06/13 18:42:48 [leader 3/7 applyRoutine] have applied LogEntry {Index:123 Term:7 Command:{Operation:Append Key:0 Value:x 0 13 y ClientID:2 ReqID:26}}
2019/06/13 18:42:48 [leader 3/7 applyRoutine] have applied LogEntry {Index:124 Term:7 Command:{Operation:Append Key:4 Value:x 4 7 y ClientID:6 ReqID:18}}
2019/06/13 18:42:48 [KVServer 3 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 124
2019/06/13 18:42:48 [Clerk 5 PutAppend] RPC succ, Append 3 x 3 8 y, reply = {WrongLeader:false Err: ClientID:5 RepID:24}
2019/06/13 18:42:48 [Clerk 5 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:48 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y ClientID:3 RepID:24}
2019/06/13 18:42:48 3: client new get 3
2019/06/13 18:42:48 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:false Err: ClientID:2 RepID:26}
2019/06/13 18:42:48 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:25} to KVServer 4
2019/06/13 18:42:48 [Clerk 2 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:48 0: client new append x 0 14 y
2019/06/13 18:42:48 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 14 y Op:Append ClientID:2 ReqID:27} to KVServer 0
2019/06/13 18:42:48 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:48 2: client new get 2
2019/06/13 18:42:48 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 3
2019/06/13 18:42:48 [Clerk 6 PutAppend] RPC succ, Append 4 x 4 7 y, reply = {WrongLeader:false Err: ClientID:6 RepID:18}
2019/06/13 18:42:48 [Clerk 6 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:48 4: client new get 4
2019/06/13 18:42:48 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:19} to KVServer 1
2019/06/13 18:42:48 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:19}
2019/06/13 18:42:48 [leader 3/7 Start] receive client request {Get 4  6 19}
2019/06/13 18:42:48 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:6 ReqID:19}, logIndex = 125
2019/06/13 18:42:48 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:48 [leader 3/7 Start] receive client request {Get 2  3 25}
2019/06/13 18:42:48 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:25}, logIndex = 126
2019/06/13 18:42:48 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 14 y Op:Append ClientID:4 ReqID:26} to KVServer 2
2019/06/13 18:42:48 FFFF[follower 4/7 AppendEntries] have commit [{0 0 -1} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}} {117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}}], and commitIndex have updated to 120
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:117 Term:7 Command:{Operation:Append Key:0 Value:x 0 12 y ClientID:2 ReqID:25}}
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y], CommandIndex 117
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 118
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:118 Term:7 Command:{Operation:Append Key:2 Value:x 2 7 y ClientID:3 ReqID:23}}
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:119 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:23}}
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 119
2019/06/13 18:42:48 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}}] to peer 4 succ
2019/06/13 18:42:48 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:25}
2019/06/13 18:42:48 [leader 3/7 Start] receive client request {Get 3  5 25}
2019/06/13 18:42:48 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:25}, logIndex = 127
2019/06/13 18:42:48 [leader 3/7 Start] receive client request {Append 0 x 0 14 y 2 27}
2019/06/13 18:42:48 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 14 y ClientID:2 ReqID:27}, logIndex = 128
2019/06/13 18:42:48 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 14 y Op:Append ClientID:4 ReqID:26} to KVServer 3
2019/06/13 18:42:48 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 14 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:48 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 14 y Op:Append ClientID:4 ReqID:26} to KVServer 4
2019/06/13 18:42:48 FFFF[follower 1/7 AppendEntries] have commit [{0 0 -1} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}} {112 7 {Append 1 x 1 13 y 4 25}} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}} {117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}}], and commitIndex have updated to 125
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:120 Term:7 Command:{Operation:Append Key:3 Value:x 3 8 y ClientID:5 ReqID:24}}
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 120
2019/06/13 18:42:48 [KVServer 1 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1010
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 121
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:121 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:24}}
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:122 Term:7 Command:{Operation:Append Key:1 Value:x 1 14 y ClientID:4 ReqID:26}}
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 122
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 y], CommandIndex 123
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:123 Term:7 Command:{Operation:Append Key:0 Value:x 0 13 y ClientID:2 ReqID:26}}
2019/06/13 18:42:48 [follower 1/7 applyRoutine] have applied LogEntry {Index:124 Term:7 Command:{Operation:Append Key:4 Value:x 4 7 y ClientID:6 ReqID:18}}
2019/06/13 18:42:48 [KVServer 1 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 124
2019/06/13 18:42:48 FFFF[follower 4/7 AppendEntries] have commit [{0 0 -1} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}} {117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}}], and commitIndex have updated to 125
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:120 Term:7 Command:{Operation:Append Key:3 Value:x 3 8 y ClientID:5 ReqID:24}}
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 120
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 121
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:121 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:24}}
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:122 Term:7 Command:{Operation:Append Key:1 Value:x 1 14 y ClientID:4 ReqID:26}}
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 122
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 y], CommandIndex 123
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:123 Term:7 Command:{Operation:Append Key:0 Value:x 0 13 y ClientID:2 ReqID:26}}
2019/06/13 18:42:48 [follower 4/7 applyRoutine] have applied LogEntry {Index:124 Term:7 Command:{Operation:Append Key:4 Value:x 4 7 y ClientID:6 ReqID:18}}
2019/06/13 18:42:48 [KVServer 4 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 124
2019/06/13 18:42:48 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 14 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:48 FFFF[follower 0/7 AppendEntries] have commit [{0 0 -1} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}} {112 7 {Append 1 x 1 13 y 4 25}} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}} {117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}}], and commitIndex have updated to 125
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:120 Term:7 Command:{Operation:Append Key:3 Value:x 3 8 y ClientID:5 ReqID:24}}
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 120
2019/06/13 18:42:48 [KVServer 0 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1010
2019/06/13 18:42:48 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}}] to peer 0 succ
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 0, ai 128, i 21, rf.commit 125
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 128's quorum 2
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 0, ai 127, i 20, rf.commit 125
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 127's quorum 2
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 0, ai 126, i 19, rf.commit 125
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 126's quorum 2
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 0, ai 125, i 18, rf.commit 125
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 125's quorum 2
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:121 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:24}}
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 121
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 122
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:122 Term:7 Command:{Operation:Append Key:1 Value:x 1 14 y ClientID:4 ReqID:26}}
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:123 Term:7 Command:{Operation:Append Key:0 Value:x 0 13 y ClientID:2 ReqID:26}}
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 y], CommandIndex 123
2019/06/13 18:42:48 [KVServer 0 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 124
2019/06/13 18:42:48 [follower 0/7 applyRoutine] have applied LogEntry {Index:124 Term:7 Command:{Operation:Append Key:4 Value:x 4 7 y ClientID:6 ReqID:18}}
2019/06/13 18:42:48 FFFF[follower 2/7 AppendEntries] have commit [{0 0 -1} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}}], and commitIndex have updated to 125
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:120 Term:7 Command:{Operation:Append Key:3 Value:x 3 8 y ClientID:5 ReqID:24}}
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 120
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 6 yx 2 7 y], CommandIndex 121
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:121 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:24}}
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:122 Term:7 Command:{Operation:Append Key:1 Value:x 1 14 y ClientID:4 ReqID:26}}
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 122
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 10 yx 0 11 yx 0 12 yx 0 13 y], CommandIndex 123
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:123 Term:7 Command:{Operation:Append Key:0 Value:x 0 13 y ClientID:2 ReqID:26}}
2019/06/13 18:42:48 [follower 2/7 applyRoutine] have applied LogEntry {Index:124 Term:7 Command:{Operation:Append Key:4 Value:x 4 7 y ClientID:6 ReqID:18}}
2019/06/13 18:42:48 [KVServer 2 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 124
2019/06/13 18:42:48 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 14 y Op:Append ClientID:4 ReqID:26} to KVServer 0
2019/06/13 18:42:48 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 14 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:48 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 14 y Op:Append ClientID:4 ReqID:26} to KVServer 1
2019/06/13 18:42:48 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 14 y, reply = {WrongLeader:false Err:ErrDuplicateReq ClientID:0 RepID:0}
2019/06/13 18:42:48 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:48 1: client new get 1
2019/06/13 18:42:48 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 1
2019/06/13 18:42:48 [KVServer 3 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:27}
2019/06/13 18:42:48 [leader 3/7 Start] receive client request {Get 1  4 27}
2019/06/13 18:42:48 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:4 ReqID:27}, logIndex = 129
2019/06/13 18:42:48 [leader 3/7 sendAndWaitAppendEntriesRPC] replicate LogEntry [{129 7 {Get 1  4 27}}] to peer 0 succ
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 0, ai 129, i 22, rf.commit 125
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 129's quorum 2
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 0, ai 128, i 21, rf.commit 125
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 128's quorum 2
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 0, ai 127, i 20, rf.commit 125
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 127's quorum 2
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 0, ai 126, i 19, rf.commit 125
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 126's quorum 2
2019/06/13 18:42:48 [leader 3/7 calcCommitIndex] follower 0, ai 125, i 18, rf.commit 125
2019/06/13 18:42:48 LLLL[leader 3/7 calcCommitIndex] matchIndex[0] = 125's quorum 2
2019/06/13 18:42:48 [candidate 4/8 electionEventLoop] timeout, start the election
2019/06/13 18:42:48 [follower 1/7 RequestVote] come across newer term 8, back to follower
2019/06/13 18:42:48 [follower 2/7 RequestVote] come across newer term 8, back to follower
2019/06/13 18:42:48 [candidate 1/9 electionEventLoop] timeout, start the election
2019/06/13 18:42:48 [candidate 2/9 electionEventLoop] timeout, start the election
2019/06/13 18:42:48 [follower 4/8 RequestVote] come across newer term 9, back to follower
2019/06/13 18:42:48 [follower 4/9 RequestVote] vote for candidate 2
2019/06/13 18:42:49 [candidate 2/10 electionEventLoop] timeout, start the election
2019/06/13 18:42:49 [candidate 4/10 electionEventLoop] timeout, start the election
2019/06/13 18:42:49 [candidate 1/9 RequestVote] come across newer term 10, back to follower
2019/06/13 18:42:49 [candidate 1/11 electionEventLoop] timeout, start the election
2019/06/13 18:42:49 [follower 4/10 RequestVote] vote for candidate 2
2019/06/13 18:42:49 [follower 4/10 RequestVote] come across newer term 11, back to follower
2019/06/13 18:42:49 [follower 4/11 RequestVote] vote for candidate 1
2019/06/13 18:42:49 [candidate 2/10 RequestVote] come across newer term 11, back to follower
2019/06/13 18:42:49 [follower 2/11 RequestVote] vote for candidate 1
2019/06/13 18:42:49 [Clerk 6 Get] RPC timeout
2019/06/13 18:42:49 [Clerk 2 PutAppend] RPC timeout
2019/06/13 18:42:49 [Clerk 3 Get] RPC timeout
2019/06/13 18:42:49 [Clerk 5 Get] RPC timeout
2019/06/13 18:42:49 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:19} to KVServer 2
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 4
2019/06/13 18:42:49 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:25} to KVServer 0
2019/06/13 18:42:49 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 14 y Op:Append ClientID:2 ReqID:27} to KVServer 1
2019/06/13 18:42:49 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 14 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:49 [KVServer 1 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:19}
2019/06/13 18:42:49 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 14 y Op:Append ClientID:2 ReqID:27} to KVServer 2
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 0
2019/06/13 18:42:49 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:19} to KVServer 3
2019/06/13 18:42:49 [KVServer 4 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:25}
2019/06/13 18:42:49 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 1
2019/06/13 18:42:49 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:25} to KVServer 1
2019/06/13 18:42:49 [KVServer 4 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 14 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:49 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:19}
2019/06/13 18:42:49 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 2
2019/06/13 18:42:49 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 14 y Op:Append ClientID:2 ReqID:27} to KVServer 3
2019/06/13 18:42:49 [KVServer 2 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:25}
2019/06/13 18:42:49 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:19} to KVServer 4
2019/06/13 18:42:49 [KVServer 0 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:25} to KVServer 2
2019/06/13 18:42:49 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:19}
2019/06/13 18:42:49 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 14 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:49 [KVServer 1 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:25}
2019/06/13 18:42:49 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 3
2019/06/13 18:42:49 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:19} to KVServer 0
2019/06/13 18:42:49 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 14 y Op:Append ClientID:2 ReqID:27} to KVServer 4
2019/06/13 18:42:49 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:25} to KVServer 3
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 4
2019/06/13 18:42:49 [KVServer 0 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:25}
2019/06/13 18:42:49 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [KVServer 2 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:19}
2019/06/13 18:42:49 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 14 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:25} to KVServer 4
2019/06/13 18:42:49 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:19} to KVServer 1
2019/06/13 18:42:49 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 14 y Op:Append ClientID:2 ReqID:27} to KVServer 0
2019/06/13 18:42:49 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:19}
2019/06/13 18:42:49 [leader 3/7 Start] receive client request {Get 4  6 19}
2019/06/13 18:42:49 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:6 ReqID:19}, logIndex = 130
2019/06/13 18:42:49 [KVServer 1 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:25}
2019/06/13 18:42:49 [leader 3/7 Start] receive client request {Get 3  5 25}
2019/06/13 18:42:49 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:25}, logIndex = 131
2019/06/13 18:42:49 [leader 3/7 Start] receive client request {Append 0 x 0 14 y 2 27}
2019/06/13 18:42:49 [KVServer 3 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 14 y ClientID:2 ReqID:27}, logIndex = 132
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 0
2019/06/13 18:42:49 [KVServer 2 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 4 Get] RPC timeout
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 1
2019/06/13 18:42:49 [KVServer 4 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 2
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 2
2019/06/13 18:42:49 [KVServer 0 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:27}
2019/06/13 18:42:49 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [KVServer 0 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 3
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 3
2019/06/13 18:42:49 [leader 3/7 sendAndWaitAppendEntriesRPC] come across newer term 11 leader, back to follower
2019/06/13 18:42:49 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 4
2019/06/13 18:42:49 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 4
2019/06/13 18:42:49 [KVServer 2 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:27}
2019/06/13 18:42:49 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 0
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 0
2019/06/13 18:42:49 [KVServer 4 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:27}
2019/06/13 18:42:49 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 1
2019/06/13 18:42:49 [KVServer 2 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [KVServer 3 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:27}
2019/06/13 18:42:49 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 1
2019/06/13 18:42:49 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 2
2019/06/13 18:42:49 [candidate 2/12 electionEventLoop] timeout, start the election
2019/06/13 18:42:49 [KVServer 0 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:27}
2019/06/13 18:42:49 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 3
2019/06/13 18:42:49 [follower 3/11 RequestVote] come across newer term 12, back to follower
2019/06/13 18:42:49 [candidate 4/12 electionEventLoop] timeout, start the election
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 2
2019/06/13 18:42:49 [KVServer 0 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [KVServer 1 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:27}
2019/06/13 18:42:49 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 3
2019/06/13 18:42:49 [candidate 1/12 electionEventLoop] timeout, start the election
2019/06/13 18:42:49 [follower 0/7 RequestVote] come across newer term 12, back to follower
2019/06/13 18:42:49 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 4
2019/06/13 18:42:49 [follower 4/12 RequestVote] vote for candidate 1
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 4
2019/06/13 18:42:49 [KVServer 2 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:27}
2019/06/13 18:42:49 [KVServer 1 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 0
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 0
2019/06/13 18:42:49 [KVServer 4 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:27}
2019/06/13 18:42:49 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 1
2019/06/13 18:42:49 [KVServer 2 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 1
2019/06/13 18:42:49 [KVServer 3 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:27}
2019/06/13 18:42:49 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 2
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 2
2019/06/13 18:42:49 [KVServer 0 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:27}
2019/06/13 18:42:49 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [KVServer 0 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 3
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 3
2019/06/13 18:42:49 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 4
2019/06/13 18:42:49 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 4
2019/06/13 18:42:49 [KVServer 1 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [KVServer 2 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:27}
2019/06/13 18:42:49 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 0
2019/06/13 18:42:49 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 0
2019/06/13 18:42:49 [candidate 0/13 electionEventLoop] timeout, start the election
2019/06/13 18:42:49 [KVServer 4 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:27}
2019/06/13 18:42:49 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [follower 4/12 RequestVote] come across newer term 13, back to follower
2019/06/13 18:42:49 [follower 4/13 RequestVote] vote for candidate 0
2019/06/13 18:42:49 [KVServer 2 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [candidate 1/12 RequestVote] come across newer term 13, back to follower
2019/06/13 18:42:49 [follower 1/13 RequestVote] vote for candidate 0
2019/06/13 18:42:49 [leader 0/13 becomeLeader] win the election, become leader
2019/06/13 18:42:49 [leader 0/13 leaderEventLoop] start sending heartbeat
2019/06/13 18:42:49 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 1
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 1
2019/06/13 18:42:49 [KVServer 4 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [KVServer 3 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:27}
2019/06/13 18:42:49 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:49 [candidate 3/13 electionEventLoop] timeout, start the election
2019/06/13 18:42:49 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:25} to KVServer 2
2019/06/13 18:42:49 [Clerk 4 Get] args = {Key:1 ClientID:4 ReqID:27} to KVServer 2
2019/06/13 18:42:49 [KVServer 0 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:25}
2019/06/13 18:42:49 [leader 0/13 Start] receive client request {Get 2  3 25}
2019/06/13 18:42:49 [KVServer 0 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:25}, logIndex = 130
2019/06/13 18:42:49 [candidate 2/12 RequestVote] come across newer term 13, back to follower
2019/06/13 18:42:49 [KVServer 0 Get] RPC handler, args = {Key:1 ClientID:4 ReqID:27}
2019/06/13 18:42:49 [leader 0/13 Start] receive client request {Get 1  4 27}
2019/06/13 18:42:49 [KVServer 0 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:4 ReqID:27}, logIndex = 131
2019/06/13 18:42:50 [leader 0/13 sendAndWaitAppendEntriesRPC] replicate LogEntry [{129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}}] to peer 1 succ
2019/06/13 18:42:50 [leader 0/13 calcCommitIndex] follower 1, ai 131, i 11, rf.commit 125
2019/06/13 18:42:50 LLLL[leader 0/13 calcCommitIndex] matchIndex[1] = 131's quorum 2
2019/06/13 18:42:50 [leader 0/13 calcCommitIndex] follower 1, ai 130, i 10, rf.commit 125
2019/06/13 18:42:50 LLLL[leader 0/13 calcCommitIndex] matchIndex[1] = 130's quorum 2
2019/06/13 18:42:50 [leader 0/13 calcCommitIndex] follower 1, ai 129, i 9, rf.commit 125
2019/06/13 18:42:50 [leader 0/13 calcCommitIndex] follower 1, only count my term, currentTerm = 13, rf.logs[i] = {Index:129 Term:7 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:50 [leader 0/13 sendAndWaitAppendEntriesRPC] replicate LogEntry [{129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}}] to peer 4 succ
2019/06/13 18:42:50 [leader 0/13 calcCommitIndex] follower 4, ai 131, i 11, rf.commit 125
2019/06/13 18:42:50 LLLL[leader 0/13 calcCommitIndex] matchIndex[4] = 131's quorum 3
2019/06/13 18:42:50 LLLL[leader 0/13 sendAndWaitAppendEntriesRPC] update commitIndex to 132
2019/06/13 18:42:50 [leader 0/13 applyRoutine] have applied LogEntry {Index:125 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:50 [KVServer 0 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 125
2019/06/13 18:42:50 [KVServer 0 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 126
2019/06/13 18:42:50 [leader 0/13 applyRoutine] have applied LogEntry {Index:126 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:50 [leader 0/13 applyRoutine] have applied LogEntry {Index:127 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:25}}
2019/06/13 18:42:50 [KVServer 0 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 127
2019/06/13 18:42:50 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 128
2019/06/13 18:42:50 [leader 0/13 applyRoutine] have applied LogEntry {Index:128 Term:7 Command:{Operation:Append Key:0 Value:x 0 14 y ClientID:2 ReqID:27}}
2019/06/13 18:42:50 [leader 0/13 applyRoutine] have applied LogEntry {Index:129 Term:7 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:50 [KVServer 0 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 129
2019/06/13 18:42:50 [leader 0/13 applyRoutine] have applied LogEntry {Index:130 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:50 [leader 0/13 applyRoutine] have applied LogEntry {Index:131 Term:13 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:50 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y ClientID:3 RepID:25}
2019/06/13 18:42:50 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:50 2: client new get 2
2019/06/13 18:42:50 [Clerk 3 Get] args = {Key:2 ClientID:3 ReqID:26} to KVServer 2
2019/06/13 18:42:50 [Clerk 4 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y ClientID:4 RepID:27}
2019/06/13 18:42:50 [Clerk 4 Get] succ replicate command to replicated state machine
2019/06/13 18:42:50 1: client new append x 1 15 y
2019/06/13 18:42:50 [Clerk 4 PutAppend] args = {Key:1 Value:x 1 15 y Op:Append ClientID:4 ReqID:28} to KVServer 2
2019/06/13 18:42:50 [leader 0/13 Start] receive client request {Append 1 x 1 15 y 4 28}
2019/06/13 18:42:50 [KVServer 0 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 15 y ClientID:4 ReqID:28}, logIndex = 132
2019/06/13 18:42:50 [KVServer 0 Get] RPC handler, args = {Key:2 ClientID:3 ReqID:26}
2019/06/13 18:42:50 [leader 0/13 Start] receive client request {Get 2  3 26}
2019/06/13 18:42:50 [KVServer 0 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:3 ReqID:26}, logIndex = 133
2019/06/13 18:42:50 [candidate 2/14 electionEventLoop] timeout, start the election
2019/06/13 18:42:50 [follower 3/13 RequestVote] come across newer term 14, back to follower
2019/06/13 18:42:50 FFFF[follower 1/13 AppendEntries] have commit [{0 0 -1} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}}], and commitIndex have updated to 132
2019/06/13 18:42:50 [follower 1/13 applyRoutine] have applied LogEntry {Index:125 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:50 [KVServer 1 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 125
2019/06/13 18:42:50 [KVServer 1 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 126
2019/06/13 18:42:50 [follower 1/13 applyRoutine] have applied LogEntry {Index:126 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:50 [follower 1/13 applyRoutine] have applied LogEntry {Index:127 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:25}}
2019/06/13 18:42:50 [KVServer 1 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 127
2019/06/13 18:42:50 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 128
2019/06/13 18:42:50 [follower 1/13 applyRoutine] have applied LogEntry {Index:128 Term:7 Command:{Operation:Append Key:0 Value:x 0 14 y ClientID:2 ReqID:27}}
2019/06/13 18:42:50 [follower 1/13 applyRoutine] have applied LogEntry {Index:129 Term:7 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:50 [KVServer 1 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 129
2019/06/13 18:42:50 [follower 1/13 applyRoutine] have applied LogEntry {Index:130 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:50 [follower 1/13 applyRoutine] have applied LogEntry {Index:131 Term:13 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:50 FFFF[follower 4/13 AppendEntries] have commit [{0 0 -1} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}} {117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}}], and commitIndex have updated to 132
2019/06/13 18:42:50 [follower 4/13 applyRoutine] have applied LogEntry {Index:125 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:50 [KVServer 4 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 125
2019/06/13 18:42:50 [KVServer 4 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 126
2019/06/13 18:42:50 [follower 4/13 applyRoutine] have applied LogEntry {Index:126 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:50 [follower 4/13 applyRoutine] have applied LogEntry {Index:127 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:25}}
2019/06/13 18:42:50 [KVServer 4 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 127
2019/06/13 18:42:50 [leader 0/13 sendAndWaitAppendEntriesRPC] replicate LogEntry [{132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}}] to peer 4 succ
2019/06/13 18:42:50 [KVServer 4 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 128
2019/06/13 18:42:50 [leader 0/13 calcCommitIndex] follower 4, ai 133, i 13, rf.commit 132
2019/06/13 18:42:50 [follower 4/13 applyRoutine] have applied LogEntry {Index:128 Term:7 Command:{Operation:Append Key:0 Value:x 0 14 y ClientID:2 ReqID:27}}
2019/06/13 18:42:50 LLLL[leader 0/13 calcCommitIndex] matchIndex[4] = 133's quorum 2
2019/06/13 18:42:50 [leader 0/13 calcCommitIndex] follower 4, ai 132, i 12, rf.commit 132
2019/06/13 18:42:50 LLLL[leader 0/13 calcCommitIndex] matchIndex[4] = 132's quorum 2
2019/06/13 18:42:50 [follower 4/13 applyRoutine] have applied LogEntry {Index:129 Term:7 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:50 [KVServer 4 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 129
2019/06/13 18:42:50 [follower 4/13 applyRoutine] have applied LogEntry {Index:130 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:50 [follower 4/13 applyRoutine] have applied LogEntry {Index:131 Term:13 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:50 [leader 0/13 sendAndWaitAppendEntriesRPC] replicate LogEntry [{132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}}] to peer 1 succ
2019/06/13 18:42:50 [leader 0/13 calcCommitIndex] follower 1, ai 133, i 13, rf.commit 132
2019/06/13 18:42:50 LLLL[leader 0/13 calcCommitIndex] matchIndex[1] = 133's quorum 3
2019/06/13 18:42:50 LLLL[leader 0/13 sendAndWaitAppendEntriesRPC] update commitIndex to 134
2019/06/13 18:42:50 [leader 0/13 applyRoutine] have applied LogEntry {Index:132 Term:13 Command:{Operation:Append Key:1 Value:x 1 15 y ClientID:4 ReqID:28}}
2019/06/13 18:42:50 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 132
2019/06/13 18:42:50 [KVServer 0 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 133
2019/06/13 18:42:50 [leader 0/13 applyRoutine] have applied LogEntry {Index:133 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:26}}
2019/06/13 18:42:50 [Clerk 3 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y ClientID:3 RepID:26}
2019/06/13 18:42:50 [Clerk 3 Get] succ replicate command to replicated state machine
2019/06/13 18:42:50 [Clerk 4 PutAppend] RPC succ, Append 1 x 1 15 y, reply = {WrongLeader:false Err: ClientID:4 RepID:28}
2019/06/13 18:42:50 [Clerk 4 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:50 FFFF[follower 1/13 AppendEntries] have commit [{0 0 -1} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}}], and commitIndex have updated to 134
2019/06/13 18:42:50 [follower 1/13 applyRoutine] have applied LogEntry {Index:132 Term:13 Command:{Operation:Append Key:1 Value:x 1 15 y ClientID:4 ReqID:28}}
2019/06/13 18:42:50 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 132
2019/06/13 18:42:50 [KVServer 1 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 133
2019/06/13 18:42:50 [follower 1/13 applyRoutine] have applied LogEntry {Index:133 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:26}}
2019/06/13 18:42:50 [candidate 3/15 electionEventLoop] timeout, start the election
2019/06/13 18:42:50 FFFF[follower 4/13 AppendEntries] have commit [{0 0 -1} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}} {117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}}], and commitIndex have updated to 134
2019/06/13 18:42:50 [follower 4/13 applyRoutine] have applied LogEntry {Index:132 Term:13 Command:{Operation:Append Key:1 Value:x 1 15 y ClientID:4 ReqID:28}}
2019/06/13 18:42:50 [KVServer 4 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 132
2019/06/13 18:42:50 [KVServer 4 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 133
2019/06/13 18:42:50 [follower 4/13 applyRoutine] have applied LogEntry {Index:133 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:26}}
2019/06/13 18:42:50 [candidate 2/14 RequestVote] come across newer term 15, back to follower
2019/06/13 18:42:50 [candidate 2/16 electionEventLoop] timeout, start the election
2019/06/13 18:42:50 [follower 3/15 RequestVote] come across newer term 16, back to follower
2019/06/13 18:42:50 [Clerk 5 Get] RPC timeout
2019/06/13 18:42:50 [Clerk 6 Get] RPC timeout
2019/06/13 18:42:50 [Clerk 2 PutAppend] RPC timeout
2019/06/13 18:42:50 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:25} to KVServer 0
2019/06/13 18:42:50 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:19} to KVServer 2
2019/06/13 18:42:50 [KVServer 4 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:25}
2019/06/13 18:42:50 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:50 [Clerk 2 PutAppend] args = {Key:0 Value:x 0 14 y Op:Append ClientID:2 ReqID:27} to KVServer 1
2019/06/13 18:42:50 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:25} to KVServer 1
2019/06/13 18:42:50 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:19}
2019/06/13 18:42:50 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:50 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:25} to KVServer 2
2019/06/13 18:42:50 [KVServer 1 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:25}
2019/06/13 18:42:50 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:50 [Clerk 2 PutAppend] RPC succ, Append 0 x 0 14 y, reply = {WrongLeader:false Err:ErrDuplicateReq ClientID:0 RepID:0}
2019/06/13 18:42:50 [Clerk 2 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:50 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:19} to KVServer 3
2019/06/13 18:42:50 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:25} to KVServer 3
2019/06/13 18:42:50 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:25} to KVServer 4
2019/06/13 18:42:50 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:19}
2019/06/13 18:42:50 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:50 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:25}
2019/06/13 18:42:50 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:50 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:19} to KVServer 4
2019/06/13 18:42:50 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:25} to KVServer 0
2019/06/13 18:42:50 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:19} to KVServer 0
2019/06/13 18:42:50 [KVServer 4 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:25}
2019/06/13 18:42:50 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:50 [KVServer 2 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:19}
2019/06/13 18:42:50 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:50 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:25} to KVServer 1
2019/06/13 18:42:50 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:19} to KVServer 1
2019/06/13 18:42:50 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:19}
2019/06/13 18:42:50 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:50 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:19} to KVServer 2
2019/06/13 18:42:50 [KVServer 2 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:25}
2019/06/13 18:42:50 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:50 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:25} to KVServer 2
2019/06/13 18:42:50 [KVServer 1 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:25}
2019/06/13 18:42:50 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:50 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:19}
2019/06/13 18:42:50 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:50 [Clerk 5 Get] args = {Key:3 ClientID:5 ReqID:25} to KVServer 3
2019/06/13 18:42:50 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:19} to KVServer 3
2019/06/13 18:42:50 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:19}
2019/06/13 18:42:50 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:50 [KVServer 0 Get] RPC handler, args = {Key:3 ClientID:5 ReqID:25}
2019/06/13 18:42:50 [leader 0/13 Start] receive client request {Get 3  5 25}
2019/06/13 18:42:50 [KVServer 0 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:5 ReqID:25}, logIndex = 134
2019/06/13 18:42:50 [Clerk 6 Get] args = {Key:4 ClientID:6 ReqID:19} to KVServer 4
2019/06/13 18:42:50 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:6 ReqID:19}
2019/06/13 18:42:50 [leader 0/13 Start] receive client request {Get 4  6 19}
2019/06/13 18:42:50 [KVServer 0 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:6 ReqID:19}, logIndex = 135
2019/06/13 18:42:50 [leader 0/13 sendAndWaitAppendEntriesRPC] replicate LogEntry [{134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}}] to peer 4 succ
2019/06/13 18:42:50 [leader 0/13 calcCommitIndex] follower 4, ai 135, i 15, rf.commit 134
2019/06/13 18:42:50 LLLL[leader 0/13 calcCommitIndex] matchIndex[4] = 135's quorum 2
2019/06/13 18:42:50 [leader 0/13 calcCommitIndex] follower 4, ai 134, i 14, rf.commit 134
2019/06/13 18:42:50 LLLL[leader 0/13 calcCommitIndex] matchIndex[4] = 134's quorum 2
2019/06/13 18:42:50 [leader 0/13 sendAndWaitAppendEntriesRPC] replicate LogEntry [{134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}}] to peer 1 succ
2019/06/13 18:42:50 [leader 0/13 calcCommitIndex] follower 1, ai 135, i 15, rf.commit 134
2019/06/13 18:42:50 LLLL[leader 0/13 calcCommitIndex] matchIndex[1] = 135's quorum 3
2019/06/13 18:42:50 LLLL[leader 0/13 sendAndWaitAppendEntriesRPC] update commitIndex to 136
2019/06/13 18:42:50 [leader 0/13 applyRoutine] have applied LogEntry {Index:134 Term:13 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:25}}
2019/06/13 18:42:50 [leader 0/13 applyRoutine] have applied LogEntry {Index:135 Term:13 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:50 [Clerk 5 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y ClientID:5 RepID:25}
2019/06/13 18:42:50 [Clerk 6 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y ClientID:6 RepID:19}
2019/06/13 18:42:50 [Clerk 5 Get] succ replicate command to replicated state machine
2019/06/13 18:42:50 [Clerk 6 Get] succ replicate command to replicated state machine
2019/06/13 18:42:50 [leader 0/13 sendAndWaitAppendEntriesRPC] come across newer term 16 leader, back to follower
2019/06/13 18:42:50 [candidate 3/17 electionEventLoop] timeout, start the election
2019/06/13 18:42:50 [follower 0/16 RequestVote] come across newer term 17, back to follower
2019/06/13 18:42:50 [candidate 2/16 RequestVote] come across newer term 17, back to follower
2019/06/13 18:42:50 [candidate 2/18 electionEventLoop] timeout, start the election
2019/06/13 18:42:50 [follower 1/13 RequestVote] come across newer term 18, back to follower
2019/06/13 18:42:50 [follower 3/17 RequestVote] come across newer term 18, back to follower
2019/06/13 18:42:50 [follower 0/17 RequestVote] come across newer term 18, back to follower
2019/06/13 18:42:50 [follower 4/13 RequestVote] come across newer term 18, back to follower
2019/06/13 18:42:51 [candidate 4/19 electionEventLoop] timeout, start the election
2019/06/13 18:42:51 [follower 0/18 RequestVote] come across newer term 19, back to follower
2019/06/13 18:42:51 [follower 1/18 RequestVote] come across newer term 19, back to follower
2019/06/13 18:42:51 [follower 3/18 RequestVote] come across newer term 19, back to follower
2019/06/13 18:42:51 [follower 3/19 RequestVote] vote for candidate 4
2019/06/13 18:42:51 [candidate 1/20 electionEventLoop] timeout, start the election
2019/06/13 18:42:51 [follower 0/19 RequestVote] come across newer term 20, back to follower
2019/06/13 18:42:51 [follower 0/20 RequestVote] vote for candidate 1
2019/06/13 18:42:51 [follower 2/18 RequestVote] come across newer term 20, back to follower
2019/06/13 18:42:51 [follower 2/20 RequestVote] vote for candidate 1
2019/06/13 18:42:51 [leader 1/20 becomeLeader] win the election, become leader
2019/06/13 18:42:51 [leader 1/20 leaderEventLoop] start sending heartbeat
2019/06/13 18:42:51 [follower 4/19 AppendEntries] come across newer term 20, back to follower
2019/06/13 18:42:51 [follower 4/20 RequestVote] vote for candidate 1
2019/06/13 18:42:51 [follower 3/19 RequestVote] come across newer term 20, back to follower
2019/06/13 18:42:51 [follower 3/20 RequestVote] vote for candidate 1
2019/06/13 18:42:51 FFFF[follower 2/20 AppendEntries] have commit [{0 0 -1} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}}], and commitIndex have updated to 134
2019/06/13 18:42:51 [follower 2/20 applyRoutine] have applied LogEntry {Index:125 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:51 [KVServer 2 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 125
2019/06/13 18:42:51 [KVServer 2 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 6 yx 2 7 y], CommandIndex 126
2019/06/13 18:42:51 [leader 1/20 sendAndWaitAppendEntriesRPC] replicate LogEntry [{129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}}] to peer 2 succ
2019/06/13 18:42:51 [follower 2/20 applyRoutine] have applied LogEntry {Index:126 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:51 [leader 1/20 calcCommitIndex] follower 2, ai 135, i 15, rf.commit 134
2019/06/13 18:42:51 [follower 2/20 applyRoutine] have applied LogEntry {Index:127 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:25}}
2019/06/13 18:42:51 [leader 1/20 calcCommitIndex] follower 2, only count my term, currentTerm = 20, rf.logs[i] = {Index:135 Term:13 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:51 [KVServer 2 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 127
2019/06/13 18:42:51 [KVServer 2 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 128
2019/06/13 18:42:51 [follower 2/20 applyRoutine] have applied LogEntry {Index:128 Term:7 Command:{Operation:Append Key:0 Value:x 0 14 y ClientID:2 ReqID:27}}
2019/06/13 18:42:51 [follower 2/20 applyRoutine] have applied LogEntry {Index:129 Term:7 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:51 [KVServer 2 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 129
2019/06/13 18:42:51 [follower 2/20 applyRoutine] have applied LogEntry {Index:130 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:51 [follower 2/20 applyRoutine] have applied LogEntry {Index:131 Term:13 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:51 [KVServer 2 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 132
2019/06/13 18:42:51 [follower 2/20 applyRoutine] have applied LogEntry {Index:132 Term:13 Command:{Operation:Append Key:1 Value:x 1 15 y ClientID:4 ReqID:28}}
2019/06/13 18:42:51 [follower 2/20 applyRoutine] have applied LogEntry {Index:133 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:26}}
2019/06/13 18:42:51 [KVServer 2 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 6 yx 2 7 y], CommandIndex 133
2019/06/13 18:42:51 FFFF[follower 3/20 AppendEntries] have commit [{0 0 -1} {108 7 {Append 1 x 1 12 y 4 24}} {109 7 {Append 0 x 0 11 y 2 23}} {110 7 {Get 2  3 21}} {111 7 {Append 3 x 3 7 y 5 21}} {112 7 {Append 1 x 1 13 y 4 25}} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}} {117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}}], and commitIndex have updated to 134
2019/06/13 18:42:51 [follower 3/20 applyRoutine] have applied LogEntry {Index:125 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:51 [leader 1/20 sendAndWaitAppendEntriesRPC] replicate LogEntry [{130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}}] to peer 3 succ
2019/06/13 18:42:51 [leader 1/20 calcCommitIndex] follower 3, ai 135, i 15, rf.commit 134
2019/06/13 18:42:51 [leader 1/20 calcCommitIndex] follower 3, only count my term, currentTerm = 20, rf.logs[i] = {Index:135 Term:13 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:51 [KVServer 3 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 125
2019/06/13 18:42:51 [KVServer 3 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1261
2019/06/13 18:42:51 [KVServer 3 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 126
2019/06/13 18:42:51 [follower 3/20 applyRoutine] have applied LogEntry {Index:126 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:51 [follower 3/20 applyRoutine] have applied LogEntry {Index:127 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:25}}
2019/06/13 18:42:51 [KVServer 3 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 127
2019/06/13 18:42:51 [KVServer 3 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 128
2019/06/13 18:42:51 [follower 3/20 applyRoutine] have applied LogEntry {Index:128 Term:7 Command:{Operation:Append Key:0 Value:x 0 14 y ClientID:2 ReqID:27}}
2019/06/13 18:42:51 [follower 3/20 applyRoutine] have applied LogEntry {Index:129 Term:7 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:51 [KVServer 3 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 129
2019/06/13 18:42:51 [follower 3/20 applyRoutine] have applied LogEntry {Index:130 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:51 [follower 3/20 applyRoutine] have applied LogEntry {Index:131 Term:13 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:51 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 132
2019/06/13 18:42:51 [follower 3/20 applyRoutine] have applied LogEntry {Index:132 Term:13 Command:{Operation:Append Key:1 Value:x 1 15 y ClientID:4 ReqID:28}}
2019/06/13 18:42:51 [KVServer 3 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 133
2019/06/13 18:42:51 [follower 3/20 applyRoutine] have applied LogEntry {Index:133 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:26}}
2019/06/13 18:42:51 [follower 0/20 Kill]
2019/06/13 18:42:51 [KVServer 0 Kill]
2019/06/13 18:42:51 [KVServer 0 readApplyCh] shutdown
2019/06/13 18:42:51 [follower 0/0 applyRoutine] shutdown
2019/06/13 18:42:51 [leader 1/20 Kill]
2019/06/13 18:42:51 [KVServer 1 Kill]
2019/06/13 18:42:51 [follower 1/0 applyRoutine] shutdown
2019/06/13 18:42:51 [follower 2/0 applyRoutine] shutdown
2019/06/13 18:42:51 [follower 2/20 Kill]
2019/06/13 18:42:51 [KVServer 1 readApplyCh] shutdown
2019/06/13 18:42:51 [KVServer 2 readApplyCh] shutdown
2019/06/13 18:42:51 [KVServer 2 Kill]
2019/06/13 18:42:51 [follower 3/20 Kill]
2019/06/13 18:42:51 [KVServer 3 Kill]
2019/06/13 18:42:51 [follower 4/20 Kill]
2019/06/13 18:42:51 [KVServer 3 readApplyCh] shutdown
2019/06/13 18:42:51 [follower 4/0 applyRoutine] shutdown
2019/06/13 18:42:51 [KVServer 4 Kill]
2019/06/13 18:42:51 [KVServer 4 readApplyCh] shutdown
2019/06/13 18:42:51 [follower 3/0 applyRoutine] shutdown
2019/06/13 18:42:52 PPPP[follower 0/20 readPersist] succ, votedFor = 1, logs = [{0 0 -1} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}}]
2019/06/13 18:42:52 PPPP[follower 0/20 loadPersistedSnapshot] succ, snapshot = {LastIncludedIndex:120 LastIncludedTerm:7 StateMachineState:map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y 1:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 y 2:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y 3:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y 4:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y]}
2019/06/13 18:42:52 PPPP[follower 1/20 readPersist] succ, votedFor = 1, logs = [{0 0 -1} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}}]
2019/06/13 18:42:52 PPPP[follower 1/20 loadPersistedSnapshot] succ, snapshot = {LastIncludedIndex:120 LastIncludedTerm:7 StateMachineState:map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y 1:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 y 2:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y 3:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y 4:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y]}
2019/06/13 18:42:52 PPPP[follower 2/20 readPersist] succ, votedFor = 1, logs = [{0 0 -1} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}}]
2019/06/13 18:42:52 PPPP[follower 2/20 loadPersistedSnapshot] succ, snapshot = {LastIncludedIndex:117 LastIncludedTerm:7 StateMachineState:map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 10 yx 0 11 yx 0 12 y 1:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 y 2:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 6 y 3:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y 4:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y]}
2019/06/13 18:42:52 PPPP[follower 3/20 readPersist] succ, votedFor = 1, logs = [{0 0 -1} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}}]
2019/06/13 18:42:52 PPPP[follower 3/20 loadPersistedSnapshot] succ, snapshot = {LastIncludedIndex:125 LastIncludedTerm:7 StateMachineState:map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 y 1:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y 2:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y 3:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y 4:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y]}
2019/06/13 18:42:52 PPPP[follower 4/20 readPersist] succ, votedFor = 1, logs = [{0 0 -1} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}} {117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}}]
2019/06/13 18:42:52 PPPP[follower 4/20 loadPersistedSnapshot] succ, snapshot = {LastIncludedIndex:112 LastIncludedTerm:7 StateMachineState:map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y 1:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 y 2:x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y 3:x 3 0 yx 3 1 yx 3 2 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y 4:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 y]}
2019/06/13 18:42:52 [Clerk 1 Get] args = {Key:0 ClientID:1 ReqID:1} to KVServer 0
2019/06/13 18:42:52 spawn_clients_and_wait: client 0 is done
2019/06/13 18:42:52 [KVServer 2 Get] RPC handler, args = {Key:0 ClientID:1 ReqID:1}
2019/06/13 18:42:52 [Clerk 1 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:52 [Clerk 1 Get] args = {Key:0 ClientID:1 ReqID:1} to KVServer 1
2019/06/13 18:42:52 [KVServer 4 Get] RPC handler, args = {Key:0 ClientID:1 ReqID:1}
2019/06/13 18:42:52 [Clerk 1 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:52 [Clerk 1 Get] args = {Key:0 ClientID:1 ReqID:1} to KVServer 2
2019/06/13 18:42:52 [KVServer 1 Get] RPC handler, args = {Key:0 ClientID:1 ReqID:1}
2019/06/13 18:42:52 [Clerk 1 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:52 [Clerk 1 Get] args = {Key:0 ClientID:1 ReqID:1} to KVServer 3
2019/06/13 18:42:52 [Clerk 1 Get] args = {Key:0 ClientID:1 ReqID:1} to KVServer 4
2019/06/13 18:42:52 [KVServer 3 Get] RPC handler, args = {Key:0 ClientID:1 ReqID:1}
2019/06/13 18:42:52 [Clerk 1 Get] args = {Key:0 ClientID:1 ReqID:1} to KVServer 0
2019/06/13 18:42:52 [KVServer 2 Get] RPC handler, args = {Key:0 ClientID:1 ReqID:1}
2019/06/13 18:42:52 [Clerk 1 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:52 [Clerk 1 Get] args = {Key:0 ClientID:1 ReqID:1} to KVServer 1
2019/06/13 18:42:52 [KVServer 4 Get] RPC handler, args = {Key:0 ClientID:1 ReqID:1}
2019/06/13 18:42:52 [Clerk 1 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:52 [Clerk 1 Get] args = {Key:0 ClientID:1 ReqID:1} to KVServer 2
2019/06/13 18:42:52 [KVServer 1 Get] RPC handler, args = {Key:0 ClientID:1 ReqID:1}
2019/06/13 18:42:52 [Clerk 1 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:52 [Clerk 1 Get] args = {Key:0 ClientID:1 ReqID:1} to KVServer 3
2019/06/13 18:42:52 [KVServer 0 Get] RPC handler, args = {Key:0 ClientID:1 ReqID:1}
2019/06/13 18:42:52 [Clerk 1 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:52 [Clerk 1 Get] args = {Key:0 ClientID:1 ReqID:1} to KVServer 4
2019/06/13 18:42:52 [KVServer 3 Get] RPC handler, args = {Key:0 ClientID:1 ReqID:1}
2019/06/13 18:42:52 [Clerk 1 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:52 [Clerk 1 Get] args = {Key:0 ClientID:1 ReqID:1} to KVServer 0
2019/06/13 18:42:52 [KVServer 2 Get] RPC handler, args = {Key:0 ClientID:1 ReqID:1}
2019/06/13 18:42:52 [Clerk 1 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:52 [Clerk 1 Get] args = {Key:0 ClientID:1 ReqID:1} to KVServer 1
2019/06/13 18:42:52 [KVServer 4 Get] RPC handler, args = {Key:0 ClientID:1 ReqID:1}
2019/06/13 18:42:52 [Clerk 1 Get] args = {Key:0 ClientID:1 ReqID:1} to KVServer 2
2019/06/13 18:42:52 [candidate 1/21 electionEventLoop] timeout, start the election
2019/06/13 18:42:52 [follower 2/20 RequestVote] come across newer term 21, back to follower
2019/06/13 18:42:52 [follower 2/21 RequestVote] vote for candidate 1
2019/06/13 18:42:52 [candidate 3/21 electionEventLoop] timeout, start the election
2019/06/13 18:42:52 [follower 0/20 RequestVote] come across newer term 21, back to follower
2019/06/13 18:42:52 [follower 0/21 RequestVote] vote for candidate 1
2019/06/13 18:42:52 [leader 1/21 becomeLeader] win the election, become leader
2019/06/13 18:42:52 [leader 1/21 leaderEventLoop] start sending heartbeat
2019/06/13 18:42:52 [KVServer 1 Get] RPC handler, args = {Key:0 ClientID:1 ReqID:1}
2019/06/13 18:42:52 [leader 1/21 Start] receive client request {Get 0  1 1}
2019/06/13 18:42:52 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:1 ReqID:1}, logIndex = 136
2019/06/13 18:42:52 [follower 4/20 RequestVote] come across newer term 21, back to follower
2019/06/13 18:42:52 [follower 4/21 RequestVote] vote for candidate 1
2019/06/13 18:42:52 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}}], and commitIndex have updated to 121
2019/06/13 18:42:52 [follower 2/21 applyRoutine] have applied LogEntry {Index:118 Term:7 Command:{Operation:Append Key:2 Value:x 2 7 y ClientID:3 ReqID:23}}
2019/06/13 18:42:52 [KVServer 2 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 6 yx 2 7 y], CommandIndex 118
2019/06/13 18:42:52 [KVServer 2 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 119
2019/06/13 18:42:52 [follower 2/21 applyRoutine] have applied LogEntry {Index:119 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:23}}
2019/06/13 18:42:52 [follower 2/21 applyRoutine] have applied LogEntry {Index:120 Term:7 Command:{Operation:Append Key:3 Value:x 3 8 y ClientID:5 ReqID:24}}
2019/06/13 18:42:52 [KVServer 2 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 120
2019/06/13 18:42:52 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {113 7 {Append 4 x 4 6 y 6 17}} {114 7 {Get 2  3 22}} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}} {117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}}], and commitIndex have updated to 121
2019/06/13 18:42:52 [follower 4/21 applyRoutine] have applied LogEntry {Index:113 Term:7 Command:{Operation:Append Key:4 Value:x 4 6 y ClientID:6 ReqID:17}}
2019/06/13 18:42:52 [KVServer 4 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 113
2019/06/13 18:42:52 [KVServer 4 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1045
2019/06/13 18:42:52 [KVServer 4 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 114
2019/06/13 18:42:52 [KVServer 4 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1000
2019/06/13 18:42:52 [follower 4/21 applyRoutine] have applied LogEntry {Index:114 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:22}}
2019/06/13 18:42:52 [KVServer 4 readApplyCh] apply for client 2 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 115
2019/06/13 18:42:52 [follower 4/21 applyRoutine] have applied LogEntry {Index:115 Term:7 Command:{Operation:Get Key:0 Value: ClientID:2 ReqID:24}}
2019/06/13 18:42:52 [follower 4/21 applyRoutine] have applied LogEntry {Index:116 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:22}}
2019/06/13 18:42:52 [KVServer 4 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 116
2019/06/13 18:42:52 [KVServer 4 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y], CommandIndex 117
2019/06/13 18:42:52 [follower 4/21 applyRoutine] have applied LogEntry {Index:117 Term:7 Command:{Operation:Append Key:0 Value:x 0 12 y ClientID:2 ReqID:25}}
2019/06/13 18:42:52 [follower 4/21 applyRoutine] have applied LogEntry {Index:118 Term:7 Command:{Operation:Append Key:2 Value:x 2 7 y ClientID:3 ReqID:23}}
2019/06/13 18:42:52 [KVServer 4 readApplyCh] apply for client 3 APPEND [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 118
2019/06/13 18:42:52 [KVServer 4 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 119
2019/06/13 18:42:52 [follower 4/21 applyRoutine] have applied LogEntry {Index:119 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:23}}
2019/06/13 18:42:52 [follower 4/21 applyRoutine] have applied LogEntry {Index:120 Term:7 Command:{Operation:Append Key:3 Value:x 3 8 y ClientID:5 ReqID:24}}
2019/06/13 18:42:52 [KVServer 4 readApplyCh] apply for client 5 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 120
2019/06/13 18:42:53 [candidate 3/21 AppendEntries] come across newer term 21, back to follower
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{136 21 {Get 0  1 1}}] to peer 3 succ
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 3, ai 136, i 16, rf.commit 121
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 136's quorum 2
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 3, ai 135, i 15, rf.commit 121
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 3, only count my term, currentTerm = 21, rf.logs[i] = {Index:135 Term:13 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{136 21 {Get 0  1 1}}] to peer 4 succ
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 4, ai 136, i 16, rf.commit 121
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 136's quorum 3
2019/06/13 18:42:53 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 137
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:121 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:24}}
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 121
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 122
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:122 Term:7 Command:{Operation:Append Key:1 Value:x 1 14 y ClientID:4 ReqID:26}}
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:123 Term:7 Command:{Operation:Append Key:0 Value:x 0 13 y ClientID:2 ReqID:26}}
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 y], CommandIndex 123
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 124
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:124 Term:7 Command:{Operation:Append Key:4 Value:x 4 7 y ClientID:6 ReqID:18}}
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:125 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 125
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 126
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:126 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:127 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:25}}
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 127
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 128
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:128 Term:7 Command:{Operation:Append Key:0 Value:x 0 14 y ClientID:2 ReqID:27}}
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:129 Term:7 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 129
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:130 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:131 Term:13 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:132 Term:13 Command:{Operation:Append Key:1 Value:x 1 15 y ClientID:4 ReqID:28}}
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 132
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 133
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:133 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:26}}
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:134 Term:13 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:25}}
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:135 Term:13 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{136 21 {Get 0  1 1}}] to peer 0 succ
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:136 Term:21 Command:{Operation:Get Key:0 Value: ClientID:1 ReqID:1}}
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 1 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 136
2019/06/13 18:42:53 [Clerk 1 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y ClientID:1 RepID:1}
2019/06/13 18:42:53 [Clerk 1 Get] succ replicate command to replicated state machine
2019/06/13 18:42:53 [Clerk 1 Get] args = {Key:1 ClientID:1 ReqID:2} to KVServer 2
2019/06/13 18:42:53 spawn_clients_and_wait: client 1 is done
2019/06/13 18:42:53 [KVServer 1 Get] RPC handler, args = {Key:1 ClientID:1 ReqID:2}
2019/06/13 18:42:53 [leader 1/21 Start] receive client request {Get 1  1 2}
2019/06/13 18:42:53 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:1 ReqID:2}, logIndex = 137
2019/06/13 18:42:53 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {115 7 {Get 0  2 24}} {116 7 {Get 3  5 22}} {117 7 {Append 0 x 0 12 y 2 25}} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}}], and commitIndex have updated to 137
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:121 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:24}}
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 121
2019/06/13 18:42:53 [KVServer 4 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1035
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{137 21 {Get 1  1 2}}] to peer 4 succ
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 4, ai 137, i 17, rf.commit 137
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 137's quorum 2
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 122
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:122 Term:7 Command:{Operation:Append Key:1 Value:x 1 14 y ClientID:4 ReqID:26}}
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:123 Term:7 Command:{Operation:Append Key:0 Value:x 0 13 y ClientID:2 ReqID:26}}
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 y], CommandIndex 123
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 124
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:124 Term:7 Command:{Operation:Append Key:4 Value:x 4 7 y ClientID:6 ReqID:18}}
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:125 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 125
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 126
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:126 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:127 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:25}}
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 127
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 128
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:128 Term:7 Command:{Operation:Append Key:0 Value:x 0 14 y ClientID:2 ReqID:27}}
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:129 Term:7 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 129
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:130 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:131 Term:13 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:132 Term:13 Command:{Operation:Append Key:1 Value:x 1 15 y ClientID:4 ReqID:28}}
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 132
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 133
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:133 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:26}}
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:134 Term:13 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:25}}
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:135 Term:13 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:136 Term:21 Command:{Operation:Get Key:0 Value: ClientID:1 ReqID:1}}
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 1 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 136
2019/06/13 18:42:53 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}}], and commitIndex have updated to 137
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:121 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:24}}
2019/06/13 18:42:53 FFFF[follower 0/21 AppendEntries] have commit [{0 0 -1} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}}], and commitIndex have updated to 137
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 6 yx 2 7 y], CommandIndex 121
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 122
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:122 Term:7 Command:{Operation:Append Key:1 Value:x 1 14 y ClientID:4 ReqID:26}}
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:123 Term:7 Command:{Operation:Append Key:0 Value:x 0 13 y ClientID:2 ReqID:26}}
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 10 yx 0 11 yx 0 12 yx 0 13 y], CommandIndex 123
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 124
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}}] to peer 2 succ
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:124 Term:7 Command:{Operation:Append Key:4 Value:x 4 7 y ClientID:6 ReqID:18}}
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 2, ai 137, i 17, rf.commit 137
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:125 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 137's quorum 3
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 125
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 6 yx 2 7 y], CommandIndex 126
2019/06/13 18:42:53 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 138
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:126 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:137 Term:21 Command:{Operation:Get Key:1 Value: ClientID:1 ReqID:2}}
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 127
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:121 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:24}}
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{137 21 {Get 1  1 2}}] to peer 0 succ
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 121
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:127 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:25}}
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:122 Term:7 Command:{Operation:Append Key:1 Value:x 1 14 y ClientID:4 ReqID:26}}
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 1 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 137
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:128 Term:7 Command:{Operation:Append Key:0 Value:x 0 14 y ClientID:2 ReqID:27}}
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 122
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 y], CommandIndex 123
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 128
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:123 Term:7 Command:{Operation:Append Key:0 Value:x 0 13 y ClientID:2 ReqID:26}}
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 129
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:124 Term:7 Command:{Operation:Append Key:4 Value:x 4 7 y ClientID:6 ReqID:18}}
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 6 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 124
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:129 Term:7 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:125 Term:7 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:130 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:131 Term:13 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 132
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 6 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 125
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:132 Term:13 Command:{Operation:Append Key:1 Value:x 1 15 y ClientID:4 ReqID:28}}
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:126 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:133 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:26}}
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 126
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 127
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 6 yx 2 7 y], CommandIndex 133
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:127 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:25}}
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:128 Term:7 Command:{Operation:Append Key:0 Value:x 0 14 y ClientID:2 ReqID:27}}
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:134 Term:13 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:25}}
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 128
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:135 Term:13 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:53 [Clerk 1 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y ClientID:1 RepID:2}
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:129 Term:7 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 1 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 136
2019/06/13 18:42:53 [Clerk 1 Get] succ replicate command to replicated state machine
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 129
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:130 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:136 Term:21 Command:{Operation:Get Key:0 Value: ClientID:1 ReqID:1}}
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:131 Term:13 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:53 [Clerk 1 Get] args = {Key:2 ClientID:1 ReqID:3} to KVServer 2
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 132
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:132 Term:13 Command:{Operation:Append Key:1 Value:x 1 15 y ClientID:4 ReqID:28}}
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:133 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:26}}
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 133
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:134 Term:13 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:25}}
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:135 Term:13 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 1 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 136
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:136 Term:21 Command:{Operation:Get Key:0 Value: ClientID:1 ReqID:1}}
2019/06/13 18:42:53 spawn_clients_and_wait: client 2 is done
2019/06/13 18:42:53 [KVServer 1 Get] RPC handler, args = {Key:2 ClientID:1 ReqID:3}
2019/06/13 18:42:53 [leader 1/21 Start] receive client request {Get 2  1 3}
2019/06/13 18:42:53 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:1 ReqID:3}, logIndex = 138
2019/06/13 18:42:53 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}}], and commitIndex have updated to 137
2019/06/13 18:42:53 [follower 3/21 applyRoutine] have applied LogEntry {Index:126 Term:7 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:53 [KVServer 3 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 126
2019/06/13 18:42:53 [KVServer 3 readApplyCh] apply for client 5 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 127
2019/06/13 18:42:53 [follower 3/21 applyRoutine] have applied LogEntry {Index:127 Term:7 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:25}}
2019/06/13 18:42:53 [follower 3/21 applyRoutine] have applied LogEntry {Index:128 Term:7 Command:{Operation:Append Key:0 Value:x 0 14 y ClientID:2 ReqID:27}}
2019/06/13 18:42:53 [KVServer 3 readApplyCh] apply for client 2 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 128
2019/06/13 18:42:53 [KVServer 3 readApplyCh] apply for client 4 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 129
2019/06/13 18:42:53 [follower 3/21 applyRoutine] have applied LogEntry {Index:129 Term:7 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:53 [follower 3/21 applyRoutine] have applied LogEntry {Index:130 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:25}}
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{137 21 {Get 1  1 2}}] to peer 3 succ
2019/06/13 18:42:53 [follower 3/21 applyRoutine] have applied LogEntry {Index:131 Term:13 Command:{Operation:Get Key:1 Value: ClientID:4 ReqID:27}}
2019/06/13 18:42:53 [follower 3/21 applyRoutine] have applied LogEntry {Index:132 Term:13 Command:{Operation:Append Key:1 Value:x 1 15 y ClientID:4 ReqID:28}}
2019/06/13 18:42:53 [KVServer 3 readApplyCh] apply for client 4 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 132
2019/06/13 18:42:53 [KVServer 3 readApplyCh] apply for client 3 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 133
2019/06/13 18:42:53 [follower 3/21 applyRoutine] have applied LogEntry {Index:133 Term:13 Command:{Operation:Get Key:2 Value: ClientID:3 ReqID:26}}
2019/06/13 18:42:53 [follower 3/21 applyRoutine] have applied LogEntry {Index:134 Term:13 Command:{Operation:Get Key:3 Value: ClientID:5 ReqID:25}}
2019/06/13 18:42:53 [follower 3/21 applyRoutine] have applied LogEntry {Index:135 Term:13 Command:{Operation:Get Key:4 Value: ClientID:6 ReqID:19}}
2019/06/13 18:42:53 [follower 3/21 applyRoutine] have applied LogEntry {Index:136 Term:21 Command:{Operation:Get Key:0 Value: ClientID:1 ReqID:1}}
2019/06/13 18:42:53 [KVServer 3 readApplyCh] apply for client 1 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 136
2019/06/13 18:42:53 FFFF[follower 0/21 AppendEntries] have commit [{0 0 -1} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}}], and commitIndex have updated to 138
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:137 Term:21 Command:{Operation:Get Key:1 Value: ClientID:1 ReqID:2}}
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 1 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 137
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{138 21 {Get 2  1 3}}] to peer 0 succ
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 0, ai 138, i 18, rf.commit 138
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 138's quorum 2
2019/06/13 18:42:53 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}}], and commitIndex have updated to 138
2019/06/13 18:42:53 [follower 3/21 applyRoutine] have applied LogEntry {Index:137 Term:21 Command:{Operation:Get Key:1 Value: ClientID:1 ReqID:2}}
2019/06/13 18:42:53 [KVServer 3 readApplyCh] apply for client 1 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 137
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{138 21 {Get 2  1 3}}] to peer 3 succ
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 3, ai 138, i 18, rf.commit 138
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 138's quorum 3
2019/06/13 18:42:53 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 139
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:138 Term:21 Command:{Operation:Get Key:2 Value: ClientID:1 ReqID:3}}
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 1 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 138
2019/06/13 18:42:53 [Clerk 1 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y ClientID:1 RepID:3}
2019/06/13 18:42:53 [Clerk 1 Get] succ replicate command to replicated state machine
2019/06/13 18:42:53 [Clerk 1 Get] args = {Key:3 ClientID:1 ReqID:4} to KVServer 2
2019/06/13 18:42:53 spawn_clients_and_wait: client 3 is done
2019/06/13 18:42:53 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}}], and commitIndex have updated to 138
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:137 Term:21 Command:{Operation:Get Key:1 Value: ClientID:1 ReqID:2}}
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 1 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 137
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{138 21 {Get 2  1 3}}] to peer 2 succ
2019/06/13 18:42:53 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}}], and commitIndex have updated to 138
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:137 Term:21 Command:{Operation:Get Key:1 Value: ClientID:1 ReqID:2}}
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 1 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 137
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{138 21 {Get 2  1 3}}] to peer 4 succ
2019/06/13 18:42:53 [KVServer 1 Get] RPC handler, args = {Key:3 ClientID:1 ReqID:4}
2019/06/13 18:42:53 [leader 1/21 Start] receive client request {Get 3  1 4}
2019/06/13 18:42:53 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:1 ReqID:4}, logIndex = 139
2019/06/13 18:42:53 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}} {138 21 {Get 2  1 3}}], and commitIndex have updated to 139
2019/06/13 18:42:53 [follower 3/21 applyRoutine] have applied LogEntry {Index:138 Term:21 Command:{Operation:Get Key:2 Value: ClientID:1 ReqID:3}}
2019/06/13 18:42:53 [KVServer 3 readApplyCh] apply for client 1 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 138
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{139 21 {Get 3  1 4}}] to peer 3 succ
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 3, ai 139, i 19, rf.commit 139
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 139's quorum 2
2019/06/13 18:42:53 FFFF[follower 0/21 AppendEntries] have commit [{0 0 -1} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}} {138 21 {Get 2  1 3}}], and commitIndex have updated to 139
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:138 Term:21 Command:{Operation:Get Key:2 Value: ClientID:1 ReqID:3}}
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 1 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 138
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{139 21 {Get 3  1 4}}] to peer 0 succ
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 0, ai 139, i 19, rf.commit 139
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 139's quorum 3
2019/06/13 18:42:53 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 140
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:139 Term:21 Command:{Operation:Get Key:3 Value: ClientID:1 ReqID:4}}
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 1 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 139
2019/06/13 18:42:53 [Clerk 1 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y ClientID:1 RepID:4}
2019/06/13 18:42:53 [Clerk 1 Get] succ replicate command to replicated state machine
2019/06/13 18:42:53 [Clerk 1 Get] args = {Key:4 ClientID:1 ReqID:5} to KVServer 2
2019/06/13 18:42:53 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:1 ReqID:5}
2019/06/13 18:42:53 [leader 1/21 Start] receive client request {Get 4  1 5}
2019/06/13 18:42:53 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:1 ReqID:5}, logIndex = 140
2019/06/13 18:42:53 spawn_clients_and_wait: client 4 is done
2019/06/13 18:42:53 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}} {138 21 {Get 2  1 3}}], and commitIndex have updated to 139
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:138 Term:21 Command:{Operation:Get Key:2 Value: ClientID:1 ReqID:3}}
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 1 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 6 yx 2 7 y], CommandIndex 138
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{139 21 {Get 3  1 4}}] to peer 2 succ
2019/06/13 18:42:53 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}} {138 21 {Get 2  1 3}} {139 21 {Get 3  1 4}}], and commitIndex have updated to 140
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:138 Term:21 Command:{Operation:Get Key:2 Value: ClientID:1 ReqID:3}}
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 1 Get [2, x 2 0 yx 2 1 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 138
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 1 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 139
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:139 Term:21 Command:{Operation:Get Key:3 Value: ClientID:1 ReqID:4}}
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{139 21 {Get 3  1 4}} {140 21 {Get 4  1 5}}] to peer 4 succ
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 4, ai 140, i 20, rf.commit 140
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 140's quorum 2
2019/06/13 18:42:53 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}} {138 21 {Get 2  1 3}} {139 21 {Get 3  1 4}}], and commitIndex have updated to 140
2019/06/13 18:42:53 [follower 3/21 applyRoutine] have applied LogEntry {Index:139 Term:21 Command:{Operation:Get Key:3 Value: ClientID:1 ReqID:4}}
2019/06/13 18:42:53 [KVServer 3 readApplyCh] apply for client 1 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 139
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{140 21 {Get 4  1 5}}] to peer 3 succ
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 3, ai 140, i 20, rf.commit 140
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 140's quorum 3
2019/06/13 18:42:53 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 141
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:140 Term:21 Command:{Operation:Get Key:4 Value: ClientID:1 ReqID:5}}
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 1 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 140
2019/06/13 18:42:53 FFFF[follower 0/21 AppendEntries] have commit [{0 0 -1} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}} {138 21 {Get 2  1 3}} {139 21 {Get 3  1 4}}], and commitIndex have updated to 140
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:139 Term:21 Command:{Operation:Get Key:3 Value: ClientID:1 ReqID:4}}
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 1 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 139
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{140 21 {Get 4  1 5}}] to peer 0 succ
2019/06/13 18:42:53 [Clerk 1 Get] args = {Key:4 ClientID:1 ReqID:5} to KVServer 3
2019/06/13 18:42:53 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {118 7 {Append 2 x 2 7 y 3 23}} {119 7 {Get 3  5 23}} {120 7 {Append 3 x 3 8 y 5 24}} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}} {138 21 {Get 2  1 3}} {139 21 {Get 3  1 4}}], and commitIndex have updated to 140
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:139 Term:21 Command:{Operation:Get Key:3 Value: ClientID:1 ReqID:4}}
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 1 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 139
2019/06/13 18:42:53 [KVServer 2 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1025
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{140 21 {Get 4  1 5}}] to peer 2 succ
2019/06/13 18:42:53 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:1 ReqID:5}
2019/06/13 18:42:53 [Clerk 1 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:53 [Clerk 1 Get] args = {Key:4 ClientID:1 ReqID:5} to KVServer 4
2019/06/13 18:42:53 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:1 ReqID:5}
2019/06/13 18:42:53 [Clerk 1 Get] args = {Key:4 ClientID:1 ReqID:5} to KVServer 0
2019/06/13 18:42:53 [KVServer 2 Get] RPC handler, args = {Key:4 ClientID:1 ReqID:5}
2019/06/13 18:42:53 [Clerk 1 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:53 [Clerk 1 Get] args = {Key:4 ClientID:1 ReqID:5} to KVServer 1
2019/06/13 18:42:53 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {140 21 {Get 4  1 5}}], and commitIndex have updated to 141
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:140 Term:21 Command:{Operation:Get Key:4 Value: ClientID:1 ReqID:5}}
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 1 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 140
2019/06/13 18:42:53 FFFF[follower 0/21 AppendEntries] have commit [{0 0 -1} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}} {138 21 {Get 2  1 3}} {139 21 {Get 3  1 4}} {140 21 {Get 4  1 5}}], and commitIndex have updated to 141
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:140 Term:21 Command:{Operation:Get Key:4 Value: ClientID:1 ReqID:5}}
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 1 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 140
2019/06/13 18:42:53 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}} {138 21 {Get 2  1 3}} {139 21 {Get 3  1 4}} {140 21 {Get 4  1 5}}], and commitIndex have updated to 141
2019/06/13 18:42:53 [KVServer 3 readApplyCh] apply for client 1 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 140
2019/06/13 18:42:53 [follower 3/21 applyRoutine] have applied LogEntry {Index:140 Term:21 Command:{Operation:Get Key:4 Value: ClientID:1 ReqID:5}}
2019/06/13 18:42:53 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:1 ReqID:5}
2019/06/13 18:42:53 [Clerk 1 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:53 [Clerk 1 Get] args = {Key:4 ClientID:1 ReqID:5} to KVServer 2
2019/06/13 18:42:53 [Clerk 1 Get] args = {Key:4 ClientID:1 ReqID:5} to KVServer 3
2019/06/13 18:42:53 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:1 ReqID:5}
2019/06/13 18:42:53 [Clerk 1 Get] args = {Key:4 ClientID:1 ReqID:5} to KVServer 4
2019/06/13 18:42:53 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:1 ReqID:5}
2019/06/13 18:42:53 [Clerk 1 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:53 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}} {138 21 {Get 2  1 3}} {139 21 {Get 3  1 4}} {140 21 {Get 4  1 5}}], and commitIndex have updated to 141
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:140 Term:21 Command:{Operation:Get Key:4 Value: ClientID:1 ReqID:5}}
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 1 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 140
2019/06/13 18:42:53 [Clerk 1 Get] args = {Key:4 ClientID:1 ReqID:5} to KVServer 0
2019/06/13 18:42:53 [Clerk 1 Get] args = {Key:4 ClientID:1 ReqID:5} to KVServer 1
2019/06/13 18:42:53 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:1 ReqID:5}
2019/06/13 18:42:53 [Clerk 1 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:53 [Clerk 1 Get] args = {Key:4 ClientID:1 ReqID:5} to KVServer 2
2019/06/13 18:42:53 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:1 ReqID:5}
2019/06/13 18:42:53 [leader 1/21 Start] receive client request {Get 4  1 5}
2019/06/13 18:42:53 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:1 ReqID:5}, logIndex = 141
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{141 21 {Get 4  1 5}}] to peer 2 succ
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 2, ai 141, i 21, rf.commit 141
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 141's quorum 2
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{141 21 {Get 4  1 5}}] to peer 3 succ
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 3, ai 141, i 21, rf.commit 141
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 141's quorum 3
2019/06/13 18:42:53 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 142
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:141 Term:21 Command:{Operation:Get Key:4 Value: ClientID:1 ReqID:5}}
2019/06/13 18:42:53 [Clerk 1 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y ClientID:1 RepID:5}
2019/06/13 18:42:53 [Clerk 1 Get] succ replicate command to replicated state machine
2019/06/13 18:42:53 spawn_clients_and_wait: waiting for clients
2019/06/13 18:42:53 [Clerk 7 PutAppend] args = {Key:1 Value: Op:Put ClientID:7 ReqID:1} to KVServer 0
2019/06/13 18:42:53 [Clerk 8 PutAppend] args = {Key:4 Value: Op:Put ClientID:8 ReqID:1} to KVServer 0
2019/06/13 18:42:53 [Clerk 9 PutAppend] args = {Key:2 Value: Op:Put ClientID:9 ReqID:1} to KVServer 0
2019/06/13 18:42:53 [Clerk 10 PutAppend] args = {Key:3 Value: Op:Put ClientID:10 ReqID:1} to KVServer 0
2019/06/13 18:42:53 [Clerk 11 PutAppend] args = {Key:0 Value: Op:Put ClientID:11 ReqID:1} to KVServer 0
2019/06/13 18:42:53 [Clerk 7 PutAppend] RPC succ, Put 1 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:53 [Clerk 10 PutAppend] RPC succ, Put 3 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{141 21 {Get 4  1 5}}] to peer 0 succ
2019/06/13 18:42:53 [Clerk 7 PutAppend] args = {Key:1 Value: Op:Put ClientID:7 ReqID:1} to KVServer 1
2019/06/13 18:42:53 [Clerk 8 PutAppend] RPC succ, Put 4 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:53 [Clerk 11 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:53 [leader 1/21 Start] receive client request {Put 2  9 1}
2019/06/13 18:42:53 [KVServer 1 proposeCommand] cmd = {Operation:Put Key:2 Value: ClientID:9 ReqID:1}, logIndex = 142
2019/06/13 18:42:53 [Clerk 10 PutAppend] args = {Key:3 Value: Op:Put ClientID:10 ReqID:1} to KVServer 1
2019/06/13 18:42:53 [Clerk 8 PutAppend] args = {Key:4 Value: Op:Put ClientID:8 ReqID:1} to KVServer 1
2019/06/13 18:42:53 [Clerk 11 PutAppend] args = {Key:0 Value: Op:Put ClientID:11 ReqID:1} to KVServer 1
2019/06/13 18:42:53 [Clerk 7 PutAppend] RPC succ, Put 1 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:53 [Clerk 8 PutAppend] RPC succ, Put 4 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:53 [Clerk 7 PutAppend] args = {Key:1 Value: Op:Put ClientID:7 ReqID:1} to KVServer 2
2019/06/13 18:42:53 [Clerk 7 PutAppend] RPC succ, Put 1 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:53 [Clerk 10 PutAppend] RPC succ, Put 3 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:53 [Clerk 8 PutAppend] args = {Key:4 Value: Op:Put ClientID:8 ReqID:1} to KVServer 2
2019/06/13 18:42:53 [leader 1/21 Start] receive client request {Put 4  8 1}
2019/06/13 18:42:53 [KVServer 1 proposeCommand] cmd = {Operation:Put Key:4 Value: ClientID:8 ReqID:1}, logIndex = 143
2019/06/13 18:42:53 [Clerk 11 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:53 [Clerk 7 PutAppend] args = {Key:1 Value: Op:Put ClientID:7 ReqID:1} to KVServer 3
2019/06/13 18:42:53 [Clerk 10 PutAppend] args = {Key:3 Value: Op:Put ClientID:10 ReqID:1} to KVServer 2
2019/06/13 18:42:53 [Clerk 11 PutAppend] args = {Key:0 Value: Op:Put ClientID:11 ReqID:1} to KVServer 2
2019/06/13 18:42:53 [Clerk 11 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:53 [Clerk 7 PutAppend] RPC succ, Put 1 , reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:53 [Clerk 11 PutAppend] args = {Key:0 Value: Op:Put ClientID:11 ReqID:1} to KVServer 3
2019/06/13 18:42:53 [leader 1/21 Start] receive client request {Put 0  11 1}
2019/06/13 18:42:53 [KVServer 1 proposeCommand] cmd = {Operation:Put Key:0 Value: ClientID:11 ReqID:1}, logIndex = 144
2019/06/13 18:42:53 [Clerk 7 PutAppend] args = {Key:1 Value: Op:Put ClientID:7 ReqID:1} to KVServer 4
2019/06/13 18:42:53 [leader 1/21 Start] receive client request {Put 3  10 1}
2019/06/13 18:42:53 [KVServer 1 proposeCommand] cmd = {Operation:Put Key:3 Value: ClientID:10 ReqID:1}, logIndex = 145
2019/06/13 18:42:53 FFFF[follower 0/21 AppendEntries] have commit [{0 0 -1} {121 7 {Get 2  3 24}} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}} {138 21 {Get 2  1 3}} {139 21 {Get 3  1 4}} {140 21 {Get 4  1 5}} {141 21 {Get 4  1 5}}], and commitIndex have updated to 142
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:141 Term:21 Command:{Operation:Get Key:4 Value: ClientID:1 ReqID:5}}
2019/06/13 18:42:53 [KVServer 0 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1072
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}}] to peer 0 succ
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 0, ai 145, i 25, rf.commit 142
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 145's quorum 2
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 0, ai 144, i 24, rf.commit 142
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 144's quorum 2
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 0, ai 143, i 23, rf.commit 142
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 143's quorum 2
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 0, ai 142, i 22, rf.commit 142
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 142's quorum 2
2019/06/13 18:42:53 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {140 21 {Get 4  1 5}} {141 21 {Get 4  1 5}}], and commitIndex have updated to 142
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:141 Term:21 Command:{Operation:Get Key:4 Value: ClientID:1 ReqID:5}}
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}}] to peer 2 succ
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 2, ai 145, i 25, rf.commit 142
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 145's quorum 3
2019/06/13 18:42:53 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 146
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:142 Term:21 Command:{Operation:Put Key:2 Value: ClientID:9 ReqID:1}}
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 9 PUT [2, ], CommandIndex 142
2019/06/13 18:42:53 [KVServer 1 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1072
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 8 PUT [4, ], CommandIndex 143
2019/06/13 18:42:53 [Clerk 9 PutAppend] RPC succ, Put 2 , reply = {WrongLeader:false Err: ClientID:9 RepID:1}
2019/06/13 18:42:53 [Clerk 9 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:143 Term:21 Command:{Operation:Put Key:4 Value: ClientID:8 ReqID:1}}
2019/06/13 18:42:53 2: client new append x 2 0 y
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:144 Term:21 Command:{Operation:Put Key:0 Value: ClientID:11 ReqID:1}}
2019/06/13 18:42:53 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 0 y Op:Append ClientID:9 ReqID:2} to KVServer 0
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 11 PUT [0, ], CommandIndex 144
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 10 PUT [3, ], CommandIndex 145
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:145 Term:21 Command:{Operation:Put Key:3 Value: ClientID:10 ReqID:1}}
2019/06/13 18:42:53 [Clerk 8 PutAppend] RPC succ, Put 4 , reply = {WrongLeader:false Err: ClientID:8 RepID:1}
2019/06/13 18:42:53 [Clerk 8 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:53 4: client new get 4
2019/06/13 18:42:53 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:2} to KVServer 2
2019/06/13 18:42:53 [Clerk 10 PutAppend] RPC succ, Put 3 , reply = {WrongLeader:false Err: ClientID:10 RepID:1}
2019/06/13 18:42:53 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:53 3: client new get 3
2019/06/13 18:42:53 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:2} to KVServer 2
2019/06/13 18:42:53 [Clerk 11 PutAppend] RPC succ, Put 0 , reply = {WrongLeader:false Err: ClientID:11 RepID:1}
2019/06/13 18:42:53 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:53 0: client new get 0
2019/06/13 18:42:53 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:2} to KVServer 3
2019/06/13 18:42:53 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}} {138 21 {Get 2  1 3}} {139 21 {Get 3  1 4}} {140 21 {Get 4  1 5}} {141 21 {Get 4  1 5}}], and commitIndex have updated to 142
2019/06/13 18:42:53 [follower 3/21 applyRoutine] have applied LogEntry {Index:141 Term:21 Command:{Operation:Get Key:4 Value: ClientID:1 ReqID:5}}
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}}] to peer 3 succ
2019/06/13 18:42:53 [leader 1/21 Start] receive client request {Put 1  7 1}
2019/06/13 18:42:53 [KVServer 1 proposeCommand] cmd = {Operation:Put Key:1 Value: ClientID:7 ReqID:1}, logIndex = 146
2019/06/13 18:42:53 [KVServer 1 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:2}
2019/06/13 18:42:53 [leader 1/21 Start] receive client request {Get 0  11 2}
2019/06/13 18:42:53 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:11 ReqID:2}, logIndex = 147
2019/06/13 18:42:53 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {122 7 {Append 1 x 1 14 y 4 26}} {123 7 {Append 0 x 0 13 y 2 26}} {124 7 {Append 4 x 4 7 y 6 18}} {125 7 {Get 4  6 19}} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}} {138 21 {Get 2  1 3}} {139 21 {Get 3  1 4}} {140 21 {Get 4  1 5}} {141 21 {Get 4  1 5}}], and commitIndex have updated to 142
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:141 Term:21 Command:{Operation:Get Key:4 Value: ClientID:1 ReqID:5}}
2019/06/13 18:42:53 [KVServer 4 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1039
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{141 21 {Get 4  1 5}} {142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}}] to peer 4 succ
2019/06/13 18:42:53 [leader 1/21 Start] receive client request {Append 2 x 2 0 y 9 2}
2019/06/13 18:42:53 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 0 y ClientID:9 ReqID:2}, logIndex = 148
2019/06/13 18:42:53 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:2} to KVServer 3
2019/06/13 18:42:53 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:2} to KVServer 3
2019/06/13 18:42:53 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:2}
2019/06/13 18:42:53 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:53 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:2}
2019/06/13 18:42:53 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:53 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:2} to KVServer 4
2019/06/13 18:42:53 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:2} to KVServer 4
2019/06/13 18:42:53 [KVServer 4 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:2}
2019/06/13 18:42:53 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:2}
2019/06/13 18:42:53 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:53 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:53 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:2} to KVServer 0
2019/06/13 18:42:53 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:2} to KVServer 0
2019/06/13 18:42:53 FFFF[follower 0/21 AppendEntries] have commit [{0 0 -1} {142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}}], and commitIndex have updated to 146
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 9 PUT [2, ], CommandIndex 142
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:142 Term:21 Command:{Operation:Put Key:2 Value: ClientID:9 ReqID:1}}
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:143 Term:21 Command:{Operation:Put Key:4 Value: ClientID:8 ReqID:1}}
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 8 PUT [4, ], CommandIndex 143
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 11 PUT [0, ], CommandIndex 144
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{146 21 {Put 1  7 1}} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}}] to peer 0 succ
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:144 Term:21 Command:{Operation:Put Key:0 Value: ClientID:11 ReqID:1}}
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 0, ai 148, i 6, rf.commit 146
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 148's quorum 2
2019/06/13 18:42:53 [KVServer 0 readApplyCh] apply for client 10 PUT [3, ], CommandIndex 145
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 0, ai 147, i 5, rf.commit 146
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 147's quorum 2
2019/06/13 18:42:53 [follower 0/21 applyRoutine] have applied LogEntry {Index:145 Term:21 Command:{Operation:Put Key:3 Value: ClientID:10 ReqID:1}}
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 0, ai 146, i 4, rf.commit 146
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 146's quorum 2
2019/06/13 18:42:53 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:2}
2019/06/13 18:42:53 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:53 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}}], and commitIndex have updated to 146
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:142 Term:21 Command:{Operation:Put Key:2 Value: ClientID:9 ReqID:1}}
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 9 PUT [2, ], CommandIndex 142
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 8 PUT [4, ], CommandIndex 143
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:143 Term:21 Command:{Operation:Put Key:4 Value: ClientID:8 ReqID:1}}
2019/06/13 18:42:53 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{146 21 {Put 1  7 1}} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}}] to peer 4 succ
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 11 PUT [0, ], CommandIndex 144
2019/06/13 18:42:53 [leader 1/21 calcCommitIndex] follower 4, ai 148, i 6, rf.commit 146
2019/06/13 18:42:53 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 148's quorum 3
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:144 Term:21 Command:{Operation:Put Key:0 Value: ClientID:11 ReqID:1}}
2019/06/13 18:42:53 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 149
2019/06/13 18:42:53 [KVServer 4 readApplyCh] apply for client 10 PUT [3, ], CommandIndex 145
2019/06/13 18:42:53 [follower 4/21 applyRoutine] have applied LogEntry {Index:145 Term:21 Command:{Operation:Put Key:3 Value: ClientID:10 ReqID:1}}
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 7 PUT [1, ], CommandIndex 146
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:146 Term:21 Command:{Operation:Put Key:1 Value: ClientID:7 ReqID:1}}
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:147 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:2}}
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 11 Get [0, ], CommandIndex 147
2019/06/13 18:42:53 [KVServer 1 readApplyCh] apply for client 9 APPEND [2, x 2 0 y], CommandIndex 148
2019/06/13 18:42:53 [leader 1/21 applyRoutine] have applied LogEntry {Index:148 Term:21 Command:{Operation:Append Key:2 Value:x 2 0 y ClientID:9 ReqID:2}}
2019/06/13 18:42:53 [Clerk 7 PutAppend] RPC succ, Put 1 , reply = {WrongLeader:false Err: ClientID:7 RepID:1}
2019/06/13 18:42:53 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:53 1: client new append x 1 0 y
2019/06/13 18:42:53 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 0 y Op:Append ClientID:7 ReqID:2} to KVServer 4
2019/06/13 18:42:53 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 0 y, reply = {WrongLeader:false Err: ClientID:9 RepID:2}
2019/06/13 18:42:53 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value: ClientID:11 RepID:2}
2019/06/13 18:42:53 [Clerk 9 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:53 [Clerk 11 Get] succ replicate command to replicated state machine
2019/06/13 18:42:53 0: client new append x 0 0 y
2019/06/13 18:42:53 2: client new append x 2 1 y
2019/06/13 18:42:53 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 0 y Op:Append ClientID:11 ReqID:3} to KVServer 3
2019/06/13 18:42:53 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 1 y Op:Append ClientID:9 ReqID:3} to KVServer 0
2019/06/13 18:42:53 [KVServer 2 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:2}
2019/06/13 18:42:53 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:53 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {140 21 {Get 4  1 5}} {141 21 {Get 4  1 5}} {142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}}], and commitIndex have updated to 146
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:142 Term:21 Command:{Operation:Put Key:2 Value: ClientID:9 ReqID:1}}
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 9 PUT [2, ], CommandIndex 142
2019/06/13 18:42:53 [KVServer 2 readApplyCh] apply for client 8 PUT [4, ], CommandIndex 143
2019/06/13 18:42:53 [follower 2/21 applyRoutine] have applied LogEntry {Index:143 Term:21 Command:{Operation:Put Key:4 Value: ClientID:8 ReqID:1}}
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:144 Term:21 Command:{Operation:Put Key:0 Value: ClientID:11 ReqID:1}}
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{146 21 {Put 1  7 1}} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}}] to peer 2 succ
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 11 PUT [0, ], CommandIndex 144
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 10 PUT [3, ], CommandIndex 145
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:145 Term:21 Command:{Operation:Put Key:3 Value: ClientID:10 ReqID:1}}
2019/06/13 18:42:54 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:2} to KVServer 1
2019/06/13 18:42:54 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}} {138 21 {Get 2  1 3}} {139 21 {Get 3  1 4}} {140 21 {Get 4  1 5}} {141 21 {Get 4  1 5}} {142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}}], and commitIndex have updated to 146
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:142 Term:21 Command:{Operation:Put Key:2 Value: ClientID:9 ReqID:1}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 9 PUT [2, ], CommandIndex 142
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 8 PUT [4, ], CommandIndex 143
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:143 Term:21 Command:{Operation:Put Key:4 Value: ClientID:8 ReqID:1}}
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:144 Term:21 Command:{Operation:Put Key:0 Value: ClientID:11 ReqID:1}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 11 PUT [0, ], CommandIndex 144
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 10 PUT [3, ], CommandIndex 145
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:145 Term:21 Command:{Operation:Put Key:3 Value: ClientID:10 ReqID:1}}
2019/06/13 18:42:54 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:2} to KVServer 1
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 1 x 1 0 y 7 2}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 0 y ClientID:7 ReqID:2}, logIndex = 149
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 0 x 0 0 y 11 3}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 0 y ClientID:11 ReqID:3}, logIndex = 150
2019/06/13 18:42:54 [KVServer 0 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:2}
2019/06/13 18:42:54 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 2 x 2 1 y 9 3}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 1 y ClientID:9 ReqID:3}, logIndex = 151
2019/06/13 18:42:54 [KVServer 2 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:2}
2019/06/13 18:42:54 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:2} to KVServer 2
2019/06/13 18:42:54 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:2} to KVServer 2
2019/06/13 18:42:54 [KVServer 1 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:2}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Get 3  10 2}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:10 ReqID:2}, logIndex = 152
2019/06/13 18:42:54 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:2}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Get 4  8 2}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:8 ReqID:2}, logIndex = 153
2019/06/13 18:42:54 FFFF[follower 0/21 AppendEntries] have commit [{0 0 -1} {142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}} {146 21 {Put 1  7 1}} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}}], and commitIndex have updated to 149
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:146 Term:21 Command:{Operation:Put Key:1 Value: ClientID:7 ReqID:1}}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 7 PUT [1, ], CommandIndex 146
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 11 Get [0, ], CommandIndex 147
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:147 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:2}}
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:148 Term:21 Command:{Operation:Append Key:2 Value:x 2 0 y ClientID:9 ReqID:2}}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 9 APPEND [2, x 2 0 y], CommandIndex 148
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{149 21 {Append 1 x 1 0 y 7 2}} {150 21 {Append 0 x 0 0 y 11 3}} {151 21 {Append 2 x 2 1 y 9 3}} {152 21 {Get 3  10 2}} {153 21 {Get 4  8 2}}] to peer 0 succ
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 0, ai 153, i 11, rf.commit 149
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 153's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 0, ai 152, i 10, rf.commit 149
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 152's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 0, ai 151, i 9, rf.commit 149
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 151's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 0, ai 150, i 8, rf.commit 149
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 150's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 0, ai 149, i 7, rf.commit 149
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 149's quorum 2
2019/06/13 18:42:54 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {126 7 {Get 2  3 25}} {127 7 {Get 3  5 25}} {128 7 {Append 0 x 0 14 y 2 27}} {129 7 {Get 1  4 27}} {130 13 {Get 2  3 25}} {131 13 {Get 1  4 27}} {132 13 {Append 1 x 1 15 y 4 28}} {133 13 {Get 2  3 26}} {134 13 {Get 3  5 25}} {135 13 {Get 4  6 19}} {136 21 {Get 0  1 1}} {137 21 {Get 1  1 2}} {138 21 {Get 2  1 3}} {139 21 {Get 3  1 4}} {140 21 {Get 4  1 5}} {141 21 {Get 4  1 5}} {142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}} {146 21 {Put 1  7 1}} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}}], and commitIndex have updated to 149
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:146 Term:21 Command:{Operation:Put Key:1 Value: ClientID:7 ReqID:1}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 7 PUT [1, ], CommandIndex 146
2019/06/13 18:42:54 [KVServer 3 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1189
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{146 21 {Put 1  7 1}} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}} {149 21 {Append 1 x 1 0 y 7 2}} {150 21 {Append 0 x 0 0 y 11 3}} {151 21 {Append 2 x 2 1 y 9 3}} {152 21 {Get 3  10 2}} {153 21 {Get 4  8 2}}] to peer 3 succ
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 3, ai 153, i 11, rf.commit 149
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 153's quorum 3
2019/06/13 18:42:54 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 154
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:149 Term:21 Command:{Operation:Append Key:1 Value:x 1 0 y ClientID:7 ReqID:2}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 11 Get [0, ], CommandIndex 147
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:147 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:2}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 y], CommandIndex 149
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 9 APPEND [2, x 2 0 y], CommandIndex 148
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 11 APPEND [0, x 0 0 y], CommandIndex 150
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:150 Term:21 Command:{Operation:Append Key:0 Value:x 0 0 y ClientID:11 ReqID:3}}
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:148 Term:21 Command:{Operation:Append Key:2 Value:x 2 0 y ClientID:9 ReqID:2}}
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:151 Term:21 Command:{Operation:Append Key:2 Value:x 2 1 y ClientID:9 ReqID:3}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 y], CommandIndex 151
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 10 Get [3, ], CommandIndex 152
2019/06/13 18:42:54 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 0 y, reply = {WrongLeader:false Err: ClientID:7 RepID:2}
2019/06/13 18:42:54 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 0 y, reply = {WrongLeader:false Err: ClientID:11 RepID:3}
2019/06/13 18:42:54 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 0: client new append x 0 1 y
2019/06/13 18:42:54 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 1 y Op:Append ClientID:11 ReqID:4} to KVServer 3
2019/06/13 18:42:54 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value: ClientID:10 RepID:2}
2019/06/13 18:42:54 [Clerk 10 Get] succ replicate command to replicated state machine
2019/06/13 18:42:54 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 1: client new get 1
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:152 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:2}}
2019/06/13 18:42:54 3: client new get 3
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:153 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:2}}
2019/06/13 18:42:54 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:3} to KVServer 2
2019/06/13 18:42:54 [Clerk 7 Get] args = {Key:1 ClientID:7 ReqID:3} to KVServer 4
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 8 Get [4, ], CommandIndex 153
2019/06/13 18:42:54 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 1 y, reply = {WrongLeader:false Err: ClientID:9 RepID:3}
2019/06/13 18:42:54 [Clerk 9 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 2: client new get 2
2019/06/13 18:42:54 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:4} to KVServer 0
2019/06/13 18:42:54 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value: ClientID:8 RepID:2}
2019/06/13 18:42:54 [Clerk 8 Get] succ replicate command to replicated state machine
2019/06/13 18:42:54 4: client new append x 4 0 y
2019/06/13 18:42:54 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 0 y Op:Append ClientID:8 ReqID:3} to KVServer 2
2019/06/13 18:42:54 [KVServer 1 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:4}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Get 2  9 4}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:9 ReqID:4}, logIndex = 154
2019/06/13 18:42:54 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {140 21 {Get 4  1 5}} {141 21 {Get 4  1 5}} {142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}} {146 21 {Put 1  7 1}} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}}], and commitIndex have updated to 149
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:146 Term:21 Command:{Operation:Put Key:1 Value: ClientID:7 ReqID:1}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 7 PUT [1, ], CommandIndex 146
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 11 Get [0, ], CommandIndex 147
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:147 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:2}}
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:148 Term:21 Command:{Operation:Append Key:2 Value:x 2 0 y ClientID:9 ReqID:2}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 9 APPEND [2, x 2 0 y], CommandIndex 148
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{149 21 {Append 1 x 1 0 y 7 2}} {150 21 {Append 0 x 0 0 y 11 3}} {151 21 {Append 2 x 2 1 y 9 3}} {152 21 {Get 3  10 2}} {153 21 {Get 4  8 2}}] to peer 2 succ
2019/06/13 18:42:54 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}} {146 21 {Put 1  7 1}} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}}], and commitIndex have updated to 149
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:146 Term:21 Command:{Operation:Put Key:1 Value: ClientID:7 ReqID:1}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 7 PUT [1, ], CommandIndex 146
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 11 Get [0, ], CommandIndex 147
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:147 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:2}}
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:148 Term:21 Command:{Operation:Append Key:2 Value:x 2 0 y ClientID:9 ReqID:2}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 9 APPEND [2, x 2 0 y], CommandIndex 148
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{149 21 {Append 1 x 1 0 y 7 2}} {150 21 {Append 0 x 0 0 y 11 3}} {151 21 {Append 2 x 2 1 y 9 3}} {152 21 {Get 3  10 2}} {153 21 {Get 4  8 2}}] to peer 4 succ
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 4 x 4 0 y 8 3}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 0 y ClientID:8 ReqID:3}, logIndex = 155
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 0 x 0 1 y 11 4}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 1 y ClientID:11 ReqID:4}, logIndex = 156
2019/06/13 18:42:54 [KVServer 1 Get] RPC handler, args = {Key:1 ClientID:7 ReqID:3}
2019/06/13 18:42:54 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:3} to KVServer 3
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Get 1  7 3}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:7 ReqID:3}, logIndex = 157
2019/06/13 18:42:54 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:3}
2019/06/13 18:42:54 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:3} to KVServer 4
2019/06/13 18:42:54 [KVServer 4 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:3}
2019/06/13 18:42:54 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:3} to KVServer 0
2019/06/13 18:42:54 [KVServer 2 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:3}
2019/06/13 18:42:54 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:54 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}} {146 21 {Put 1  7 1}} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}} {149 21 {Append 1 x 1 0 y 7 2}} {150 21 {Append 0 x 0 0 y 11 3}} {151 21 {Append 2 x 2 1 y 9 3}} {152 21 {Get 3  10 2}} {153 21 {Get 4  8 2}}], and commitIndex have updated to 154
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:149 Term:21 Command:{Operation:Append Key:1 Value:x 1 0 y ClientID:7 ReqID:2}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 y], CommandIndex 149
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 11 APPEND [0, x 0 0 y], CommandIndex 150
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:150 Term:21 Command:{Operation:Append Key:0 Value:x 0 0 y ClientID:11 ReqID:3}}
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:151 Term:21 Command:{Operation:Append Key:2 Value:x 2 1 y ClientID:9 ReqID:3}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 y], CommandIndex 151
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 10 Get [3, ], CommandIndex 152
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:152 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:2}}
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:153 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:2}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 8 Get [4, ], CommandIndex 153
2019/06/13 18:42:54 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:3} to KVServer 1
2019/06/13 18:42:54 [KVServer 0 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:3}
2019/06/13 18:42:54 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}} {149 21 {Append 1 x 1 0 y 7 2}} {150 21 {Append 0 x 0 0 y 11 3}} {151 21 {Append 2 x 2 1 y 9 3}} {152 21 {Get 3  10 2}} {153 21 {Get 4  8 2}}], and commitIndex have updated to 154
2019/06/13 18:42:54 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:149 Term:21 Command:{Operation:Append Key:1 Value:x 1 0 y ClientID:7 ReqID:2}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 y], CommandIndex 149
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 11 APPEND [0, x 0 0 y], CommandIndex 150
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:150 Term:21 Command:{Operation:Append Key:0 Value:x 0 0 y ClientID:11 ReqID:3}}
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:151 Term:21 Command:{Operation:Append Key:2 Value:x 2 1 y ClientID:9 ReqID:3}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 y], CommandIndex 151
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 10 Get [3, ], CommandIndex 152
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:152 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:2}}
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:153 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:2}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 8 Get [4, ], CommandIndex 153
2019/06/13 18:42:54 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {140 21 {Get 4  1 5}} {141 21 {Get 4  1 5}} {142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}} {146 21 {Put 1  7 1}} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}} {149 21 {Append 1 x 1 0 y 7 2}} {150 21 {Append 0 x 0 0 y 11 3}} {151 21 {Append 2 x 2 1 y 9 3}} {152 21 {Get 3  10 2}} {153 21 {Get 4  8 2}}], and commitIndex have updated to 154
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:149 Term:21 Command:{Operation:Append Key:1 Value:x 1 0 y ClientID:7 ReqID:2}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 7 APPEND [1, x 1 0 y], CommandIndex 149
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 11 APPEND [0, x 0 0 y], CommandIndex 150
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:150 Term:21 Command:{Operation:Append Key:0 Value:x 0 0 y ClientID:11 ReqID:3}}
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:151 Term:21 Command:{Operation:Append Key:2 Value:x 2 1 y ClientID:9 ReqID:3}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 y], CommandIndex 151
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 10 Get [3, ], CommandIndex 152
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{154 21 {Get 2  9 4}} {155 21 {Append 4 x 4 0 y 8 3}} {156 21 {Append 0 x 0 1 y 11 4}} {157 21 {Get 1  7 3}}] to peer 2 succ
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:152 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:2}}
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 157, i 15, rf.commit 154
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 8 Get [4, ], CommandIndex 153
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 157's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 156, i 14, rf.commit 154
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 156's quorum 2
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:153 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:2}}
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 155, i 13, rf.commit 154
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 155's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 154, i 12, rf.commit 154
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 154's quorum 2
2019/06/13 18:42:54 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:3} to KVServer 2
2019/06/13 18:42:54 [KVServer 1 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:3}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Get 3  10 3}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:10 ReqID:3}, logIndex = 158
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{158 21 {Get 3  10 3}}] to peer 2 succ
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 158, i 16, rf.commit 154
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 158's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 157, i 15, rf.commit 154
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 157's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 156, i 14, rf.commit 154
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 156's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 155, i 13, rf.commit 154
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 155's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 154, i 12, rf.commit 154
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 154's quorum 2
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{154 21 {Get 2  9 4}} {155 21 {Append 4 x 4 0 y 8 3}} {156 21 {Append 0 x 0 1 y 11 4}} {157 21 {Get 1  7 3}} {158 21 {Get 3  10 3}}] to peer 3 succ
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 3, ai 158, i 16, rf.commit 154
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 158's quorum 3
2019/06/13 18:42:54 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 159
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:154 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:4}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 y], CommandIndex 154
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 8 APPEND [4, x 4 0 y], CommandIndex 155
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:155 Term:21 Command:{Operation:Append Key:4 Value:x 4 0 y ClientID:8 ReqID:3}}
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:156 Term:21 Command:{Operation:Append Key:0 Value:x 0 1 y ClientID:11 ReqID:4}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 y], CommandIndex 156
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 7 Get [1, x 1 0 y], CommandIndex 157
2019/06/13 18:42:54 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 y ClientID:9 RepID:4}
2019/06/13 18:42:54 [Clerk 9 Get] succ replicate command to replicated state machine
2019/06/13 18:42:54 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 0 y, reply = {WrongLeader:false Err: ClientID:8 RepID:3}
2019/06/13 18:42:54 2: client new append x 2 2 y
2019/06/13 18:42:54 [Clerk 8 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 2 y Op:Append ClientID:9 ReqID:5} to KVServer 0
2019/06/13 18:42:54 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 1 y, reply = {WrongLeader:false Err: ClientID:11 RepID:4}
2019/06/13 18:42:54 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 0: client new append x 0 2 y
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:157 Term:21 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:3}}
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:158 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:3}}
2019/06/13 18:42:54 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 2 y Op:Append ClientID:11 ReqID:5} to KVServer 3
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 10 Get [3, ], CommandIndex 158
2019/06/13 18:42:54 [Clerk 7 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 y ClientID:7 RepID:3}
2019/06/13 18:42:54 [Clerk 7 Get] succ replicate command to replicated state machine
2019/06/13 18:42:54 4: client new get 4
2019/06/13 18:42:54 1: client new append x 1 1 y
2019/06/13 18:42:54 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:4} to KVServer 2
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 1 y Op:Append ClientID:7 ReqID:4} to KVServer 4
2019/06/13 18:42:54 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value: ClientID:10 RepID:3}
2019/06/13 18:42:54 [Clerk 10 Get] succ replicate command to replicated state machine
2019/06/13 18:42:54 3: client new append x 3 0 y
2019/06/13 18:42:54 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 0 y Op:Append ClientID:10 ReqID:4} to KVServer 2
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{154 21 {Get 2  9 4}} {155 21 {Append 4 x 4 0 y 8 3}} {156 21 {Append 0 x 0 1 y 11 4}} {157 21 {Get 1  7 3}} {158 21 {Get 3  10 3}}] to peer 4 succ
2019/06/13 18:42:54 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 2 y Op:Append ClientID:11 ReqID:5} to KVServer 4
2019/06/13 18:42:54 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:4}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Get 4  8 4}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:8 ReqID:4}, logIndex = 159
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 3 x 3 0 y 10 4}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 0 y ClientID:10 ReqID:4}, logIndex = 160
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 2 x 2 2 y 9 5}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 2 y ClientID:9 ReqID:5}, logIndex = 161
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 1 y Op:Append ClientID:7 ReqID:4} to KVServer 0
2019/06/13 18:42:54 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 2 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 2 y Op:Append ClientID:11 ReqID:5} to KVServer 0
2019/06/13 18:42:54 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 1 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 1 y Op:Append ClientID:7 ReqID:4} to KVServer 1
2019/06/13 18:42:54 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 2 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}} {146 21 {Put 1  7 1}} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}} {149 21 {Append 1 x 1 0 y 7 2}} {150 21 {Append 0 x 0 0 y 11 3}} {151 21 {Append 2 x 2 1 y 9 3}} {152 21 {Get 3  10 2}} {153 21 {Get 4  8 2}} {154 21 {Get 2  9 4}} {155 21 {Append 4 x 4 0 y 8 3}} {156 21 {Append 0 x 0 1 y 11 4}} {157 21 {Get 1  7 3}} {158 21 {Get 3  10 3}}], and commitIndex have updated to 159
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 y], CommandIndex 154
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:154 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:4}}
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:155 Term:21 Command:{Operation:Append Key:4 Value:x 4 0 y ClientID:8 ReqID:3}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 8 APPEND [4, x 4 0 y], CommandIndex 155
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{159 21 {Get 4  8 4}} {160 21 {Append 3 x 3 0 y 10 4}} {161 21 {Append 2 x 2 2 y 9 5}}] to peer 4 succ
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 y], CommandIndex 156
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 4, ai 161, i 19, rf.commit 159
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 161's quorum 2
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:156 Term:21 Command:{Operation:Append Key:0 Value:x 0 1 y ClientID:11 ReqID:4}}
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 4, ai 160, i 18, rf.commit 159
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 160's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 4, ai 159, i 17, rf.commit 159
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 159's quorum 2
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 7 Get [1, x 1 0 y], CommandIndex 157
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:157 Term:21 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:3}}
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:158 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:3}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 10 Get [3, ], CommandIndex 158
2019/06/13 18:42:54 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 2 y Op:Append ClientID:11 ReqID:5} to KVServer 1
2019/06/13 18:42:54 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {140 21 {Get 4  1 5}} {141 21 {Get 4  1 5}} {142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}} {146 21 {Put 1  7 1}} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}} {149 21 {Append 1 x 1 0 y 7 2}} {150 21 {Append 0 x 0 0 y 11 3}} {151 21 {Append 2 x 2 1 y 9 3}} {152 21 {Get 3  10 2}} {153 21 {Get 4  8 2}} {154 21 {Get 2  9 4}} {155 21 {Append 4 x 4 0 y 8 3}} {156 21 {Append 0 x 0 1 y 11 4}} {157 21 {Get 1  7 3}} {158 21 {Get 3  10 3}}], and commitIndex have updated to 159
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:154 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:4}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 y], CommandIndex 154
2019/06/13 18:42:54 [KVServer 2 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1009
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{159 21 {Get 4  8 4}} {160 21 {Append 3 x 3 0 y 10 4}} {161 21 {Append 2 x 2 2 y 9 5}}] to peer 2 succ
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 161, i 19, rf.commit 159
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 161's quorum 3
2019/06/13 18:42:54 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 162
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:159 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:4}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 8 Get [4, x 4 0 y], CommandIndex 159
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 10 APPEND [3, x 3 0 y], CommandIndex 160
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:160 Term:21 Command:{Operation:Append Key:3 Value:x 3 0 y ClientID:10 ReqID:4}}
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:161 Term:21 Command:{Operation:Append Key:2 Value:x 2 2 y ClientID:9 ReqID:5}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 8 APPEND [4, x 4 0 y], CommandIndex 155
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 y], CommandIndex 161
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:155 Term:21 Command:{Operation:Append Key:4 Value:x 4 0 y ClientID:8 ReqID:3}}
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:156 Term:21 Command:{Operation:Append Key:0 Value:x 0 1 y ClientID:11 ReqID:4}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 y], CommandIndex 156
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 7 Get [1, x 1 0 y], CommandIndex 157
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:157 Term:21 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:3}}
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:158 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:3}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 10 Get [3, ], CommandIndex 158
2019/06/13 18:42:54 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 0 y, reply = {WrongLeader:false Err: ClientID:10 RepID:4}
2019/06/13 18:42:54 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 y ClientID:8 RepID:4}
2019/06/13 18:42:54 [Clerk 8 Get] succ replicate command to replicated state machine
2019/06/13 18:42:54 4: client new get 4
2019/06/13 18:42:54 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:5} to KVServer 2
2019/06/13 18:42:54 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 2 y, reply = {WrongLeader:false Err: ClientID:9 RepID:5}
2019/06/13 18:42:54 3: client new append x 3 1 y
2019/06/13 18:42:54 [Clerk 9 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 1 y Op:Append ClientID:10 ReqID:5} to KVServer 2
2019/06/13 18:42:54 2: client new append x 2 3 y
2019/06/13 18:42:54 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 3 y Op:Append ClientID:9 ReqID:6} to KVServer 0
2019/06/13 18:42:54 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 1 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}} {149 21 {Append 1 x 1 0 y 7 2}} {150 21 {Append 0 x 0 0 y 11 3}} {151 21 {Append 2 x 2 1 y 9 3}} {152 21 {Get 3  10 2}} {153 21 {Get 4  8 2}} {154 21 {Get 2  9 4}} {155 21 {Append 4 x 4 0 y 8 3}} {156 21 {Append 0 x 0 1 y 11 4}} {157 21 {Get 1  7 3}} {158 21 {Get 3  10 3}}], and commitIndex have updated to 159
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:154 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:4}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 y], CommandIndex 154
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 8 APPEND [4, x 4 0 y], CommandIndex 155
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:155 Term:21 Command:{Operation:Append Key:4 Value:x 4 0 y ClientID:8 ReqID:3}}
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:156 Term:21 Command:{Operation:Append Key:0 Value:x 0 1 y ClientID:11 ReqID:4}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 y], CommandIndex 156
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{159 21 {Get 4  8 4}} {160 21 {Append 3 x 3 0 y 10 4}} {161 21 {Append 2 x 2 2 y 9 5}}] to peer 3 succ
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 7 Get [1, x 1 0 y], CommandIndex 157
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:157 Term:21 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:3}}
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:158 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:3}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 10 Get [3, ], CommandIndex 158
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 2 x 2 3 y 9 6}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 3 y ClientID:9 ReqID:6}, logIndex = 162
2019/06/13 18:42:54 FFFF[follower 0/21 AppendEntries] have commit [{0 0 -1} {142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}} {146 21 {Put 1  7 1}} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}} {149 21 {Append 1 x 1 0 y 7 2}} {150 21 {Append 0 x 0 0 y 11 3}} {151 21 {Append 2 x 2 1 y 9 3}} {152 21 {Get 3  10 2}} {153 21 {Get 4  8 2}} {154 21 {Get 2  9 4}} {155 21 {Append 4 x 4 0 y 8 3}} {156 21 {Append 0 x 0 1 y 11 4}} {157 21 {Get 1  7 3}} {158 21 {Get 3  10 3}}], and commitIndex have updated to 159
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:149 Term:21 Command:{Operation:Append Key:1 Value:x 1 0 y ClientID:7 ReqID:2}}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 7 APPEND [1, x 1 0 y], CommandIndex 149
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 11 APPEND [0, x 0 0 y], CommandIndex 150
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:150 Term:21 Command:{Operation:Append Key:0 Value:x 0 0 y ClientID:11 ReqID:3}}
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:151 Term:21 Command:{Operation:Append Key:2 Value:x 2 1 y ClientID:9 ReqID:3}}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 y], CommandIndex 151
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 10 Get [3, ], CommandIndex 152
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:152 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:2}}
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{154 21 {Get 2  9 4}} {155 21 {Append 4 x 4 0 y 8 3}} {156 21 {Append 0 x 0 1 y 11 4}} {157 21 {Get 1  7 3}} {158 21 {Get 3  10 3}} {159 21 {Get 4  8 4}} {160 21 {Append 3 x 3 0 y 10 4}} {161 21 {Append 2 x 2 2 y 9 5}}] to peer 0 succ
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:153 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:2}}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 8 Get [4, ], CommandIndex 153
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 y], CommandIndex 154
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:154 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:4}}
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:155 Term:21 Command:{Operation:Append Key:4 Value:x 4 0 y ClientID:8 ReqID:3}}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 8 APPEND [4, x 4 0 y], CommandIndex 155
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 y], CommandIndex 156
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:156 Term:21 Command:{Operation:Append Key:0 Value:x 0 1 y ClientID:11 ReqID:4}}
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:157 Term:21 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:3}}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 7 Get [1, x 1 0 y], CommandIndex 157
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 10 Get [3, ], CommandIndex 158
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:158 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:3}}
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 1 y Op:Append ClientID:7 ReqID:4} to KVServer 2
2019/06/13 18:42:54 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 2 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:5}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Get 4  8 5}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:8 ReqID:5}, logIndex = 163
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 3 x 3 1 y 10 5}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 1 y ClientID:10 ReqID:5}, logIndex = 164
2019/06/13 18:42:54 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 1 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 2 y Op:Append ClientID:11 ReqID:5} to KVServer 2
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 1 y Op:Append ClientID:7 ReqID:4} to KVServer 3
2019/06/13 18:42:54 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 2 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 1 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 2 y Op:Append ClientID:11 ReqID:5} to KVServer 3
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 1 y Op:Append ClientID:7 ReqID:4} to KVServer 4
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 0 x 0 2 y 11 5}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 2 y ClientID:11 ReqID:5}, logIndex = 165
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 1 x 1 1 y 7 4}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 1 y ClientID:7 ReqID:4}, logIndex = 166
2019/06/13 18:42:54 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}} {149 21 {Append 1 x 1 0 y 7 2}} {150 21 {Append 0 x 0 0 y 11 3}} {151 21 {Append 2 x 2 1 y 9 3}} {152 21 {Get 3  10 2}} {153 21 {Get 4  8 2}} {154 21 {Get 2  9 4}} {155 21 {Append 4 x 4 0 y 8 3}} {156 21 {Append 0 x 0 1 y 11 4}} {157 21 {Get 1  7 3}} {158 21 {Get 3  10 3}} {159 21 {Get 4  8 4}} {160 21 {Append 3 x 3 0 y 10 4}} {161 21 {Append 2 x 2 2 y 9 5}}], and commitIndex have updated to 162
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:159 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:4}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 8 Get [4, x 4 0 y], CommandIndex 159
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 10 APPEND [3, x 3 0 y], CommandIndex 160
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:160 Term:21 Command:{Operation:Append Key:3 Value:x 3 0 y ClientID:10 ReqID:4}}
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{162 21 {Append 2 x 2 3 y 9 6}} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}}] to peer 3 succ
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 3, ai 166, i 24, rf.commit 162
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:161 Term:21 Command:{Operation:Append Key:2 Value:x 2 2 y ClientID:9 ReqID:5}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 y], CommandIndex 161
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 166's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 3, ai 165, i 23, rf.commit 162
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 165's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 3, ai 164, i 22, rf.commit 162
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 164's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 3, ai 163, i 21, rf.commit 162
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 163's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 3, ai 162, i 20, rf.commit 162
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 162's quorum 2
2019/06/13 18:42:54 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {155 21 {Append 4 x 4 0 y 8 3}} {156 21 {Append 0 x 0 1 y 11 4}} {157 21 {Get 1  7 3}} {158 21 {Get 3  10 3}} {159 21 {Get 4  8 4}} {160 21 {Append 3 x 3 0 y 10 4}} {161 21 {Append 2 x 2 2 y 9 5}}], and commitIndex have updated to 162
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 8 Get [4, x 4 0 y], CommandIndex 159
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:159 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:4}}
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:160 Term:21 Command:{Operation:Append Key:3 Value:x 3 0 y ClientID:10 ReqID:4}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 10 APPEND [3, x 3 0 y], CommandIndex 160
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 y], CommandIndex 161
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{162 21 {Append 2 x 2 3 y 9 6}} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}}] to peer 2 succ
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:161 Term:21 Command:{Operation:Append Key:2 Value:x 2 2 y ClientID:9 ReqID:5}}
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 166, i 24, rf.commit 162
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 166's quorum 3
2019/06/13 18:42:54 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 167
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:162 Term:21 Command:{Operation:Append Key:2 Value:x 2 3 y ClientID:9 ReqID:6}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 y], CommandIndex 162
2019/06/13 18:42:54 [KVServer 1 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1125
2019/06/13 18:42:54 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 3 y, reply = {WrongLeader:false Err: ClientID:9 RepID:6}
2019/06/13 18:42:54 [Clerk 9 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 2: client new append x 2 4 y
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 8 Get [4, x 4 0 y], CommandIndex 163
2019/06/13 18:42:54 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 4 y Op:Append ClientID:9 ReqID:7} to KVServer 0
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:163 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:5}}
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:164 Term:21 Command:{Operation:Append Key:3 Value:x 3 1 y ClientID:10 ReqID:5}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 y], CommandIndex 164
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 y], CommandIndex 165
2019/06/13 18:42:54 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 y ClientID:8 RepID:5}
2019/06/13 18:42:54 [Clerk 8 Get] succ replicate command to replicated state machine
2019/06/13 18:42:54 4: client new append x 4 1 y
2019/06/13 18:42:54 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 2 y, reply = {WrongLeader:false Err: ClientID:11 RepID:5}
2019/06/13 18:42:54 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 1 y, reply = {WrongLeader:false Err: ClientID:10 RepID:5}
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:165 Term:21 Command:{Operation:Append Key:0 Value:x 0 2 y ClientID:11 ReqID:5}}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 2 x 2 4 y 9 7}
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:166 Term:21 Command:{Operation:Append Key:1 Value:x 1 1 y ClientID:7 ReqID:4}}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 4 y ClientID:9 ReqID:7}, logIndex = 167
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 y], CommandIndex 166
2019/06/13 18:42:54 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 3: client new append x 3 2 y
2019/06/13 18:42:54 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 1 y Op:Append ClientID:8 ReqID:6} to KVServer 2
2019/06/13 18:42:54 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 2 y Op:Append ClientID:10 ReqID:6} to KVServer 2
2019/06/13 18:42:54 0: client new append x 0 3 y
2019/06/13 18:42:54 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 3 y Op:Append ClientID:11 ReqID:6} to KVServer 3
2019/06/13 18:42:54 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 1 y, reply = {WrongLeader:false Err: ClientID:7 RepID:4}
2019/06/13 18:42:54 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 1: client new append x 1 2 y
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 2 y Op:Append ClientID:7 ReqID:5} to KVServer 4
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 4 x 4 1 y 8 6}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 1 y ClientID:8 ReqID:6}, logIndex = 168
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 0 x 0 3 y 11 6}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 3 y ClientID:11 ReqID:6}, logIndex = 169
2019/06/13 18:42:54 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}} {146 21 {Put 1  7 1}} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}} {149 21 {Append 1 x 1 0 y 7 2}} {150 21 {Append 0 x 0 0 y 11 3}} {151 21 {Append 2 x 2 1 y 9 3}} {152 21 {Get 3  10 2}} {153 21 {Get 4  8 2}} {154 21 {Get 2  9 4}} {155 21 {Append 4 x 4 0 y 8 3}} {156 21 {Append 0 x 0 1 y 11 4}} {157 21 {Get 1  7 3}} {158 21 {Get 3  10 3}} {159 21 {Get 4  8 4}} {160 21 {Append 3 x 3 0 y 10 4}} {161 21 {Append 2 x 2 2 y 9 5}}], and commitIndex have updated to 162
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 8 Get [4, x 4 0 y], CommandIndex 159
2019/06/13 18:42:54 [KVServer 4 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1159
2019/06/13 18:42:54 FFFF[follower 0/21 AppendEntries] have commit [{0 0 -1} {142 21 {Put 2  9 1}} {143 21 {Put 4  8 1}} {144 21 {Put 0  11 1}} {145 21 {Put 3  10 1}} {146 21 {Put 1  7 1}} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}} {149 21 {Append 1 x 1 0 y 7 2}} {150 21 {Append 0 x 0 0 y 11 3}} {151 21 {Append 2 x 2 1 y 9 3}} {152 21 {Get 3  10 2}} {153 21 {Get 4  8 2}} {154 21 {Get 2  9 4}} {155 21 {Append 4 x 4 0 y 8 3}} {156 21 {Append 0 x 0 1 y 11 4}} {157 21 {Get 1  7 3}} {158 21 {Get 3  10 3}} {159 21 {Get 4  8 4}} {160 21 {Append 3 x 3 0 y 10 4}} {161 21 {Append 2 x 2 2 y 9 5}}], and commitIndex have updated to 162
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:159 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:4}}
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:160 Term:21 Command:{Operation:Append Key:3 Value:x 3 0 y ClientID:10 ReqID:4}}
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{162 21 {Append 2 x 2 3 y 9 6}} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}}] to peer 0 succ
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 y], CommandIndex 160
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 y], CommandIndex 161
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:159 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:4}}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 8 Get [4, x 4 0 y], CommandIndex 159
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:161 Term:21 Command:{Operation:Append Key:2 Value:x 2 2 y ClientID:9 ReqID:5}}
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{162 21 {Append 2 x 2 3 y 9 6}} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}}] to peer 4 succ
2019/06/13 18:42:54 [KVServer 0 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1159
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 1 x 1 2 y 7 5}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 10 APPEND [3, x 3 0 y], CommandIndex 160
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 2 y ClientID:7 ReqID:5}, logIndex = 170
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:160 Term:21 Command:{Operation:Append Key:3 Value:x 3 0 y ClientID:10 ReqID:4}}
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:161 Term:21 Command:{Operation:Append Key:2 Value:x 2 2 y ClientID:9 ReqID:5}}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 y], CommandIndex 161
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 3 x 3 2 y 10 6}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 2 y ClientID:10 ReqID:6}, logIndex = 171
2019/06/13 18:42:54 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {147 21 {Get 0  11 2}} {148 21 {Append 2 x 2 0 y 9 2}} {149 21 {Append 1 x 1 0 y 7 2}} {150 21 {Append 0 x 0 0 y 11 3}} {151 21 {Append 2 x 2 1 y 9 3}} {152 21 {Get 3  10 2}} {153 21 {Get 4  8 2}} {154 21 {Get 2  9 4}} {155 21 {Append 4 x 4 0 y 8 3}} {156 21 {Append 0 x 0 1 y 11 4}} {157 21 {Get 1  7 3}} {158 21 {Get 3  10 3}} {159 21 {Get 4  8 4}} {160 21 {Append 3 x 3 0 y 10 4}} {161 21 {Append 2 x 2 2 y 9 5}} {162 21 {Append 2 x 2 3 y 9 6}} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}}], and commitIndex have updated to 167
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:162 Term:21 Command:{Operation:Append Key:2 Value:x 2 3 y ClientID:9 ReqID:6}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 y], CommandIndex 162
2019/06/13 18:42:54 [KVServer 3 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1219
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{167 21 {Append 2 x 2 4 y 9 7}} {168 21 {Append 4 x 4 1 y 8 6}} {169 21 {Append 0 x 0 3 y 11 6}} {170 21 {Append 1 x 1 2 y 7 5}} {171 21 {Append 3 x 3 2 y 10 6}}] to peer 3 succ
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 3, ai 171, i 9, rf.commit 167
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 171's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 3, ai 170, i 8, rf.commit 167
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 170's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 3, ai 169, i 7, rf.commit 167
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 169's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 3, ai 168, i 6, rf.commit 167
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 168's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 3, ai 167, i 5, rf.commit 167
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 167's quorum 2
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 8 Get [4, x 4 0 y], CommandIndex 163
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:163 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:5}}
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:164 Term:21 Command:{Operation:Append Key:3 Value:x 3 1 y ClientID:10 ReqID:5}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 y], CommandIndex 164
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 y], CommandIndex 165
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:165 Term:21 Command:{Operation:Append Key:0 Value:x 0 2 y ClientID:11 ReqID:5}}
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:166 Term:21 Command:{Operation:Append Key:1 Value:x 1 1 y ClientID:7 ReqID:4}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 y], CommandIndex 166
2019/06/13 18:42:54 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {160 21 {Append 3 x 3 0 y 10 4}} {161 21 {Append 2 x 2 2 y 9 5}} {162 21 {Append 2 x 2 3 y 9 6}} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}}], and commitIndex have updated to 167
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:162 Term:21 Command:{Operation:Append Key:2 Value:x 2 3 y ClientID:9 ReqID:6}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 y], CommandIndex 162
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 8 Get [4, x 4 0 y], CommandIndex 163
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:163 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:5}}
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{167 21 {Append 2 x 2 4 y 9 7}} {168 21 {Append 4 x 4 1 y 8 6}} {169 21 {Append 0 x 0 3 y 11 6}} {170 21 {Append 1 x 1 2 y 7 5}} {171 21 {Append 3 x 3 2 y 10 6}}] to peer 4 succ
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 4, ai 171, i 9, rf.commit 167
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 171's quorum 3
2019/06/13 18:42:54 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 172
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:164 Term:21 Command:{Operation:Append Key:3 Value:x 3 1 y ClientID:10 ReqID:5}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 y], CommandIndex 164
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:167 Term:21 Command:{Operation:Append Key:2 Value:x 2 4 y ClientID:9 ReqID:7}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 y], CommandIndex 165
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:165 Term:21 Command:{Operation:Append Key:0 Value:x 0 2 y ClientID:11 ReqID:5}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 y], CommandIndex 167
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 y], CommandIndex 166
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:166 Term:21 Command:{Operation:Append Key:1 Value:x 1 1 y ClientID:7 ReqID:4}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 y], CommandIndex 168
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:168 Term:21 Command:{Operation:Append Key:4 Value:x 4 1 y ClientID:8 ReqID:6}}
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:169 Term:21 Command:{Operation:Append Key:0 Value:x 0 3 y ClientID:11 ReqID:6}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 169
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 y], CommandIndex 170
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:170 Term:21 Command:{Operation:Append Key:1 Value:x 1 2 y ClientID:7 ReqID:5}}
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:171 Term:21 Command:{Operation:Append Key:3 Value:x 3 2 y ClientID:10 ReqID:6}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 y], CommandIndex 171
2019/06/13 18:42:54 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 4 y, reply = {WrongLeader:false Err: ClientID:9 RepID:7}
2019/06/13 18:42:54 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 2 y, reply = {WrongLeader:false Err: ClientID:7 RepID:5}
2019/06/13 18:42:54 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 3 y, reply = {WrongLeader:false Err: ClientID:11 RepID:6}
2019/06/13 18:42:54 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 0: client new get 0
2019/06/13 18:42:54 [Clerk 9 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:7} to KVServer 3
2019/06/13 18:42:54 2: client new append x 2 5 y
2019/06/13 18:42:54 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 2 y, reply = {WrongLeader:false Err: ClientID:10 RepID:6}
2019/06/13 18:42:54 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 3: client new append x 3 3 y
2019/06/13 18:42:54 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 3 y Op:Append ClientID:10 ReqID:7} to KVServer 2
2019/06/13 18:42:54 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 5 y Op:Append ClientID:9 ReqID:8} to KVServer 0
2019/06/13 18:42:54 1: client new append x 1 3 y
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 3 y Op:Append ClientID:7 ReqID:6} to KVServer 4
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 2 x 2 5 y 9 8}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 5 y ClientID:9 ReqID:8}, logIndex = 172
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 3 x 3 3 y 10 7}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 3 y ClientID:10 ReqID:7}, logIndex = 173
2019/06/13 18:42:54 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 1 y Op:Append ClientID:8 ReqID:6} to KVServer 3
2019/06/13 18:42:54 FFFF[follower 0/21 AppendEntries] have commit [{0 0 -1} {160 21 {Append 3 x 3 0 y 10 4}} {161 21 {Append 2 x 2 2 y 9 5}} {162 21 {Append 2 x 2 3 y 9 6}} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}}], and commitIndex have updated to 167
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:162 Term:21 Command:{Operation:Append Key:2 Value:x 2 3 y ClientID:9 ReqID:6}}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 y], CommandIndex 162
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 8 Get [4, x 4 0 y], CommandIndex 163
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:163 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:5}}
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:164 Term:21 Command:{Operation:Append Key:3 Value:x 3 1 y ClientID:10 ReqID:5}}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 y], CommandIndex 164
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{167 21 {Append 2 x 2 4 y 9 7}} {168 21 {Append 4 x 4 1 y 8 6}} {169 21 {Append 0 x 0 3 y 11 6}} {170 21 {Append 1 x 1 2 y 7 5}} {171 21 {Append 3 x 3 2 y 10 6}}] to peer 0 succ
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:165 Term:21 Command:{Operation:Append Key:0 Value:x 0 2 y ClientID:11 ReqID:5}}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 y], CommandIndex 165
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 y], CommandIndex 166
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:166 Term:21 Command:{Operation:Append Key:1 Value:x 1 1 y ClientID:7 ReqID:4}}
2019/06/13 18:42:54 [KVServer 1 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:7}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Get 0  11 7}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:11 ReqID:7}, logIndex = 174
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 3 y Op:Append ClientID:7 ReqID:6} to KVServer 0
2019/06/13 18:42:54 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 1 y Op:Append ClientID:8 ReqID:6} to KVServer 4
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 3 y Op:Append ClientID:7 ReqID:6} to KVServer 1
2019/06/13 18:42:54 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 1 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 3 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 1 y Op:Append ClientID:8 ReqID:6} to KVServer 0
2019/06/13 18:42:54 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 1 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 3 y Op:Append ClientID:7 ReqID:6} to KVServer 2
2019/06/13 18:42:54 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 3 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 FFFF[follower 0/21 AppendEntries] have commit [{0 0 -1} {160 21 {Append 3 x 3 0 y 10 4}} {161 21 {Append 2 x 2 2 y 9 5}} {162 21 {Append 2 x 2 3 y 9 6}} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}} {167 21 {Append 2 x 2 4 y 9 7}} {168 21 {Append 4 x 4 1 y 8 6}} {169 21 {Append 0 x 0 3 y 11 6}} {170 21 {Append 1 x 1 2 y 7 5}} {171 21 {Append 3 x 3 2 y 10 6}}], and commitIndex have updated to 172
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:167 Term:21 Command:{Operation:Append Key:2 Value:x 2 4 y ClientID:9 ReqID:7}}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 y], CommandIndex 167
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 y], CommandIndex 168
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:168 Term:21 Command:{Operation:Append Key:4 Value:x 4 1 y ClientID:8 ReqID:6}}
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:169 Term:21 Command:{Operation:Append Key:0 Value:x 0 3 y ClientID:11 ReqID:6}}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 169
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{172 21 {Append 2 x 2 5 y 9 8}} {173 21 {Append 3 x 3 3 y 10 7}} {174 21 {Get 0  11 7}}] to peer 0 succ
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 y], CommandIndex 170
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 0, ai 174, i 12, rf.commit 172
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 174's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 0, ai 173, i 11, rf.commit 172
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:170 Term:21 Command:{Operation:Append Key:1 Value:x 1 2 y ClientID:7 ReqID:5}}
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 173's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 0, ai 172, i 10, rf.commit 172
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 y], CommandIndex 171
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 172's quorum 2
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:171 Term:21 Command:{Operation:Append Key:3 Value:x 3 2 y ClientID:10 ReqID:6}}
2019/06/13 18:42:54 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 1 y Op:Append ClientID:8 ReqID:6} to KVServer 1
2019/06/13 18:42:54 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {155 21 {Append 4 x 4 0 y 8 3}} {156 21 {Append 0 x 0 1 y 11 4}} {157 21 {Get 1  7 3}} {158 21 {Get 3  10 3}} {159 21 {Get 4  8 4}} {160 21 {Append 3 x 3 0 y 10 4}} {161 21 {Append 2 x 2 2 y 9 5}} {162 21 {Append 2 x 2 3 y 9 6}} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}} {167 21 {Append 2 x 2 4 y 9 7}} {168 21 {Append 4 x 4 1 y 8 6}} {169 21 {Append 0 x 0 3 y 11 6}} {170 21 {Append 1 x 1 2 y 7 5}} {171 21 {Append 3 x 3 2 y 10 6}}], and commitIndex have updated to 172
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:162 Term:21 Command:{Operation:Append Key:2 Value:x 2 3 y ClientID:9 ReqID:6}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 y], CommandIndex 162
2019/06/13 18:42:54 [KVServer 2 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1025
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{167 21 {Append 2 x 2 4 y 9 7}} {168 21 {Append 4 x 4 1 y 8 6}} {169 21 {Append 0 x 0 3 y 11 6}} {170 21 {Append 1 x 1 2 y 7 5}} {171 21 {Append 3 x 3 2 y 10 6}} {172 21 {Append 2 x 2 5 y 9 8}} {173 21 {Append 3 x 3 3 y 10 7}} {174 21 {Get 0  11 7}}] to peer 2 succ
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 174, i 12, rf.commit 172
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 174's quorum 3
2019/06/13 18:42:54 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 175
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:172 Term:21 Command:{Operation:Append Key:2 Value:x 2 5 y ClientID:9 ReqID:8}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 172
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 173
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:173 Term:21 Command:{Operation:Append Key:3 Value:x 3 3 y ClientID:10 ReqID:7}}
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:174 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:7}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 174
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 8 Get [4, x 4 0 y], CommandIndex 163
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:163 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:5}}
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:164 Term:21 Command:{Operation:Append Key:3 Value:x 3 1 y ClientID:10 ReqID:5}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 y], CommandIndex 164
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 y], CommandIndex 165
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:165 Term:21 Command:{Operation:Append Key:0 Value:x 0 2 y ClientID:11 ReqID:5}}
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:166 Term:21 Command:{Operation:Append Key:1 Value:x 1 1 y ClientID:7 ReqID:4}}
2019/06/13 18:42:54 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 3 y, reply = {WrongLeader:false Err: ClientID:10 RepID:7}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 y], CommandIndex 166
2019/06/13 18:42:54 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:167 Term:21 Command:{Operation:Append Key:2 Value:x 2 4 y ClientID:9 ReqID:7}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 y], CommandIndex 167
2019/06/13 18:42:54 3: client new get 3
2019/06/13 18:42:54 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 y ClientID:11 RepID:7}
2019/06/13 18:42:54 [Clerk 11 Get] succ replicate command to replicated state machine
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:168 Term:21 Command:{Operation:Append Key:4 Value:x 4 1 y ClientID:8 ReqID:6}}
2019/06/13 18:42:54 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:8} to KVServer 2
2019/06/13 18:42:54 0: client new get 0
2019/06/13 18:42:54 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:8} to KVServer 3
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 y], CommandIndex 168
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 169
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:169 Term:21 Command:{Operation:Append Key:0 Value:x 0 3 y ClientID:11 ReqID:6}}
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:170 Term:21 Command:{Operation:Append Key:1 Value:x 1 2 y ClientID:7 ReqID:5}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 y], CommandIndex 170
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 y], CommandIndex 171
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:171 Term:21 Command:{Operation:Append Key:3 Value:x 3 2 y ClientID:10 ReqID:6}}
2019/06/13 18:42:54 [KVServer 1 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:8}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Get 0  11 8}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:11 ReqID:8}, logIndex = 175
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 3 y Op:Append ClientID:7 ReqID:6} to KVServer 3
2019/06/13 18:42:54 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {160 21 {Append 3 x 3 0 y 10 4}} {161 21 {Append 2 x 2 2 y 9 5}} {162 21 {Append 2 x 2 3 y 9 6}} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}} {167 21 {Append 2 x 2 4 y 9 7}} {168 21 {Append 4 x 4 1 y 8 6}} {169 21 {Append 0 x 0 3 y 11 6}} {170 21 {Append 1 x 1 2 y 7 5}} {171 21 {Append 3 x 3 2 y 10 6}}], and commitIndex have updated to 172
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:167 Term:21 Command:{Operation:Append Key:2 Value:x 2 4 y ClientID:9 ReqID:7}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 y], CommandIndex 167
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 y], CommandIndex 168
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:168 Term:21 Command:{Operation:Append Key:4 Value:x 4 1 y ClientID:8 ReqID:6}}
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:169 Term:21 Command:{Operation:Append Key:0 Value:x 0 3 y ClientID:11 ReqID:6}}
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{172 21 {Append 2 x 2 5 y 9 8}} {173 21 {Append 3 x 3 3 y 10 7}} {174 21 {Get 0  11 7}}] to peer 4 succ
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 169
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 y], CommandIndex 170
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:170 Term:21 Command:{Operation:Append Key:1 Value:x 1 2 y ClientID:7 ReqID:5}}
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:171 Term:21 Command:{Operation:Append Key:3 Value:x 3 2 y ClientID:10 ReqID:6}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 y], CommandIndex 171
2019/06/13 18:42:54 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}} {167 21 {Append 2 x 2 4 y 9 7}} {168 21 {Append 4 x 4 1 y 8 6}} {169 21 {Append 0 x 0 3 y 11 6}} {170 21 {Append 1 x 1 2 y 7 5}} {171 21 {Append 3 x 3 2 y 10 6}}], and commitIndex have updated to 172
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:167 Term:21 Command:{Operation:Append Key:2 Value:x 2 4 y ClientID:9 ReqID:7}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 y], CommandIndex 167
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 y], CommandIndex 168
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:168 Term:21 Command:{Operation:Append Key:4 Value:x 4 1 y ClientID:8 ReqID:6}}
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:169 Term:21 Command:{Operation:Append Key:0 Value:x 0 3 y ClientID:11 ReqID:6}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 169
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 y], CommandIndex 170
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:170 Term:21 Command:{Operation:Append Key:1 Value:x 1 2 y ClientID:7 ReqID:5}}
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:171 Term:21 Command:{Operation:Append Key:3 Value:x 3 2 y ClientID:10 ReqID:6}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 y], CommandIndex 171
2019/06/13 18:42:54 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 5 y Op:Append ClientID:9 ReqID:8} to KVServer 1
2019/06/13 18:42:54 [KVServer 1 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:8}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Get 3  10 8}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:10 ReqID:8}, logIndex = 176
2019/06/13 18:42:54 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 3 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 5 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 1 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 3 y Op:Append ClientID:7 ReqID:6} to KVServer 4
2019/06/13 18:42:54 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 1 y Op:Append ClientID:8 ReqID:6} to KVServer 2
2019/06/13 18:42:54 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 5 y Op:Append ClientID:9 ReqID:8} to KVServer 2
2019/06/13 18:42:54 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 1 y, reply = {WrongLeader:false Err:ErrDuplicateReq ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 8 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 4: client new get 4
2019/06/13 18:42:54 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:7} to KVServer 2
2019/06/13 18:42:54 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 5 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:7}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Get 4  8 7}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:8 ReqID:7}, logIndex = 177
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 1 x 1 3 y 7 6}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 3 y ClientID:7 ReqID:6}, logIndex = 178
2019/06/13 18:42:54 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 5 y Op:Append ClientID:9 ReqID:8} to KVServer 3
2019/06/13 18:42:54 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 5 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 5 y Op:Append ClientID:9 ReqID:8} to KVServer 4
2019/06/13 18:42:54 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 5 y Op:Append ClientID:9 ReqID:8} to KVServer 0
2019/06/13 18:42:54 FFFF[follower 0/21 AppendEntries] have commit [{0 0 -1} {160 21 {Append 3 x 3 0 y 10 4}} {161 21 {Append 2 x 2 2 y 9 5}} {162 21 {Append 2 x 2 3 y 9 6}} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}} {167 21 {Append 2 x 2 4 y 9 7}} {168 21 {Append 4 x 4 1 y 8 6}} {169 21 {Append 0 x 0 3 y 11 6}} {170 21 {Append 1 x 1 2 y 7 5}} {171 21 {Append 3 x 3 2 y 10 6}} {172 21 {Append 2 x 2 5 y 9 8}} {173 21 {Append 3 x 3 3 y 10 7}} {174 21 {Get 0  11 7}}], and commitIndex have updated to 175
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:172 Term:21 Command:{Operation:Append Key:2 Value:x 2 5 y ClientID:9 ReqID:8}}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 172
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 173
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:173 Term:21 Command:{Operation:Append Key:3 Value:x 3 3 y ClientID:10 ReqID:7}}
2019/06/13 18:42:54 [follower 0/21 applyRoutine] have applied LogEntry {Index:174 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:7}}
2019/06/13 18:42:54 [KVServer 0 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 174
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{175 21 {Get 0  11 8}} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}}] to peer 0 succ
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 0, ai 178, i 16, rf.commit 175
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 178's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 0, ai 177, i 15, rf.commit 175
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 177's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 0, ai 176, i 14, rf.commit 175
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 176's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 0, ai 175, i 13, rf.commit 175
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[0] = 175's quorum 2
2019/06/13 18:42:54 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}} {167 21 {Append 2 x 2 4 y 9 7}} {168 21 {Append 4 x 4 1 y 8 6}} {169 21 {Append 0 x 0 3 y 11 6}} {170 21 {Append 1 x 1 2 y 7 5}} {171 21 {Append 3 x 3 2 y 10 6}} {172 21 {Append 2 x 2 5 y 9 8}} {173 21 {Append 3 x 3 3 y 10 7}} {174 21 {Get 0  11 7}}], and commitIndex have updated to 175
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 172
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:172 Term:21 Command:{Operation:Append Key:2 Value:x 2 5 y ClientID:9 ReqID:8}}
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:173 Term:21 Command:{Operation:Append Key:3 Value:x 3 3 y ClientID:10 ReqID:7}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 173
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 174
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:174 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:7}}
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{172 21 {Append 2 x 2 5 y 9 8}} {173 21 {Append 3 x 3 3 y 10 7}} {174 21 {Get 0  11 7}} {175 21 {Get 0  11 8}} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}}] to peer 3 succ
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 3, ai 178, i 16, rf.commit 175
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 178's quorum 3
2019/06/13 18:42:54 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 179
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:175 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:8}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 175
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 176
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:176 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:8}}
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:177 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:7}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 y], CommandIndex 177
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 y], CommandIndex 178
2019/06/13 18:42:54 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 y ClientID:11 RepID:8}
2019/06/13 18:42:54 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 yx 3 3 y ClientID:10 RepID:8}
2019/06/13 18:42:54 [Clerk 10 Get] succ replicate command to replicated state machine
2019/06/13 18:42:54 3: client new get 3
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:178 Term:21 Command:{Operation:Append Key:1 Value:x 1 3 y ClientID:7 ReqID:6}}
2019/06/13 18:42:54 [Clerk 11 Get] succ replicate command to replicated state machine
2019/06/13 18:42:54 0: client new append x 0 4 y
2019/06/13 18:42:54 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 3 y, reply = {WrongLeader:false Err: ClientID:7 RepID:6}
2019/06/13 18:42:54 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 1: client new append x 1 4 y
2019/06/13 18:42:54 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:9} to KVServer 2
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 4 y Op:Append ClientID:7 ReqID:7} to KVServer 4
2019/06/13 18:42:54 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 y ClientID:8 RepID:7}
2019/06/13 18:42:54 [Clerk 8 Get] succ replicate command to replicated state machine
2019/06/13 18:42:54 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 4 y Op:Append ClientID:11 ReqID:9} to KVServer 3
2019/06/13 18:42:54 4: client new append x 4 2 y
2019/06/13 18:42:54 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 2 y Op:Append ClientID:8 ReqID:8} to KVServer 2
2019/06/13 18:42:54 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}} {167 21 {Append 2 x 2 4 y 9 7}} {168 21 {Append 4 x 4 1 y 8 6}} {169 21 {Append 0 x 0 3 y 11 6}} {170 21 {Append 1 x 1 2 y 7 5}} {171 21 {Append 3 x 3 2 y 10 6}} {172 21 {Append 2 x 2 5 y 9 8}} {173 21 {Append 3 x 3 3 y 10 7}} {174 21 {Get 0  11 7}}], and commitIndex have updated to 175
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 172
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:172 Term:21 Command:{Operation:Append Key:2 Value:x 2 5 y ClientID:9 ReqID:8}}
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:173 Term:21 Command:{Operation:Append Key:3 Value:x 3 3 y ClientID:10 ReqID:7}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 173
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{175 21 {Get 0  11 8}} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}}] to peer 2 succ
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:174 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:7}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 174
2019/06/13 18:42:54 [KVServer 1 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:9}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Get 3  10 9}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:10 ReqID:9}, logIndex = 179
2019/06/13 18:42:54 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 5 y, reply = {WrongLeader:false Err:ErrDuplicateReq ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 9 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 2: client new append x 2 6 y
2019/06/13 18:42:54 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 6 y Op:Append ClientID:9 ReqID:9} to KVServer 0
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 4 x 4 2 y 8 8}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 2 y ClientID:8 ReqID:8}, logIndex = 180
2019/06/13 18:42:54 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 4 y Op:Append ClientID:11 ReqID:9} to KVServer 4
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 1 x 1 4 y 7 7}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 4 y ClientID:7 ReqID:7}, logIndex = 181
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 2 x 2 6 y 9 9}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 6 y ClientID:9 ReqID:9}, logIndex = 182
2019/06/13 18:42:54 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 4 y Op:Append ClientID:11 ReqID:9} to KVServer 0
2019/06/13 18:42:54 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 4 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 4 y Op:Append ClientID:11 ReqID:9} to KVServer 1
2019/06/13 18:42:54 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 4 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 4 y Op:Append ClientID:11 ReqID:9} to KVServer 2
2019/06/13 18:42:54 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}} {167 21 {Append 2 x 2 4 y 9 7}} {168 21 {Append 4 x 4 1 y 8 6}} {169 21 {Append 0 x 0 3 y 11 6}} {170 21 {Append 1 x 1 2 y 7 5}} {171 21 {Append 3 x 3 2 y 10 6}} {172 21 {Append 2 x 2 5 y 9 8}} {173 21 {Append 3 x 3 3 y 10 7}} {174 21 {Get 0  11 7}} {175 21 {Get 0  11 8}} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}}], and commitIndex have updated to 179
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 175
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:175 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:8}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1013
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{179 21 {Get 3  10 9}} {180 21 {Append 4 x 4 2 y 8 8}} {181 21 {Append 1 x 1 4 y 7 7}} {182 21 {Append 2 x 2 6 y 9 9}}] to peer 2 succ
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 182, i 20, rf.commit 179
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 182's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 181, i 19, rf.commit 179
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 181's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 180, i 18, rf.commit 179
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 180's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 179, i 17, rf.commit 179
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 179's quorum 2
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 176
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:176 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:8}}
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:177 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:7}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 y], CommandIndex 177
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 y], CommandIndex 178
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:178 Term:21 Command:{Operation:Append Key:1 Value:x 1 3 y ClientID:7 ReqID:6}}
2019/06/13 18:42:54 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}} {167 21 {Append 2 x 2 4 y 9 7}} {168 21 {Append 4 x 4 1 y 8 6}} {169 21 {Append 0 x 0 3 y 11 6}} {170 21 {Append 1 x 1 2 y 7 5}} {171 21 {Append 3 x 3 2 y 10 6}} {172 21 {Append 2 x 2 5 y 9 8}} {173 21 {Append 3 x 3 3 y 10 7}} {174 21 {Get 0  11 7}} {175 21 {Get 0  11 8}} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}}], and commitIndex have updated to 179
2019/06/13 18:42:54 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {160 21 {Append 3 x 3 0 y 10 4}} {161 21 {Append 2 x 2 2 y 9 5}} {162 21 {Append 2 x 2 3 y 9 6}} {163 21 {Get 4  8 5}} {164 21 {Append 3 x 3 1 y 10 5}} {165 21 {Append 0 x 0 2 y 11 5}} {166 21 {Append 1 x 1 1 y 7 4}} {167 21 {Append 2 x 2 4 y 9 7}} {168 21 {Append 4 x 4 1 y 8 6}} {169 21 {Append 0 x 0 3 y 11 6}} {170 21 {Append 1 x 1 2 y 7 5}} {171 21 {Append 3 x 3 2 y 10 6}} {172 21 {Append 2 x 2 5 y 9 8}} {173 21 {Append 3 x 3 3 y 10 7}} {174 21 {Get 0  11 7}} {175 21 {Get 0  11 8}} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}}], and commitIndex have updated to 179
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:175 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:8}}
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:172 Term:21 Command:{Operation:Append Key:2 Value:x 2 5 y ClientID:9 ReqID:8}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 175
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y], CommandIndex 172
2019/06/13 18:42:54 [KVServer 3 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1013
2019/06/13 18:42:54 [KVServer 4 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1151
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{179 21 {Get 3  10 9}} {180 21 {Append 4 x 4 2 y 8 8}} {181 21 {Append 1 x 1 4 y 7 7}} {182 21 {Append 2 x 2 6 y 9 9}}] to peer 3 succ
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 3, ai 182, i 20, rf.commit 179
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 182's quorum 3
2019/06/13 18:42:54 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 183
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 176
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:173 Term:21 Command:{Operation:Append Key:3 Value:x 3 3 y ClientID:10 ReqID:7}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 173
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:176 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:8}}
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{175 21 {Get 0  11 8}} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}} {179 21 {Get 3  10 9}} {180 21 {Append 4 x 4 2 y 8 8}} {181 21 {Append 1 x 1 4 y 7 7}} {182 21 {Append 2 x 2 6 y 9 9}}] to peer 4 succ
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:174 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:7}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 179
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:179 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:9}}
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:177 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:7}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 y], CommandIndex 177
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 y], CommandIndex 178
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 174
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:178 Term:21 Command:{Operation:Append Key:1 Value:x 1 3 y ClientID:7 ReqID:6}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 y], CommandIndex 175
2019/06/13 18:42:54 [KVServer 1 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1013
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:175 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:8}}
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:176 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:8}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 176
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 y], CommandIndex 177
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:177 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:7}}
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:178 Term:21 Command:{Operation:Append Key:1 Value:x 1 3 y ClientID:7 ReqID:6}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 y], CommandIndex 178
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:180 Term:21 Command:{Operation:Append Key:4 Value:x 4 2 y ClientID:8 ReqID:8}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 180
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 y], CommandIndex 181
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:181 Term:21 Command:{Operation:Append Key:1 Value:x 1 4 y ClientID:7 ReqID:7}}
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:182 Term:21 Command:{Operation:Append Key:2 Value:x 2 6 y ClientID:9 ReqID:9}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 182
2019/06/13 18:42:54 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 yx 3 3 y ClientID:10 RepID:9}
2019/06/13 18:42:54 [Clerk 10 Get] succ replicate command to replicated state machine
2019/06/13 18:42:54 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 4 y, reply = {WrongLeader:false Err: ClientID:7 RepID:7}
2019/06/13 18:42:54 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 2 y, reply = {WrongLeader:false Err: ClientID:8 RepID:8}
2019/06/13 18:42:54 [Clerk 8 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 3: client new get 3
2019/06/13 18:42:54 4: client new get 4
2019/06/13 18:42:54 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:10} to KVServer 2
2019/06/13 18:42:54 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:9} to KVServer 2
2019/06/13 18:42:54 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 1: client new append x 1 5 y
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 5 y Op:Append ClientID:7 ReqID:8} to KVServer 4
2019/06/13 18:42:54 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 4 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 6 y Op:Append ClientID:9 ReqID:9} to KVServer 1
2019/06/13 18:42:54 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:9}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Get 4  8 9}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:8 ReqID:9}, logIndex = 183
2019/06/13 18:42:54 [KVServer 1 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:10}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Get 3  10 10}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:10 ReqID:10}, logIndex = 184
2019/06/13 18:42:54 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 4 y Op:Append ClientID:11 ReqID:9} to KVServer 3
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 5 y Op:Append ClientID:7 ReqID:8} to KVServer 0
2019/06/13 18:42:54 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 6 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 6 y Op:Append ClientID:9 ReqID:9} to KVServer 2
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 0 x 0 4 y 11 9}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 4 y ClientID:11 ReqID:9}, logIndex = 185
2019/06/13 18:42:54 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 5 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 5 y Op:Append ClientID:7 ReqID:8} to KVServer 1
2019/06/13 18:42:54 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 6 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 6 y Op:Append ClientID:9 ReqID:9} to KVServer 3
2019/06/13 18:42:54 [leader 1/21 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:54 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 6 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 5 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:54 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {173 21 {Append 3 x 3 3 y 10 7}} {174 21 {Get 0  11 7}} {175 21 {Get 0  11 8}} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}} {179 21 {Get 3  10 9}} {180 21 {Append 4 x 4 2 y 8 8}} {181 21 {Append 1 x 1 4 y 7 7}} {182 21 {Append 2 x 2 6 y 9 9}}], and commitIndex have updated to 183
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:179 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:9}}
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 179
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 180
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:180 Term:21 Command:{Operation:Append Key:4 Value:x 4 2 y ClientID:8 ReqID:8}}
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{183 21 {Get 4  8 9}} {184 21 {Get 3  10 10}} {185 21 {Append 0 x 0 4 y 11 9}}] to peer 4 succ
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 4, ai 185, i 6, rf.commit 183
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 y], CommandIndex 181
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 185's quorum 2
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 4, ai 184, i 5, rf.commit 183
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 184's quorum 2
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:181 Term:21 Command:{Operation:Append Key:1 Value:x 1 4 y ClientID:7 ReqID:7}}
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 4, ai 183, i 4, rf.commit 183
2019/06/13 18:42:54 [follower 4/21 applyRoutine] have applied LogEntry {Index:182 Term:21 Command:{Operation:Append Key:2 Value:x 2 6 y ClientID:9 ReqID:9}}
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 183's quorum 2
2019/06/13 18:42:54 [KVServer 4 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 182
2019/06/13 18:42:54 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}} {179 21 {Get 3  10 9}} {180 21 {Append 4 x 4 2 y 8 8}} {181 21 {Append 1 x 1 4 y 7 7}} {182 21 {Append 2 x 2 6 y 9 9}}], and commitIndex have updated to 183
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:179 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:9}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 179
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 180
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:180 Term:21 Command:{Operation:Append Key:4 Value:x 4 2 y ClientID:8 ReqID:8}}
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:181 Term:21 Command:{Operation:Append Key:1 Value:x 1 4 y ClientID:7 ReqID:7}}
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 y], CommandIndex 181
2019/06/13 18:42:54 [KVServer 2 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 182
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{183 21 {Get 4  8 9}} {184 21 {Get 3  10 10}} {185 21 {Append 0 x 0 4 y 11 9}}] to peer 2 succ
2019/06/13 18:42:54 [follower 2/21 applyRoutine] have applied LogEntry {Index:182 Term:21 Command:{Operation:Append Key:2 Value:x 2 6 y ClientID:9 ReqID:9}}
2019/06/13 18:42:54 [leader 1/21 calcCommitIndex] follower 2, ai 185, i 6, rf.commit 183
2019/06/13 18:42:54 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 185's quorum 3
2019/06/13 18:42:54 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 186
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:183 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:9}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 183
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 184
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:184 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:10}}
2019/06/13 18:42:54 [leader 1/21 applyRoutine] have applied LogEntry {Index:185 Term:21 Command:{Operation:Append Key:0 Value:x 0 4 y ClientID:11 ReqID:9}}
2019/06/13 18:42:54 [KVServer 1 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 185
2019/06/13 18:42:54 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 yx 3 3 y ClientID:10 RepID:10}
2019/06/13 18:42:54 [Clerk 10 Get] succ replicate command to replicated state machine
2019/06/13 18:42:54 3: client new get 3
2019/06/13 18:42:54 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 yx 4 2 y ClientID:8 RepID:9}
2019/06/13 18:42:54 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:11} to KVServer 2
2019/06/13 18:42:54 [Clerk 8 Get] succ replicate command to replicated state machine
2019/06/13 18:42:54 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 4 y, reply = {WrongLeader:false Err: ClientID:11 RepID:9}
2019/06/13 18:42:54 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:54 0: client new append x 0 5 y
2019/06/13 18:42:54 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 5 y Op:Append ClientID:11 ReqID:10} to KVServer 3
2019/06/13 18:42:54 4: client new append x 4 3 y
2019/06/13 18:42:54 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 3 y Op:Append ClientID:8 ReqID:10} to KVServer 2
2019/06/13 18:42:54 [KVServer 1 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:11}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Get 3  10 11}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:10 ReqID:11}, logIndex = 186
2019/06/13 18:42:54 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 5 y Op:Append ClientID:7 ReqID:8} to KVServer 2
2019/06/13 18:42:54 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 6 y Op:Append ClientID:9 ReqID:9} to KVServer 4
2019/06/13 18:42:54 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}} {179 21 {Get 3  10 9}} {180 21 {Append 4 x 4 2 y 8 8}} {181 21 {Append 1 x 1 4 y 7 7}} {182 21 {Append 2 x 2 6 y 9 9}}], and commitIndex have updated to 183
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:179 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:9}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 179
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 180
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:180 Term:21 Command:{Operation:Append Key:4 Value:x 4 2 y ClientID:8 ReqID:8}}
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:181 Term:21 Command:{Operation:Append Key:1 Value:x 1 4 y ClientID:7 ReqID:7}}
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 y], CommandIndex 181
2019/06/13 18:42:54 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{183 21 {Get 4  8 9}} {184 21 {Get 3  10 10}} {185 21 {Append 0 x 0 4 y 11 9}}] to peer 3 succ
2019/06/13 18:42:54 [KVServer 3 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 182
2019/06/13 18:42:54 [follower 3/21 applyRoutine] have applied LogEntry {Index:182 Term:21 Command:{Operation:Append Key:2 Value:x 2 6 y ClientID:9 ReqID:9}}
2019/06/13 18:42:54 [leader 1/21 Start] receive client request {Append 0 x 0 5 y 11 10}
2019/06/13 18:42:54 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 5 y ClientID:11 ReqID:10}, logIndex = 187
2019/06/13 18:42:54 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 5 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 4 x 4 3 y 8 10}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 3 y ClientID:8 ReqID:10}, logIndex = 188
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 5 y Op:Append ClientID:7 ReqID:8} to KVServer 3
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 5 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 6 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 5 y Op:Append ClientID:7 ReqID:8} to KVServer 4
2019/06/13 18:42:55 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 6 y Op:Append ClientID:9 ReqID:9} to KVServer 0
2019/06/13 18:42:55 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 6 y, reply = {WrongLeader:false Err:ErrDuplicateReq ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 9 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 2: client new get 2
2019/06/13 18:42:55 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:10} to KVServer 0
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 1 x 1 5 y 7 8}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 5 y ClientID:7 ReqID:8}, logIndex = 189
2019/06/13 18:42:55 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:10} to KVServer 1
2019/06/13 18:42:55 [leader 1/21 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:55 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}} {179 21 {Get 3  10 9}} {180 21 {Append 4 x 4 2 y 8 8}} {181 21 {Append 1 x 1 4 y 7 7}} {182 21 {Append 2 x 2 6 y 9 9}} {183 21 {Get 4  8 9}} {184 21 {Get 3  10 10}} {185 21 {Append 0 x 0 4 y 11 9}}], and commitIndex have updated to 186
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:183 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:9}}
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 183
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 184
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:184 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:10}}
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:185 Term:21 Command:{Operation:Append Key:0 Value:x 0 4 y ClientID:11 ReqID:9}}
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{186 21 {Get 3  10 11}} {187 21 {Append 0 x 0 5 y 11 10}} {188 21 {Append 4 x 4 3 y 8 10}} {189 21 {Append 1 x 1 5 y 7 8}}] to peer 2 succ
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 185
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 2, ai 189, i 10, rf.commit 186
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 189's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 2, ai 188, i 9, rf.commit 186
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 188's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 2, ai 187, i 8, rf.commit 186
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 187's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 2, ai 186, i 7, rf.commit 186
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 186's quorum 2
2019/06/13 18:42:55 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:10}
2019/06/13 18:42:55 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {173 21 {Append 3 x 3 3 y 10 7}} {174 21 {Get 0  11 7}} {175 21 {Get 0  11 8}} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}} {179 21 {Get 3  10 9}} {180 21 {Append 4 x 4 2 y 8 8}} {181 21 {Append 1 x 1 4 y 7 7}} {182 21 {Append 2 x 2 6 y 9 9}} {183 21 {Get 4  8 9}} {184 21 {Get 3  10 10}} {185 21 {Append 0 x 0 4 y 11 9}}], and commitIndex have updated to 186
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:183 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:9}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 183
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 184
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:184 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:10}}
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:185 Term:21 Command:{Operation:Append Key:0 Value:x 0 4 y ClientID:11 ReqID:9}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 185
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{186 21 {Get 3  10 11}} {187 21 {Append 0 x 0 5 y 11 10}} {188 21 {Append 4 x 4 3 y 8 10}} {189 21 {Append 1 x 1 5 y 7 8}}] to peer 4 succ
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 4, ai 189, i 10, rf.commit 186
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 189's quorum 3
2019/06/13 18:42:55 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 190
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:186 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:11}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 186
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 y], CommandIndex 187
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:187 Term:21 Command:{Operation:Append Key:0 Value:x 0 5 y ClientID:11 ReqID:10}}
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:188 Term:21 Command:{Operation:Append Key:4 Value:x 4 3 y ClientID:8 ReqID:10}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 y], CommandIndex 188
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 y], CommandIndex 189
2019/06/13 18:42:55 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 5 y, reply = {WrongLeader:false Err: ClientID:11 RepID:10}
2019/06/13 18:42:55 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 yx 3 3 y ClientID:10 RepID:11}
2019/06/13 18:42:55 [Clerk 10 Get] succ replicate command to replicated state machine
2019/06/13 18:42:55 0: client new append x 0 6 y
2019/06/13 18:42:55 3: client new get 3
2019/06/13 18:42:55 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 6 y Op:Append ClientID:11 ReqID:11} to KVServer 3
2019/06/13 18:42:55 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:12} to KVServer 2
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 5 y, reply = {WrongLeader:false Err: ClientID:7 RepID:8}
2019/06/13 18:42:55 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 3 y, reply = {WrongLeader:false Err: ClientID:8 RepID:10}
2019/06/13 18:42:55 [Clerk 8 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 1: client new append x 1 6 y
2019/06/13 18:42:55 4: client new append x 4 4 y
2019/06/13 18:42:55 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 4 y Op:Append ClientID:8 ReqID:11} to KVServer 2
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:189 Term:21 Command:{Operation:Append Key:1 Value:x 1 5 y ClientID:7 ReqID:8}}
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 6 y Op:Append ClientID:7 ReqID:9} to KVServer 4
2019/06/13 18:42:55 [KVServer 1 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:12}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Get 3  10 12}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:10 ReqID:12}, logIndex = 190
2019/06/13 18:42:55 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:10} to KVServer 2
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 0 x 0 6 y 11 11}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 6 y ClientID:11 ReqID:11}, logIndex = 191
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 6 y Op:Append ClientID:7 ReqID:9} to KVServer 0
2019/06/13 18:42:55 [KVServer 4 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:10}
2019/06/13 18:42:55 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 4 x 4 4 y 8 11}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 4 y ClientID:8 ReqID:11}, logIndex = 192
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 6 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:10} to KVServer 3
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 6 y Op:Append ClientID:7 ReqID:9} to KVServer 1
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 6 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 6 y Op:Append ClientID:7 ReqID:9} to KVServer 2
2019/06/13 18:42:55 [KVServer 2 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:10}
2019/06/13 18:42:55 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [candidate 0/22 electionEventLoop] timeout, start the election
2019/06/13 18:42:55 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:10} to KVServer 4
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 6 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 6 y Op:Append ClientID:7 ReqID:9} to KVServer 3
2019/06/13 18:42:55 [leader 1/21 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:55 [KVServer 0 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:10}
2019/06/13 18:42:55 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 6 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}} {179 21 {Get 3  10 9}} {180 21 {Append 4 x 4 2 y 8 8}} {181 21 {Append 1 x 1 4 y 7 7}} {182 21 {Append 2 x 2 6 y 9 9}} {183 21 {Get 4  8 9}} {184 21 {Get 3  10 10}} {185 21 {Append 0 x 0 4 y 11 9}} {186 21 {Get 3  10 11}} {187 21 {Append 0 x 0 5 y 11 10}} {188 21 {Append 4 x 4 3 y 8 10}} {189 21 {Append 1 x 1 5 y 7 8}}], and commitIndex have updated to 190
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 186
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:186 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:11}}
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:187 Term:21 Command:{Operation:Append Key:0 Value:x 0 5 y ClientID:11 ReqID:10}}
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 y], CommandIndex 187
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 y], CommandIndex 188
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{190 21 {Get 3  10 12}} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}}] to peer 2 succ
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:188 Term:21 Command:{Operation:Append Key:4 Value:x 4 3 y ClientID:8 ReqID:10}}
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:189 Term:21 Command:{Operation:Append Key:1 Value:x 1 5 y ClientID:7 ReqID:8}}
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 2, ai 192, i 13, rf.commit 190
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 y], CommandIndex 189
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 192's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 2, ai 191, i 12, rf.commit 190
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 191's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 2, ai 190, i 11, rf.commit 190
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 190's quorum 2
2019/06/13 18:42:55 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:10} to KVServer 0
2019/06/13 18:42:55 [KVServer 1 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:10}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Get 2  9 10}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:9 ReqID:10}, logIndex = 193
2019/06/13 18:42:55 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {173 21 {Append 3 x 3 3 y 10 7}} {174 21 {Get 0  11 7}} {175 21 {Get 0  11 8}} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}} {179 21 {Get 3  10 9}} {180 21 {Append 4 x 4 2 y 8 8}} {181 21 {Append 1 x 1 4 y 7 7}} {182 21 {Append 2 x 2 6 y 9 9}} {183 21 {Get 4  8 9}} {184 21 {Get 3  10 10}} {185 21 {Append 0 x 0 4 y 11 9}} {186 21 {Get 3  10 11}} {187 21 {Append 0 x 0 5 y 11 10}} {188 21 {Append 4 x 4 3 y 8 10}} {189 21 {Append 1 x 1 5 y 7 8}}], and commitIndex have updated to 190
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:186 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:11}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 186
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 y], CommandIndex 187
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:187 Term:21 Command:{Operation:Append Key:0 Value:x 0 5 y ClientID:11 ReqID:10}}
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:188 Term:21 Command:{Operation:Append Key:4 Value:x 4 3 y ClientID:8 ReqID:10}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 y], CommandIndex 188
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 y], CommandIndex 189
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{190 21 {Get 3  10 12}} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}}] to peer 4 succ
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:189 Term:21 Command:{Operation:Append Key:1 Value:x 1 5 y ClientID:7 ReqID:8}}
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 4, ai 192, i 13, rf.commit 190
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 192's quorum 3
2019/06/13 18:42:55 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 193
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:190 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:12}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 190
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y], CommandIndex 191
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:191 Term:21 Command:{Operation:Append Key:0 Value:x 0 6 y ClientID:11 ReqID:11}}
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:192 Term:21 Command:{Operation:Append Key:4 Value:x 4 4 y ClientID:8 ReqID:11}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 y], CommandIndex 192
2019/06/13 18:42:55 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 yx 3 3 y ClientID:10 RepID:12}
2019/06/13 18:42:55 [Clerk 10 Get] succ replicate command to replicated state machine
2019/06/13 18:42:55 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 6 y, reply = {WrongLeader:false Err: ClientID:11 RepID:11}
2019/06/13 18:42:55 3: client new append x 3 4 y
2019/06/13 18:42:55 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 4 y, reply = {WrongLeader:false Err: ClientID:8 RepID:11}
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 4 y Op:Append ClientID:10 ReqID:13} to KVServer 2
2019/06/13 18:42:55 [Clerk 8 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 4: client new append x 4 5 y
2019/06/13 18:42:55 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 5 y Op:Append ClientID:8 ReqID:12} to KVServer 2
2019/06/13 18:42:55 0: client new append x 0 7 y
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 6 y Op:Append ClientID:7 ReqID:9} to KVServer 4
2019/06/13 18:42:55 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 7 y Op:Append ClientID:11 ReqID:12} to KVServer 3
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 0 x 0 7 y 11 12}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 7 y ClientID:11 ReqID:12}, logIndex = 194
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 3 x 3 4 y 10 13}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 4 y ClientID:10 ReqID:13}, logIndex = 195
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 1 x 1 6 y 7 9}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 6 y ClientID:7 ReqID:9}, logIndex = 196
2019/06/13 18:42:55 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 5 y Op:Append ClientID:8 ReqID:12} to KVServer 3
2019/06/13 18:42:55 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 5 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 5 y Op:Append ClientID:8 ReqID:12} to KVServer 4
2019/06/13 18:42:55 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 5 y Op:Append ClientID:8 ReqID:12} to KVServer 0
2019/06/13 18:42:55 [leader 1/21 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:55 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 5 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}} {179 21 {Get 3  10 9}} {180 21 {Append 4 x 4 2 y 8 8}} {181 21 {Append 1 x 1 4 y 7 7}} {182 21 {Append 2 x 2 6 y 9 9}} {183 21 {Get 4  8 9}} {184 21 {Get 3  10 10}} {185 21 {Append 0 x 0 4 y 11 9}} {186 21 {Get 3  10 11}} {187 21 {Append 0 x 0 5 y 11 10}} {188 21 {Append 4 x 4 3 y 8 10}} {189 21 {Append 1 x 1 5 y 7 8}} {190 21 {Get 3  10 12}} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}}], and commitIndex have updated to 193
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:183 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:9}}
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 y], CommandIndex 183
2019/06/13 18:42:55 [KVServer 3 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1035
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{186 21 {Get 3  10 11}} {187 21 {Append 0 x 0 5 y 11 10}} {188 21 {Append 4 x 4 3 y 8 10}} {189 21 {Append 1 x 1 5 y 7 8}} {190 21 {Get 3  10 12}} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}} {193 21 {Get 2  9 10}} {194 21 {Append 0 x 0 7 y 11 12}} {195 21 {Append 3 x 3 4 y 10 13}} {196 21 {Append 1 x 1 6 y 7 9}}] to peer 3 succ
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 3, ai 196, i 17, rf.commit 193
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 196's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 3, ai 195, i 16, rf.commit 193
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 195's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 3, ai 194, i 15, rf.commit 193
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 194's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 3, ai 193, i 14, rf.commit 193
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 193's quorum 2
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 184
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:184 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:10}}
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:185 Term:21 Command:{Operation:Append Key:0 Value:x 0 4 y ClientID:11 ReqID:9}}
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 y], CommandIndex 185
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 186
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:186 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:11}}
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:187 Term:21 Command:{Operation:Append Key:0 Value:x 0 5 y ClientID:11 ReqID:10}}
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 y], CommandIndex 187
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 y], CommandIndex 188
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:188 Term:21 Command:{Operation:Append Key:4 Value:x 4 3 y ClientID:8 ReqID:10}}
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:189 Term:21 Command:{Operation:Append Key:1 Value:x 1 5 y ClientID:7 ReqID:8}}
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 y], CommandIndex 189
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 190
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:190 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:12}}
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:191 Term:21 Command:{Operation:Append Key:0 Value:x 0 6 y ClientID:11 ReqID:11}}
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y], CommandIndex 191
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 y], CommandIndex 192
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:192 Term:21 Command:{Operation:Append Key:4 Value:x 4 4 y ClientID:8 ReqID:11}}
2019/06/13 18:42:55 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {173 21 {Append 3 x 3 3 y 10 7}} {174 21 {Get 0  11 7}} {175 21 {Get 0  11 8}} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}} {179 21 {Get 3  10 9}} {180 21 {Append 4 x 4 2 y 8 8}} {181 21 {Append 1 x 1 4 y 7 7}} {182 21 {Append 2 x 2 6 y 9 9}} {183 21 {Get 4  8 9}} {184 21 {Get 3  10 10}} {185 21 {Append 0 x 0 4 y 11 9}} {186 21 {Get 3  10 11}} {187 21 {Append 0 x 0 5 y 11 10}} {188 21 {Append 4 x 4 3 y 8 10}} {189 21 {Append 1 x 1 5 y 7 8}} {190 21 {Get 3  10 12}} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}}], and commitIndex have updated to 193
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:190 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:12}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 190
2019/06/13 18:42:55 [KVServer 4 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1149
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{193 21 {Get 2  9 10}} {194 21 {Append 0 x 0 7 y 11 12}} {195 21 {Append 3 x 3 4 y 10 13}} {196 21 {Append 1 x 1 6 y 7 9}}] to peer 4 succ
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 4, ai 196, i 17, rf.commit 193
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 196's quorum 3
2019/06/13 18:42:55 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 197
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:193 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:10}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 193
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 y], CommandIndex 194
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:194 Term:21 Command:{Operation:Append Key:0 Value:x 0 7 y ClientID:11 ReqID:12}}
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:195 Term:21 Command:{Operation:Append Key:3 Value:x 3 4 y ClientID:10 ReqID:13}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 y], CommandIndex 195
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y], CommandIndex 191
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:196 Term:21 Command:{Operation:Append Key:1 Value:x 1 6 y ClientID:7 ReqID:9}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 196
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:191 Term:21 Command:{Operation:Append Key:0 Value:x 0 6 y ClientID:11 ReqID:11}}
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:192 Term:21 Command:{Operation:Append Key:4 Value:x 4 4 y ClientID:8 ReqID:11}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 y], CommandIndex 192
2019/06/13 18:42:55 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 7 y, reply = {WrongLeader:false Err: ClientID:11 RepID:12}
2019/06/13 18:42:55 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y ClientID:9 RepID:10}
2019/06/13 18:42:55 0: client new get 0
2019/06/13 18:42:55 [Clerk 9 Get] succ replicate command to replicated state machine
2019/06/13 18:42:55 2: client new get 2
2019/06/13 18:42:55 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:13} to KVServer 3
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 6 y, reply = {WrongLeader:false Err: ClientID:7 RepID:9}
2019/06/13 18:42:55 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:11} to KVServer 0
2019/06/13 18:42:55 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 4 y, reply = {WrongLeader:false Err: ClientID:10 RepID:13}
2019/06/13 18:42:55 1: client new append x 1 7 y
2019/06/13 18:42:55 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 7 y Op:Append ClientID:7 ReqID:10} to KVServer 4
2019/06/13 18:42:55 3: client new append x 3 5 y
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 5 y Op:Append ClientID:10 ReqID:14} to KVServer 2
2019/06/13 18:42:55 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 5 y Op:Append ClientID:8 ReqID:12} to KVServer 1
2019/06/13 18:42:55 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 5 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 3 x 3 5 y 10 14}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 5 y ClientID:10 ReqID:14}, logIndex = 197
2019/06/13 18:42:55 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {176 21 {Get 3  10 8}} {177 21 {Get 4  8 7}} {178 21 {Append 1 x 1 3 y 7 6}} {179 21 {Get 3  10 9}} {180 21 {Append 4 x 4 2 y 8 8}} {181 21 {Append 1 x 1 4 y 7 7}} {182 21 {Append 2 x 2 6 y 9 9}} {183 21 {Get 4  8 9}} {184 21 {Get 3  10 10}} {185 21 {Append 0 x 0 4 y 11 9}} {186 21 {Get 3  10 11}} {187 21 {Append 0 x 0 5 y 11 10}} {188 21 {Append 4 x 4 3 y 8 10}} {189 21 {Append 1 x 1 5 y 7 8}} {190 21 {Get 3  10 12}} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}}], and commitIndex have updated to 193
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:190 Term:21 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:12}}
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 y], CommandIndex 190
2019/06/13 18:42:55 [KVServer 2 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1035
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{193 21 {Get 2  9 10}} {194 21 {Append 0 x 0 7 y 11 12}} {195 21 {Append 3 x 3 4 y 10 13}} {196 21 {Append 1 x 1 6 y 7 9}}] to peer 2 succ
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 y], CommandIndex 191
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:191 Term:21 Command:{Operation:Append Key:0 Value:x 0 6 y ClientID:11 ReqID:11}}
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:192 Term:21 Command:{Operation:Append Key:4 Value:x 4 4 y ClientID:8 ReqID:11}}
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 y], CommandIndex 192
2019/06/13 18:42:55 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 5 y Op:Append ClientID:8 ReqID:12} to KVServer 2
2019/06/13 18:42:55 [KVServer 1 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:11}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Get 2  9 11}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:9 ReqID:11}, logIndex = 198
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 1 x 1 7 y 7 10}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 7 y ClientID:7 ReqID:10}, logIndex = 199
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 4 x 4 5 y 8 12}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 5 y ClientID:8 ReqID:12}, logIndex = 200
2019/06/13 18:42:55 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:13} to KVServer 4
2019/06/13 18:42:55 [KVServer 0 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:13}
2019/06/13 18:42:55 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:13} to KVServer 0
2019/06/13 18:42:55 [KVServer 2 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:13}
2019/06/13 18:42:55 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [leader 1/21 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:55 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {184 21 {Get 3  10 10}} {185 21 {Append 0 x 0 4 y 11 9}} {186 21 {Get 3  10 11}} {187 21 {Append 0 x 0 5 y 11 10}} {188 21 {Append 4 x 4 3 y 8 10}} {189 21 {Append 1 x 1 5 y 7 8}} {190 21 {Get 3  10 12}} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}} {193 21 {Get 2  9 10}} {194 21 {Append 0 x 0 7 y 11 12}} {195 21 {Append 3 x 3 4 y 10 13}} {196 21 {Append 1 x 1 6 y 7 9}}], and commitIndex have updated to 197
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:193 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:10}}
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 193
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 y], CommandIndex 194
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:194 Term:21 Command:{Operation:Append Key:0 Value:x 0 7 y ClientID:11 ReqID:12}}
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:195 Term:21 Command:{Operation:Append Key:3 Value:x 3 4 y ClientID:10 ReqID:13}}
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 y], CommandIndex 195
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 196
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{197 21 {Append 3 x 3 5 y 10 14}} {198 21 {Get 2  9 11}} {199 21 {Append 1 x 1 7 y 7 10}} {200 21 {Append 4 x 4 5 y 8 12}}] to peer 3 succ
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:196 Term:21 Command:{Operation:Append Key:1 Value:x 1 6 y ClientID:7 ReqID:9}}
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 3, ai 200, i 21, rf.commit 197
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 200's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 3, ai 199, i 20, rf.commit 197
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 199's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 3, ai 198, i 19, rf.commit 197
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 198's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 3, ai 197, i 18, rf.commit 197
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 197's quorum 2
2019/06/13 18:42:55 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:13} to KVServer 1
2019/06/13 18:42:55 [KVServer 4 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:13}
2019/06/13 18:42:55 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}} {193 21 {Get 2  9 10}} {194 21 {Append 0 x 0 7 y 11 12}} {195 21 {Append 3 x 3 4 y 10 13}} {196 21 {Append 1 x 1 6 y 7 9}}], and commitIndex have updated to 197
2019/06/13 18:42:55 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:193 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:10}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 193
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 y], CommandIndex 194
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:194 Term:21 Command:{Operation:Append Key:0 Value:x 0 7 y ClientID:11 ReqID:12}}
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:195 Term:21 Command:{Operation:Append Key:3 Value:x 3 4 y ClientID:10 ReqID:13}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 y], CommandIndex 195
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 196
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{197 21 {Append 3 x 3 5 y 10 14}} {198 21 {Get 2  9 11}} {199 21 {Append 1 x 1 7 y 7 10}} {200 21 {Append 4 x 4 5 y 8 12}}] to peer 4 succ
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 4, ai 200, i 21, rf.commit 197
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:196 Term:21 Command:{Operation:Append Key:1 Value:x 1 6 y ClientID:7 ReqID:9}}
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 200's quorum 3
2019/06/13 18:42:55 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 201
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:197 Term:21 Command:{Operation:Append Key:3 Value:x 3 5 y ClientID:10 ReqID:14}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 y], CommandIndex 197
2019/06/13 18:42:55 [KVServer 1 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1059
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 198
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:198 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:11}}
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 5 y, reply = {WrongLeader:false Err: ClientID:10 RepID:14}
2019/06/13 18:42:55 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 y], CommandIndex 199
2019/06/13 18:42:55 3: client new append x 3 6 y
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 6 y Op:Append ClientID:10 ReqID:15} to KVServer 2
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:199 Term:21 Command:{Operation:Append Key:1 Value:x 1 7 y ClientID:7 ReqID:10}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 y], CommandIndex 200
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:200 Term:21 Command:{Operation:Append Key:4 Value:x 4 5 y ClientID:8 ReqID:12}}
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 7 y, reply = {WrongLeader:false Err: ClientID:7 RepID:10}
2019/06/13 18:42:55 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 1: client new append x 1 8 y
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 8 y Op:Append ClientID:7 ReqID:11} to KVServer 4
2019/06/13 18:42:55 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 5 y, reply = {WrongLeader:false Err: ClientID:8 RepID:12}
2019/06/13 18:42:55 [Clerk 8 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 4: client new append x 4 6 y
2019/06/13 18:42:55 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 6 y Op:Append ClientID:8 ReqID:13} to KVServer 2
2019/06/13 18:42:55 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}} {193 21 {Get 2  9 10}} {194 21 {Append 0 x 0 7 y 11 12}} {195 21 {Append 3 x 3 4 y 10 13}} {196 21 {Append 1 x 1 6 y 7 9}}], and commitIndex have updated to 197
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:193 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:10}}
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 193
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 y], CommandIndex 194
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:194 Term:21 Command:{Operation:Append Key:0 Value:x 0 7 y ClientID:11 ReqID:12}}
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:195 Term:21 Command:{Operation:Append Key:3 Value:x 3 4 y ClientID:10 ReqID:13}}
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{197 21 {Append 3 x 3 5 y 10 14}} {198 21 {Get 2  9 11}} {199 21 {Append 1 x 1 7 y 7 10}} {200 21 {Append 4 x 4 5 y 8 12}}] to peer 2 succ
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 y], CommandIndex 195
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y], CommandIndex 196
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:196 Term:21 Command:{Operation:Append Key:1 Value:x 1 6 y ClientID:7 ReqID:9}}
2019/06/13 18:42:55 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:13} to KVServer 2
2019/06/13 18:42:55 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:11} to KVServer 1
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 1 x 1 8 y 7 11}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 8 y ClientID:7 ReqID:11}, logIndex = 201
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 4 x 4 6 y 8 13}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 6 y ClientID:8 ReqID:13}, logIndex = 202
2019/06/13 18:42:55 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:11}
2019/06/13 18:42:55 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [KVServer 3 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:13}
2019/06/13 18:42:55 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 6 y Op:Append ClientID:10 ReqID:15} to KVServer 3
2019/06/13 18:42:55 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:11} to KVServer 2
2019/06/13 18:42:55 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:13} to KVServer 3
2019/06/13 18:42:55 [KVServer 4 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:11}
2019/06/13 18:42:55 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:11} to KVServer 3
2019/06/13 18:42:55 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:13} to KVServer 4
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 6 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [KVServer 2 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:11}
2019/06/13 18:42:55 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 6 y Op:Append ClientID:10 ReqID:15} to KVServer 4
2019/06/13 18:42:55 [KVServer 0 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:13}
2019/06/13 18:42:55 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:11} to KVServer 4
2019/06/13 18:42:55 [leader 1/21 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:55 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}} {193 21 {Get 2  9 10}} {194 21 {Append 0 x 0 7 y 11 12}} {195 21 {Append 3 x 3 4 y 10 13}} {196 21 {Append 1 x 1 6 y 7 9}} {197 21 {Append 3 x 3 5 y 10 14}} {198 21 {Get 2  9 11}} {199 21 {Append 1 x 1 7 y 7 10}} {200 21 {Append 4 x 4 5 y 8 12}}], and commitIndex have updated to 201
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:197 Term:21 Command:{Operation:Append Key:3 Value:x 3 5 y ClientID:10 ReqID:14}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 y], CommandIndex 197
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 198
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:198 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:11}}
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:199 Term:21 Command:{Operation:Append Key:1 Value:x 1 7 y ClientID:7 ReqID:10}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 y], CommandIndex 199
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 y], CommandIndex 200
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{201 21 {Append 1 x 1 8 y 7 11}} {202 21 {Append 4 x 4 6 y 8 13}}] to peer 4 succ
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 4, ai 202, i 5, rf.commit 201
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:200 Term:21 Command:{Operation:Append Key:4 Value:x 4 5 y ClientID:8 ReqID:12}}
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 202's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 4, ai 201, i 4, rf.commit 201
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 201's quorum 2
2019/06/13 18:42:55 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:13} to KVServer 0
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 6 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {184 21 {Get 3  10 10}} {185 21 {Append 0 x 0 4 y 11 9}} {186 21 {Get 3  10 11}} {187 21 {Append 0 x 0 5 y 11 10}} {188 21 {Append 4 x 4 3 y 8 10}} {189 21 {Append 1 x 1 5 y 7 8}} {190 21 {Get 3  10 12}} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}} {193 21 {Get 2  9 10}} {194 21 {Append 0 x 0 7 y 11 12}} {195 21 {Append 3 x 3 4 y 10 13}} {196 21 {Append 1 x 1 6 y 7 9}} {197 21 {Append 3 x 3 5 y 10 14}} {198 21 {Get 2  9 11}} {199 21 {Append 1 x 1 7 y 7 10}} {200 21 {Append 4 x 4 5 y 8 12}}], and commitIndex have updated to 201
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:197 Term:21 Command:{Operation:Append Key:3 Value:x 3 5 y ClientID:10 ReqID:14}}
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 y], CommandIndex 197
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 198
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:198 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:11}}
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:199 Term:21 Command:{Operation:Append Key:1 Value:x 1 7 y ClientID:7 ReqID:10}}
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{201 21 {Append 1 x 1 8 y 7 11}} {202 21 {Append 4 x 4 6 y 8 13}}] to peer 3 succ
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 3, ai 202, i 5, rf.commit 201
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 202's quorum 3
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 y], CommandIndex 199
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 y], CommandIndex 200
2019/06/13 18:42:55 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 203
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:200 Term:21 Command:{Operation:Append Key:4 Value:x 4 5 y ClientID:8 ReqID:12}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 y], CommandIndex 201
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:201 Term:21 Command:{Operation:Append Key:1 Value:x 1 8 y ClientID:7 ReqID:11}}
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:202 Term:21 Command:{Operation:Append Key:4 Value:x 4 6 y ClientID:8 ReqID:13}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 202
2019/06/13 18:42:55 [KVServer 2 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:13}
2019/06/13 18:42:55 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 6 y, reply = {WrongLeader:false Err: ClientID:8 RepID:13}
2019/06/13 18:42:55 [Clerk 8 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 4: client new get 4
2019/06/13 18:42:55 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:14} to KVServer 2
2019/06/13 18:42:55 [KVServer 0 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:11}
2019/06/13 18:42:55 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 6 y Op:Append ClientID:10 ReqID:15} to KVServer 0
2019/06/13 18:42:55 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}} {193 21 {Get 2  9 10}} {194 21 {Append 0 x 0 7 y 11 12}} {195 21 {Append 3 x 3 4 y 10 13}} {196 21 {Append 1 x 1 6 y 7 9}} {197 21 {Append 3 x 3 5 y 10 14}} {198 21 {Get 2  9 11}} {199 21 {Append 1 x 1 7 y 7 10}} {200 21 {Append 4 x 4 5 y 8 12}}], and commitIndex have updated to 201
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:197 Term:21 Command:{Operation:Append Key:3 Value:x 3 5 y ClientID:10 ReqID:14}}
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 y], CommandIndex 197
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 198
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:198 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:11}}
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:199 Term:21 Command:{Operation:Append Key:1 Value:x 1 7 y ClientID:7 ReqID:10}}
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 y], CommandIndex 199
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{201 21 {Append 1 x 1 8 y 7 11}} {202 21 {Append 4 x 4 6 y 8 13}}] to peer 2 succ
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 y], CommandIndex 200
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:200 Term:21 Command:{Operation:Append Key:4 Value:x 4 5 y ClientID:8 ReqID:12}}
2019/06/13 18:42:55 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:13} to KVServer 1
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 8 y Op:Append ClientID:7 ReqID:11} to KVServer 0
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 8 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:11} to KVServer 0
2019/06/13 18:42:55 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:14} to KVServer 3
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 6 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 8 y Op:Append ClientID:7 ReqID:11} to KVServer 1
2019/06/13 18:42:55 [KVServer 1 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:11}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Get 2  9 11}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:9 ReqID:11}, logIndex = 203
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 6 y Op:Append ClientID:10 ReqID:15} to KVServer 1
2019/06/13 18:42:55 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:14}
2019/06/13 18:42:55 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [KVServer 4 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:13}
2019/06/13 18:42:55 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:14} to KVServer 4
2019/06/13 18:42:55 [candidate 0/23 electionEventLoop] timeout, start the election
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 8 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:13} to KVServer 2
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 6 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 8 y Op:Append ClientID:7 ReqID:11} to KVServer 2
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 6 y Op:Append ClientID:10 ReqID:15} to KVServer 2
2019/06/13 18:42:55 [KVServer 3 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:13}
2019/06/13 18:42:55 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:14}
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 8 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:13} to KVServer 3
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 3 x 3 6 y 10 15}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 6 y ClientID:10 ReqID:15}, logIndex = 204
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 8 y Op:Append ClientID:7 ReqID:11} to KVServer 3
2019/06/13 18:42:55 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:14} to KVServer 0
2019/06/13 18:42:55 [KVServer 1 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:13}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Get 0  11 13}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:11 ReqID:13}, logIndex = 205
2019/06/13 18:42:55 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:14}
2019/06/13 18:42:55 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [leader 1/21 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:55 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:14} to KVServer 1
2019/06/13 18:42:55 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}} {193 21 {Get 2  9 10}} {194 21 {Append 0 x 0 7 y 11 12}} {195 21 {Append 3 x 3 4 y 10 13}} {196 21 {Append 1 x 1 6 y 7 9}} {197 21 {Append 3 x 3 5 y 10 14}} {198 21 {Get 2  9 11}} {199 21 {Append 1 x 1 7 y 7 10}} {200 21 {Append 4 x 4 5 y 8 12}} {201 21 {Append 1 x 1 8 y 7 11}} {202 21 {Append 4 x 4 6 y 8 13}}], and commitIndex have updated to 203
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:201 Term:21 Command:{Operation:Append Key:1 Value:x 1 8 y ClientID:7 ReqID:11}}
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 y], CommandIndex 201
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 202
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:202 Term:21 Command:{Operation:Append Key:4 Value:x 4 6 y ClientID:8 ReqID:13}}
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{203 21 {Get 2  9 11}} {204 21 {Append 3 x 3 6 y 10 15}} {205 21 {Get 0  11 13}}] to peer 2 succ
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 2, ai 205, i 8, rf.commit 203
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 205's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 2, ai 204, i 7, rf.commit 203
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 204's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 2, ai 203, i 6, rf.commit 203
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 203's quorum 2
2019/06/13 18:42:55 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {184 21 {Get 3  10 10}} {185 21 {Append 0 x 0 4 y 11 9}} {186 21 {Get 3  10 11}} {187 21 {Append 0 x 0 5 y 11 10}} {188 21 {Append 4 x 4 3 y 8 10}} {189 21 {Append 1 x 1 5 y 7 8}} {190 21 {Get 3  10 12}} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}} {193 21 {Get 2  9 10}} {194 21 {Append 0 x 0 7 y 11 12}} {195 21 {Append 3 x 3 4 y 10 13}} {196 21 {Append 1 x 1 6 y 7 9}} {197 21 {Append 3 x 3 5 y 10 14}} {198 21 {Get 2  9 11}} {199 21 {Append 1 x 1 7 y 7 10}} {200 21 {Append 4 x 4 5 y 8 12}} {201 21 {Append 1 x 1 8 y 7 11}} {202 21 {Append 4 x 4 6 y 8 13}}], and commitIndex have updated to 203
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:201 Term:21 Command:{Operation:Append Key:1 Value:x 1 8 y ClientID:7 ReqID:11}}
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 y], CommandIndex 201
2019/06/13 18:42:55 [KVServer 3 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1093
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{203 21 {Get 2  9 11}} {204 21 {Append 3 x 3 6 y 10 15}} {205 21 {Get 0  11 13}}] to peer 3 succ
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 3, ai 205, i 8, rf.commit 203
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 205's quorum 3
2019/06/13 18:42:55 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 206
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:203 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:11}}
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:204 Term:21 Command:{Operation:Append Key:3 Value:x 3 6 y ClientID:10 ReqID:15}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 y], CommandIndex 204
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 y], CommandIndex 205
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 202
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:202 Term:21 Command:{Operation:Append Key:4 Value:x 4 6 y ClientID:8 ReqID:13}}
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:205 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:13}}
2019/06/13 18:42:55 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y ClientID:9 RepID:11}
2019/06/13 18:42:55 [Clerk 9 Get] succ replicate command to replicated state machine
2019/06/13 18:42:55 2: client new get 2
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 6 y, reply = {WrongLeader:false Err: ClientID:10 RepID:15}
2019/06/13 18:42:55 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:12} to KVServer 0
2019/06/13 18:42:55 3: client new append x 3 7 y
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:10 ReqID:16} to KVServer 2
2019/06/13 18:42:55 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 y ClientID:11 RepID:13}
2019/06/13 18:42:55 [Clerk 11 Get] succ replicate command to replicated state machine
2019/06/13 18:42:55 0: client new append x 0 8 y
2019/06/13 18:42:55 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 8 y Op:Append ClientID:11 ReqID:14} to KVServer 3
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 8 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [KVServer 1 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:12}
2019/06/13 18:42:55 [KVServer 2 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:14}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Get 2  9 12}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:9 ReqID:12}, logIndex = 206
2019/06/13 18:42:55 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 8 y Op:Append ClientID:7 ReqID:11} to KVServer 4
2019/06/13 18:42:55 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}} {193 21 {Get 2  9 10}} {194 21 {Append 0 x 0 7 y 11 12}} {195 21 {Append 3 x 3 4 y 10 13}} {196 21 {Append 1 x 1 6 y 7 9}} {197 21 {Append 3 x 3 5 y 10 14}} {198 21 {Get 2  9 11}} {199 21 {Append 1 x 1 7 y 7 10}} {200 21 {Append 4 x 4 5 y 8 12}} {201 21 {Append 1 x 1 8 y 7 11}} {202 21 {Append 4 x 4 6 y 8 13}}], and commitIndex have updated to 203
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:201 Term:21 Command:{Operation:Append Key:1 Value:x 1 8 y ClientID:7 ReqID:11}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 y], CommandIndex 201
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 202
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:202 Term:21 Command:{Operation:Append Key:4 Value:x 4 6 y ClientID:8 ReqID:13}}
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{203 21 {Get 2  9 11}} {204 21 {Append 3 x 3 6 y 10 15}} {205 21 {Get 0  11 13}}] to peer 4 succ
2019/06/13 18:42:55 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:14} to KVServer 2
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 8 y, reply = {WrongLeader:false Err:ErrDuplicateReq ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 1: client new append x 1 9 y
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 9 y Op:Append ClientID:7 ReqID:12} to KVServer 4
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 0 x 0 8 y 11 14}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 8 y ClientID:11 ReqID:14}, logIndex = 207
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:10 ReqID:16} to KVServer 3
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 1 x 1 9 y 7 12}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 9 y ClientID:7 ReqID:12}, logIndex = 208
2019/06/13 18:42:55 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:14}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Get 4  8 14}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:8 ReqID:14}, logIndex = 209
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:10 ReqID:16} to KVServer 4
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [leader 1/21 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:55 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}} {193 21 {Get 2  9 10}} {194 21 {Append 0 x 0 7 y 11 12}} {195 21 {Append 3 x 3 4 y 10 13}} {196 21 {Append 1 x 1 6 y 7 9}} {197 21 {Append 3 x 3 5 y 10 14}} {198 21 {Get 2  9 11}} {199 21 {Append 1 x 1 7 y 7 10}} {200 21 {Append 4 x 4 5 y 8 12}} {201 21 {Append 1 x 1 8 y 7 11}} {202 21 {Append 4 x 4 6 y 8 13}} {203 21 {Get 2  9 11}} {204 21 {Append 3 x 3 6 y 10 15}} {205 21 {Get 0  11 13}}], and commitIndex have updated to 206
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:203 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:11}}
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:204 Term:21 Command:{Operation:Append Key:3 Value:x 3 6 y ClientID:10 ReqID:15}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 y], CommandIndex 204
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 y], CommandIndex 205
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:205 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:13}}
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{206 21 {Get 2  9 12}} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}}] to peer 4 succ
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 4, ai 209, i 12, rf.commit 206
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 209's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 4, ai 208, i 11, rf.commit 206
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 208's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 4, ai 207, i 10, rf.commit 206
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 207's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 4, ai 206, i 9, rf.commit 206
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 206's quorum 2
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:10 ReqID:16} to KVServer 0
2019/06/13 18:42:55 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}} {193 21 {Get 2  9 10}} {194 21 {Append 0 x 0 7 y 11 12}} {195 21 {Append 3 x 3 4 y 10 13}} {196 21 {Append 1 x 1 6 y 7 9}} {197 21 {Append 3 x 3 5 y 10 14}} {198 21 {Get 2  9 11}} {199 21 {Append 1 x 1 7 y 7 10}} {200 21 {Append 4 x 4 5 y 8 12}} {201 21 {Append 1 x 1 8 y 7 11}} {202 21 {Append 4 x 4 6 y 8 13}} {203 21 {Get 2  9 11}} {204 21 {Append 3 x 3 6 y 10 15}} {205 21 {Get 0  11 13}}], and commitIndex have updated to 206
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:203 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:11}}
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 y], CommandIndex 204
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:204 Term:21 Command:{Operation:Append Key:3 Value:x 3 6 y ClientID:10 ReqID:15}}
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:205 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:13}}
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 y], CommandIndex 205
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {202 21 {Append 4 x 4 6 y 8 13}} {203 21 {Get 2  9 11}} {204 21 {Append 3 x 3 6 y 10 15}} {205 21 {Get 0  11 13}}], and commitIndex have updated to 206
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:203 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:11}}
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:204 Term:21 Command:{Operation:Append Key:3 Value:x 3 6 y ClientID:10 ReqID:15}}
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 y], CommandIndex 204
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 y], CommandIndex 205
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{206 21 {Get 2  9 12}} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}}] to peer 3 succ
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:205 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:13}}
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 3, ai 209, i 12, rf.commit 206
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 209's quorum 3
2019/06/13 18:42:55 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 210
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:206 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:12}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 206
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 207
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:207 Term:21 Command:{Operation:Append Key:0 Value:x 0 8 y ClientID:11 ReqID:14}}
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:208 Term:21 Command:{Operation:Append Key:1 Value:x 1 9 y ClientID:7 ReqID:12}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 y], CommandIndex 208
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 209
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:209 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:14}}
2019/06/13 18:42:55 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 8 y, reply = {WrongLeader:false Err: ClientID:11 RepID:14}
2019/06/13 18:42:55 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y ClientID:9 RepID:12}
2019/06/13 18:42:55 0: client new get 0
2019/06/13 18:42:55 [Clerk 9 Get] succ replicate command to replicated state machine
2019/06/13 18:42:55 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:15} to KVServer 3
2019/06/13 18:42:55 2: client new append x 2 7 y
2019/06/13 18:42:55 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 7 y Op:Append ClientID:9 ReqID:13} to KVServer 0
2019/06/13 18:42:55 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y ClientID:8 RepID:14}
2019/06/13 18:42:55 [Clerk 8 Get] succ replicate command to replicated state machine
2019/06/13 18:42:55 4: client new get 4
2019/06/13 18:42:55 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:15} to KVServer 2
2019/06/13 18:42:55 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:15}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Get 4  8 15}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:8 ReqID:15}, logIndex = 210
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:10 ReqID:16} to KVServer 1
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 9 y Op:Append ClientID:7 ReqID:12} to KVServer 0
2019/06/13 18:42:55 [KVServer 1 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:15}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Get 0  11 15}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:11 ReqID:15}, logIndex = 211
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 2 x 2 7 y 9 13}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 7 y ClientID:9 ReqID:13}, logIndex = 212
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:10 ReqID:16} to KVServer 2
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 9 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 3 x 3 7 y 10 16}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 7 y ClientID:10 ReqID:16}, logIndex = 213
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 9 y Op:Append ClientID:7 ReqID:12} to KVServer 1
2019/06/13 18:42:55 [leader 1/21 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 9 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {202 21 {Append 4 x 4 6 y 8 13}} {203 21 {Get 2  9 11}} {204 21 {Append 3 x 3 6 y 10 15}} {205 21 {Get 0  11 13}} {206 21 {Get 2  9 12}} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}}], and commitIndex have updated to 210
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:206 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:12}}
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 206
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 207
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:207 Term:21 Command:{Operation:Append Key:0 Value:x 0 8 y ClientID:11 ReqID:14}}
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:208 Term:21 Command:{Operation:Append Key:1 Value:x 1 9 y ClientID:7 ReqID:12}}
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 y], CommandIndex 208
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 209
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:209 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:14}}
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{210 21 {Get 4  8 15}} {211 21 {Get 0  11 15}} {212 21 {Append 2 x 2 7 y 9 13}} {213 21 {Append 3 x 3 7 y 10 16}}] to peer 3 succ
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 3, ai 213, i 16, rf.commit 210
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 213's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 3, ai 212, i 15, rf.commit 210
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 212's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 3, ai 211, i 14, rf.commit 210
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 211's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 3, ai 210, i 13, rf.commit 210
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 210's quorum 2
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 9 y Op:Append ClientID:7 ReqID:12} to KVServer 2
2019/06/13 18:42:55 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}} {193 21 {Get 2  9 10}} {194 21 {Append 0 x 0 7 y 11 12}} {195 21 {Append 3 x 3 4 y 10 13}} {196 21 {Append 1 x 1 6 y 7 9}} {197 21 {Append 3 x 3 5 y 10 14}} {198 21 {Get 2  9 11}} {199 21 {Append 1 x 1 7 y 7 10}} {200 21 {Append 4 x 4 5 y 8 12}} {201 21 {Append 1 x 1 8 y 7 11}} {202 21 {Append 4 x 4 6 y 8 13}} {203 21 {Get 2  9 11}} {204 21 {Append 3 x 3 6 y 10 15}} {205 21 {Get 0  11 13}} {206 21 {Get 2  9 12}} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}}], and commitIndex have updated to 210
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:206 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:12}}
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 206
2019/06/13 18:42:55 [KVServer 2 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1127
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{206 21 {Get 2  9 12}} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}} {210 21 {Get 4  8 15}} {211 21 {Get 0  11 15}} {212 21 {Append 2 x 2 7 y 9 13}} {213 21 {Append 3 x 3 7 y 10 16}}] to peer 2 succ
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 2, ai 213, i 16, rf.commit 210
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 213's quorum 3
2019/06/13 18:42:55 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 214
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:210 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:15}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 210
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 211
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 207
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:211 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:15}}
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:207 Term:21 Command:{Operation:Append Key:0 Value:x 0 8 y ClientID:11 ReqID:14}}
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:212 Term:21 Command:{Operation:Append Key:2 Value:x 2 7 y ClientID:9 ReqID:13}}
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:208 Term:21 Command:{Operation:Append Key:1 Value:x 1 9 y ClientID:7 ReqID:12}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 212
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 y], CommandIndex 208
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 209
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:213 Term:21 Command:{Operation:Append Key:3 Value:x 3 7 y ClientID:10 ReqID:16}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 213
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:209 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:14}}
2019/06/13 18:42:55 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y ClientID:11 RepID:15}
2019/06/13 18:42:55 [Clerk 11 Get] succ replicate command to replicated state machine
2019/06/13 18:42:55 0: client new get 0
2019/06/13 18:42:55 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y ClientID:8 RepID:15}
2019/06/13 18:42:55 [Clerk 8 Get] succ replicate command to replicated state machine
2019/06/13 18:42:55 4: client new get 4
2019/06/13 18:42:55 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:16} to KVServer 2
2019/06/13 18:42:55 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:16} to KVServer 3
2019/06/13 18:42:55 [KVServer 1 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:16}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Get 0  11 16}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:11 ReqID:16}, logIndex = 214
2019/06/13 18:42:55 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {191 21 {Append 0 x 0 6 y 11 11}} {192 21 {Append 4 x 4 4 y 8 11}} {193 21 {Get 2  9 10}} {194 21 {Append 0 x 0 7 y 11 12}} {195 21 {Append 3 x 3 4 y 10 13}} {196 21 {Append 1 x 1 6 y 7 9}} {197 21 {Append 3 x 3 5 y 10 14}} {198 21 {Get 2  9 11}} {199 21 {Append 1 x 1 7 y 7 10}} {200 21 {Append 4 x 4 5 y 8 12}} {201 21 {Append 1 x 1 8 y 7 11}} {202 21 {Append 4 x 4 6 y 8 13}} {203 21 {Get 2  9 11}} {204 21 {Append 3 x 3 6 y 10 15}} {205 21 {Get 0  11 13}} {206 21 {Get 2  9 12}} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}}], and commitIndex have updated to 210
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:206 Term:21 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:12}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y], CommandIndex 206
2019/06/13 18:42:55 [KVServer 4 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1127
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 207
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:207 Term:21 Command:{Operation:Append Key:0 Value:x 0 8 y ClientID:11 ReqID:14}}
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:208 Term:21 Command:{Operation:Append Key:1 Value:x 1 9 y ClientID:7 ReqID:12}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 y], CommandIndex 208
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 209
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:209 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:14}}
2019/06/13 18:42:55 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 7 y Op:Append ClientID:9 ReqID:13} to KVServer 1
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:10 ReqID:16} to KVServer 3
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 9 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:16}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Get 4  8 16}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:8 ReqID:16}, logIndex = 215
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 9 y Op:Append ClientID:7 ReqID:12} to KVServer 3
2019/06/13 18:42:55 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 7 y Op:Append ClientID:9 ReqID:13} to KVServer 2
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:10 ReqID:16} to KVServer 4
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 9 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 9 y Op:Append ClientID:7 ReqID:12} to KVServer 4
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [candidate 0/24 electionEventLoop] timeout, start the election
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:10 ReqID:16} to KVServer 0
2019/06/13 18:42:55 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 7 y Op:Append ClientID:9 ReqID:13} to KVServer 3
2019/06/13 18:42:55 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 9 y, reply = {WrongLeader:false Err:ErrDuplicateReq ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 1: client new get 1
2019/06/13 18:42:55 [Clerk 7 Get] args = {Key:1 ClientID:7 ReqID:13} to KVServer 4
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [leader 1/21 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:55 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}} {210 21 {Get 4  8 15}} {211 21 {Get 0  11 15}} {212 21 {Append 2 x 2 7 y 9 13}} {213 21 {Append 3 x 3 7 y 10 16}}], and commitIndex have updated to 214
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:210 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:15}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 210
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 211
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:211 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:15}}
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{210 21 {Get 4  8 15}} {211 21 {Get 0  11 15}} {212 21 {Append 2 x 2 7 y 9 13}} {213 21 {Append 3 x 3 7 y 10 16}} {214 21 {Get 0  11 16}} {215 21 {Get 4  8 16}}] to peer 4 succ
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 212
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 4, ai 215, i 18, rf.commit 214
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:212 Term:21 Command:{Operation:Append Key:2 Value:x 2 7 y ClientID:9 ReqID:13}}
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 215's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 4, ai 214, i 17, rf.commit 214
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 214's quorum 2
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:213 Term:21 Command:{Operation:Append Key:3 Value:x 3 7 y ClientID:10 ReqID:16}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 213
2019/06/13 18:42:55 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}} {210 21 {Get 4  8 15}} {211 21 {Get 0  11 15}} {212 21 {Append 2 x 2 7 y 9 13}} {213 21 {Append 3 x 3 7 y 10 16}}], and commitIndex have updated to 214
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:210 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:15}}
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 210
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 211
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:211 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:15}}
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:212 Term:21 Command:{Operation:Append Key:2 Value:x 2 7 y ClientID:9 ReqID:13}}
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 212
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 213
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:213 Term:21 Command:{Operation:Append Key:3 Value:x 3 7 y ClientID:10 ReqID:16}}
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:10 ReqID:16} to KVServer 1
2019/06/13 18:42:55 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 7 y Op:Append ClientID:9 ReqID:13} to KVServer 4
2019/06/13 18:42:55 [KVServer 1 Get] RPC handler, args = {Key:1 ClientID:7 ReqID:13}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Get 1  7 13}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:7 ReqID:13}, logIndex = 216
2019/06/13 18:42:55 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {202 21 {Append 4 x 4 6 y 8 13}} {203 21 {Get 2  9 11}} {204 21 {Append 3 x 3 6 y 10 15}} {205 21 {Get 0  11 13}} {206 21 {Get 2  9 12}} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}} {210 21 {Get 4  8 15}} {211 21 {Get 0  11 15}} {212 21 {Append 2 x 2 7 y 9 13}} {213 21 {Append 3 x 3 7 y 10 16}}], and commitIndex have updated to 214
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:210 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:15}}
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 210
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 211
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:211 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:15}}
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:212 Term:21 Command:{Operation:Append Key:2 Value:x 2 7 y ClientID:9 ReqID:13}}
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y], CommandIndex 212
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{214 21 {Get 0  11 16}} {215 21 {Get 4  8 16}}] to peer 3 succ
2019/06/13 18:42:55 [KVServer 3 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y], CommandIndex 213
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 3, ai 215, i 18, rf.commit 214
2019/06/13 18:42:55 [follower 3/21 applyRoutine] have applied LogEntry {Index:213 Term:21 Command:{Operation:Append Key:3 Value:x 3 7 y ClientID:10 ReqID:16}}
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[3] = 215's quorum 3
2019/06/13 18:42:55 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 216
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:214 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:16}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 214
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 215
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:215 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:16}}
2019/06/13 18:42:55 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y ClientID:8 RepID:16}
2019/06/13 18:42:55 [Clerk 8 Get] succ replicate command to replicated state machine
2019/06/13 18:42:55 4: client new append x 4 7 y
2019/06/13 18:42:55 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y ClientID:11 RepID:16}
2019/06/13 18:42:55 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 7 y Op:Append ClientID:8 ReqID:17} to KVServer 2
2019/06/13 18:42:55 [Clerk 11 Get] succ replicate command to replicated state machine
2019/06/13 18:42:55 0: client new get 0
2019/06/13 18:42:55 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:17} to KVServer 3
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 4 x 4 7 y 8 17}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 7 y ClientID:8 ReqID:17}, logIndex = 217
2019/06/13 18:42:55 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [KVServer 1 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:17}
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Get 0  11 17}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:11 ReqID:17}, logIndex = 218
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 7 y Op:Append ClientID:10 ReqID:16} to KVServer 2
2019/06/13 18:42:55 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 7 y Op:Append ClientID:9 ReqID:13} to KVServer 0
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 7 y, reply = {WrongLeader:false Err:ErrDuplicateReq ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 3: client new append x 3 8 y
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 8 y Op:Append ClientID:10 ReqID:17} to KVServer 2
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 8 y Op:Append ClientID:10 ReqID:17} to KVServer 3
2019/06/13 18:42:55 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 7 y Op:Append ClientID:9 ReqID:13} to KVServer 1
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 8 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 8 y Op:Append ClientID:10 ReqID:17} to KVServer 4
2019/06/13 18:42:55 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 8 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 7 y Op:Append ClientID:9 ReqID:13} to KVServer 2
2019/06/13 18:42:55 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 8 y Op:Append ClientID:10 ReqID:17} to KVServer 0
2019/06/13 18:42:55 [leader 1/21 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:55 FFFF[follower 2/21 AppendEntries] have commit [{0 0 -1} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}} {210 21 {Get 4  8 15}} {211 21 {Get 0  11 15}} {212 21 {Append 2 x 2 7 y 9 13}} {213 21 {Append 3 x 3 7 y 10 16}} {214 21 {Get 0  11 16}} {215 21 {Get 4  8 16}}], and commitIndex have updated to 216
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:214 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:16}}
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 214
2019/06/13 18:42:55 [KVServer 2 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 215
2019/06/13 18:42:55 [follower 2/21 applyRoutine] have applied LogEntry {Index:215 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:16}}
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{214 21 {Get 0  11 16}} {215 21 {Get 4  8 16}} {216 21 {Get 1  7 13}} {217 21 {Append 4 x 4 7 y 8 17}} {218 21 {Get 0  11 17}}] to peer 2 succ
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 2, ai 218, i 21, rf.commit 216
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 218's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 2, ai 217, i 20, rf.commit 216
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 217's quorum 2
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 2, ai 216, i 19, rf.commit 216
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[2] = 216's quorum 2
2019/06/13 18:42:55 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}} {210 21 {Get 4  8 15}} {211 21 {Get 0  11 15}} {212 21 {Append 2 x 2 7 y 9 13}} {213 21 {Append 3 x 3 7 y 10 16}} {214 21 {Get 0  11 16}} {215 21 {Get 4  8 16}}], and commitIndex have updated to 216
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:214 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:16}}
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 214
2019/06/13 18:42:55 [KVServer 4 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 215
2019/06/13 18:42:55 [follower 4/21 applyRoutine] have applied LogEntry {Index:215 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:16}}
2019/06/13 18:42:55 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{216 21 {Get 1  7 13}} {217 21 {Append 4 x 4 7 y 8 17}} {218 21 {Get 0  11 17}}] to peer 4 succ
2019/06/13 18:42:55 [leader 1/21 calcCommitIndex] follower 4, ai 218, i 21, rf.commit 216
2019/06/13 18:42:55 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 218's quorum 3
2019/06/13 18:42:55 LLLL[leader 1/21 sendAndWaitAppendEntriesRPC] update commitIndex to 219
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:216 Term:21 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:13}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 7 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 y], CommandIndex 216
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 217
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:217 Term:21 Command:{Operation:Append Key:4 Value:x 4 7 y ClientID:8 ReqID:17}}
2019/06/13 18:42:55 [leader 1/21 applyRoutine] have applied LogEntry {Index:218 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:17}}
2019/06/13 18:42:55 [KVServer 1 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 218
2019/06/13 18:42:55 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 7 y, reply = {WrongLeader:false Err: ClientID:8 RepID:17}
2019/06/13 18:42:55 [Clerk 8 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:55 [Clerk 7 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 y ClientID:7 RepID:13}
2019/06/13 18:42:55 4: client new append x 4 8 y
2019/06/13 18:42:55 [Clerk 7 Get] succ replicate command to replicated state machine
2019/06/13 18:42:55 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 8 y Op:Append ClientID:8 ReqID:18} to KVServer 2
2019/06/13 18:42:55 1: client new append x 1 10 y
2019/06/13 18:42:55 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 10 y Op:Append ClientID:7 ReqID:14} to KVServer 4
2019/06/13 18:42:55 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y ClientID:11 RepID:17}
2019/06/13 18:42:55 [Clerk 11 Get] succ replicate command to replicated state machine
2019/06/13 18:42:55 0: client new get 0
2019/06/13 18:42:55 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:18} to KVServer 3
2019/06/13 18:42:55 [leader 1/21 Start] receive client request {Append 1 x 1 10 y 7 14}
2019/06/13 18:42:55 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 10 y ClientID:7 ReqID:14}, logIndex = 219
2019/06/13 18:42:55 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:55 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 8 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:56 FFFF[follower 3/21 AppendEntries] have commit [{0 0 -1} {202 21 {Append 4 x 4 6 y 8 13}} {203 21 {Get 2  9 11}} {204 21 {Append 3 x 3 6 y 10 15}} {205 21 {Get 0  11 13}} {206 21 {Get 2  9 12}} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}} {210 21 {Get 4  8 15}} {211 21 {Get 0  11 15}} {212 21 {Append 2 x 2 7 y 9 13}} {213 21 {Append 3 x 3 7 y 10 16}} {214 21 {Get 0  11 16}} {215 21 {Get 4  8 16}}], and commitIndex have updated to 216
2019/06/13 18:42:56 [KVServer 3 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 214
2019/06/13 18:42:56 [follower 3/21 applyRoutine] have applied LogEntry {Index:214 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:16}}
2019/06/13 18:42:56 [follower 3/21 applyRoutine] have applied LogEntry {Index:215 Term:21 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:16}}
2019/06/13 18:42:56 [KVServer 3 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y], CommandIndex 215
2019/06/13 18:42:56 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 7 y Op:Append ClientID:9 ReqID:13} to KVServer 3
2019/06/13 18:42:56 [leader 1/21 Start] receive client request {Append 4 x 4 8 y 8 18}
2019/06/13 18:42:56 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 8 y ClientID:8 ReqID:18}, logIndex = 220
2019/06/13 18:42:56 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 8 y Op:Append ClientID:10 ReqID:17} to KVServer 1
2019/06/13 18:42:56 [KVServer 1 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:18}
2019/06/13 18:42:56 [leader 1/21 Start] receive client request {Get 0  11 18}
2019/06/13 18:42:56 [KVServer 1 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:11 ReqID:18}, logIndex = 221
2019/06/13 18:42:56 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:56 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 7 y Op:Append ClientID:9 ReqID:13} to KVServer 4
2019/06/13 18:42:56 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 7 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:56 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 8 y Op:Append ClientID:10 ReqID:17} to KVServer 2
2019/06/13 18:42:56 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 7 y Op:Append ClientID:9 ReqID:13} to KVServer 0
2019/06/13 18:42:56 [leader 1/21 Start] receive client request {Append 3 x 3 8 y 10 17}
2019/06/13 18:42:56 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 8 y ClientID:10 ReqID:17}, logIndex = 222
2019/06/13 18:42:56 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 7 y, reply = {WrongLeader:false Err:ErrDuplicateReq ClientID:0 RepID:0}
2019/06/13 18:42:56 [Clerk 9 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:56 2: client new append x 2 8 y
2019/06/13 18:42:56 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 8 y Op:Append ClientID:9 ReqID:14} to KVServer 0
2019/06/13 18:42:56 [leader 1/21 Start] receive client request {Append 2 x 2 8 y 9 14}
2019/06/13 18:42:56 [KVServer 1 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 8 y ClientID:9 ReqID:14}, logIndex = 223
2019/06/13 18:42:56 [leader 1/21 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:56 FFFF[follower 4/21 AppendEntries] have commit [{0 0 -1} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}} {210 21 {Get 4  8 15}} {211 21 {Get 0  11 15}} {212 21 {Append 2 x 2 7 y 9 13}} {213 21 {Append 3 x 3 7 y 10 16}} {214 21 {Get 0  11 16}} {215 21 {Get 4  8 16}} {216 21 {Get 1  7 13}} {217 21 {Append 4 x 4 7 y 8 17}} {218 21 {Get 0  11 17}}], and commitIndex have updated to 219
2019/06/13 18:42:56 [KVServer 4 readApplyCh] apply for client 7 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 y], CommandIndex 216
2019/06/13 18:42:56 [follower 4/21 applyRoutine] have applied LogEntry {Index:216 Term:21 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:13}}
2019/06/13 18:42:56 [KVServer 4 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 217
2019/06/13 18:42:56 [follower 4/21 applyRoutine] have applied LogEntry {Index:217 Term:21 Command:{Operation:Append Key:4 Value:x 4 7 y ClientID:8 ReqID:17}}
2019/06/13 18:42:56 [leader 1/21 sendAndWaitAppendEntriesRPC] replicate LogEntry [{219 21 {Append 1 x 1 10 y 7 14}} {220 21 {Append 4 x 4 8 y 8 18}} {221 21 {Get 0  11 18}} {222 21 {Append 3 x 3 8 y 10 17}} {223 21 {Append 2 x 2 8 y 9 14}}] to peer 4 succ
2019/06/13 18:42:56 [follower 4/21 applyRoutine] have applied LogEntry {Index:218 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:17}}
2019/06/13 18:42:56 [KVServer 4 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 218
2019/06/13 18:42:56 [leader 1/21 calcCommitIndex] follower 4, ai 223, i 26, rf.commit 219
2019/06/13 18:42:56 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 223's quorum 2
2019/06/13 18:42:56 [leader 1/21 calcCommitIndex] follower 4, ai 222, i 25, rf.commit 219
2019/06/13 18:42:56 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 222's quorum 2
2019/06/13 18:42:56 [leader 1/21 calcCommitIndex] follower 4, ai 221, i 24, rf.commit 219
2019/06/13 18:42:56 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 221's quorum 2
2019/06/13 18:42:56 [leader 1/21 calcCommitIndex] follower 4, ai 220, i 23, rf.commit 219
2019/06/13 18:42:56 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 220's quorum 2
2019/06/13 18:42:56 [leader 1/21 calcCommitIndex] follower 4, ai 219, i 22, rf.commit 219
2019/06/13 18:42:56 LLLL[leader 1/21 calcCommitIndex] matchIndex[4] = 219's quorum 2
2019/06/13 18:42:56 [leader 1/21 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:56 [leader 1/21 sendAndWaitInstallSnapshotRPC] come across newer term 24back to follower
2019/06/13 18:42:56 [candidate 0/25 electionEventLoop] timeout, start the election
2019/06/13 18:42:56 [follower 4/21 RequestVote] come across newer term 25, back to follower
2019/06/13 18:42:56 [candidate 2/22 electionEventLoop] timeout, start the election
2019/06/13 18:42:56 [candidate 3/22 electionEventLoop] timeout, start the election
2019/06/13 18:42:56 [candidate 1/25 electionEventLoop] timeout, start the election
2019/06/13 18:42:56 [candidate 4/26 electionEventLoop] timeout, start the election
2019/06/13 18:42:56 [follower 1/25 RequestVote] come across newer term 26, back to follower
2019/06/13 18:42:56 [follower 1/26 RequestVote] vote for candidate 4
2019/06/13 18:42:56 [candidate 0/25 RequestVote] come across newer term 26, back to follower
2019/06/13 18:42:56 [follower 0/26 RequestVote] vote for candidate 4
2019/06/13 18:42:56 [leader 4/26 becomeLeader] win the election, become leader
2019/06/13 18:42:56 [leader 4/26 leaderEventLoop] start sending heartbeat
2019/06/13 18:42:56 [candidate 3/23 electionEventLoop] timeout, start the election
2019/06/13 18:42:56 [candidate 2/23 electionEventLoop] timeout, start the election
2019/06/13 18:42:56 [leader 4/26 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:56 [follower 0/26 InstallSnapshot] RPC handler, rf.ss = {LastIncludedIndex:206 LastIncludedTerm:21 StateMachineState:map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 y 1:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 y 2:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 y 3:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 y 4:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y]}, rf.logs = [{0 0 -1}]
2019/06/13 18:42:56 [KVServer 0 readApplyCh] update snapshot, kv.kvs = map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 y 1:x 1 0 yx 1 1 yx 1 2 y 2:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 y 3:x 3 0 yx 3 1 yx 3 2 yx 3 3 y 4:x 4 0 yx 4 1 y]
2019/06/13 18:42:56 FFFF[follower 0/26 AppendEntries] have commit [{0 0 -1} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}} {210 21 {Get 4  8 15}} {211 21 {Get 0  11 15}} {212 21 {Append 2 x 2 7 y 9 13}} {213 21 {Append 3 x 3 7 y 10 16}} {214 21 {Get 0  11 16}} {215 21 {Get 4  8 16}} {216 21 {Get 1  7 13}} {217 21 {Append 4 x 4 7 y 8 17}} {218 21 {Get 0  11 17}}], and commitIndex have updated to 219
2019/06/13 18:42:56 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}} {210 21 {Get 4  8 15}} {211 21 {Get 0  11 15}} {212 21 {Append 2 x 2 7 y 9 13}} {213 21 {Append 3 x 3 7 y 10 16}} {214 21 {Get 0  11 16}} {215 21 {Get 4  8 16}} {216 21 {Get 1  7 13}} {217 21 {Append 4 x 4 7 y 8 17}} {218 21 {Get 0  11 17}} {219 21 {Append 1 x 1 10 y 7 14}} {220 21 {Append 4 x 4 8 y 8 18}} {221 21 {Get 0  11 18}} {222 21 {Append 3 x 3 8 y 10 17}} {223 21 {Append 2 x 2 8 y 9 14}}] to peer 0 succ
2019/06/13 18:42:56 [leader 4/26 calcCommitIndex] follower 0, ai 223, i 17, rf.commit 219
2019/06/13 18:42:56 [leader 4/26 calcCommitIndex] follower 0, only count my term, currentTerm = 26, rf.logs[i] = {Index:223 Term:21 Command:{Operation:Append Key:2 Value:x 2 8 y ClientID:9 ReqID:14}}
2019/06/13 18:42:56 [Clerk 7 PutAppend] RPC timeout
2019/06/13 18:42:56 [Clerk 8 PutAppend] RPC timeout
2019/06/13 18:42:56 [Clerk 11 Get] RPC timeout
2019/06/13 18:42:57 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:18} to KVServer 4
2019/06/13 18:42:57 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 8 y Op:Append ClientID:8 ReqID:18} to KVServer 3
2019/06/13 18:42:57 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 10 y Op:Append ClientID:7 ReqID:14} to KVServer 0
2019/06/13 18:42:57 [KVServer 0 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:18}
2019/06/13 18:42:57 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:57 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 8 y Op:Append ClientID:8 ReqID:18} to KVServer 4
2019/06/13 18:42:57 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:18} to KVServer 0
2019/06/13 18:42:57 [KVServer 2 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:18}
2019/06/13 18:42:57 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:57 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 10 y Op:Append ClientID:7 ReqID:14} to KVServer 1
2019/06/13 18:42:57 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 10 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 4 x 4 8 y 8 18}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 8 y ClientID:8 ReqID:18}, logIndex = 224
2019/06/13 18:42:57 [Clerk 10 PutAppend] RPC timeout
2019/06/13 18:42:57 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:18} to KVServer 1
2019/06/13 18:42:57 [candidate 2/24 electionEventLoop] timeout, start the election
2019/06/13 18:42:57 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 10 y Op:Append ClientID:7 ReqID:14} to KVServer 2
2019/06/13 18:42:57 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 8 y Op:Append ClientID:10 ReqID:17} to KVServer 3
2019/06/13 18:42:57 [Clerk 9 PutAppend] RPC timeout
2019/06/13 18:42:57 [candidate 3/24 electionEventLoop] timeout, start the election
2019/06/13 18:42:57 [KVServer 4 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:18}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Get 0  11 18}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:11 ReqID:18}, logIndex = 225
2019/06/13 18:42:57 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 8 y Op:Append ClientID:9 ReqID:14} to KVServer 1
2019/06/13 18:42:57 [candidate 3/24 sendAndWaitRequestVoteRPC] come across newer term 26, back to follower
2019/06/13 18:42:57 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 8 y Op:Append ClientID:10 ReqID:17} to KVServer 4
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{224 26 {Append 4 x 4 8 y 8 18}} {225 26 {Get 0  11 18}}] to peer 1 succ
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 225, i 19, rf.commit 219
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 225's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 224, i 18, rf.commit 219
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 224's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 223, i 17, rf.commit 219
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, only count my term, currentTerm = 26, rf.logs[i] = {Index:223 Term:21 Command:{Operation:Append Key:2 Value:x 2 8 y ClientID:9 ReqID:14}}
2019/06/13 18:42:57 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 10 y Op:Append ClientID:7 ReqID:14} to KVServer 3
2019/06/13 18:42:57 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 8 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 3 x 3 8 y 10 17}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 8 y ClientID:10 ReqID:17}, logIndex = 226
2019/06/13 18:42:57 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 8 y Op:Append ClientID:9 ReqID:14} to KVServer 2
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 1 x 1 10 y 7 14}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 10 y ClientID:7 ReqID:14}, logIndex = 227
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 2 x 2 8 y 9 14}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 8 y ClientID:9 ReqID:14}, logIndex = 228
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{226 26 {Append 3 x 3 8 y 10 17}} {227 26 {Append 1 x 1 10 y 7 14}} {228 26 {Append 2 x 2 8 y 9 14}}] to peer 1 succ
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 228, i 22, rf.commit 219
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 228's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 227, i 21, rf.commit 219
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 227's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 226, i 20, rf.commit 219
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 226's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 225, i 19, rf.commit 219
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 225's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 224, i 18, rf.commit 219
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 224's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 223, i 17, rf.commit 219
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, only count my term, currentTerm = 26, rf.logs[i] = {Index:223 Term:21 Command:{Operation:Append Key:2 Value:x 2 8 y ClientID:9 ReqID:14}}
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{224 26 {Append 4 x 4 8 y 8 18}} {225 26 {Get 0  11 18}} {226 26 {Append 3 x 3 8 y 10 17}} {227 26 {Append 1 x 1 10 y 7 14}} {228 26 {Append 2 x 2 8 y 9 14}}] to peer 0 succ
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 0, ai 228, i 22, rf.commit 219
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[0] = 228's quorum 3
2019/06/13 18:42:57 LLLL[leader 4/26 sendAndWaitAppendEntriesRPC] update commitIndex to 229
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:219 Term:21 Command:{Operation:Append Key:1 Value:x 1 10 y ClientID:7 ReqID:14}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 y], CommandIndex 219
2019/06/13 18:42:57 [KVServer 4 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1071
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 y], CommandIndex 220
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:220 Term:21 Command:{Operation:Append Key:4 Value:x 4 8 y ClientID:8 ReqID:18}}
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:221 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:18}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 221
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 222
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:222 Term:21 Command:{Operation:Append Key:3 Value:x 3 8 y ClientID:10 ReqID:17}}
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:223 Term:21 Command:{Operation:Append Key:2 Value:x 2 8 y ClientID:9 ReqID:14}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 y], CommandIndex 223
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:224 Term:26 Command:{Operation:Append Key:4 Value:x 4 8 y ClientID:8 ReqID:18}}
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:225 Term:26 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:18}}
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:226 Term:26 Command:{Operation:Append Key:3 Value:x 3 8 y ClientID:10 ReqID:17}}
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:227 Term:26 Command:{Operation:Append Key:1 Value:x 1 10 y ClientID:7 ReqID:14}}
2019/06/13 18:42:57 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 8 y, reply = {WrongLeader:false Err: ClientID:8 RepID:18}
2019/06/13 18:42:57 [Clerk 8 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 4: client new get 4
2019/06/13 18:42:57 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 8 y, reply = {WrongLeader:false Err: ClientID:10 RepID:17}
2019/06/13 18:42:57 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:19} to KVServer 4
2019/06/13 18:42:57 3: client new append x 3 9 y
2019/06/13 18:42:57 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 9 y Op:Append ClientID:10 ReqID:18} to KVServer 4
2019/06/13 18:42:57 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y ClientID:11 RepID:18}
2019/06/13 18:42:57 [Clerk 11 Get] succ replicate command to replicated state machine
2019/06/13 18:42:57 0: client new append x 0 9 y
2019/06/13 18:42:57 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 9 y Op:Append ClientID:11 ReqID:19} to KVServer 1
2019/06/13 18:42:57 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 10 y, reply = {WrongLeader:false Err: ClientID:7 RepID:14}
2019/06/13 18:42:57 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 1: client new append x 1 11 y
2019/06/13 18:42:57 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 11 y Op:Append ClientID:7 ReqID:15} to KVServer 3
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:228 Term:26 Command:{Operation:Append Key:2 Value:x 2 8 y ClientID:9 ReqID:14}}
2019/06/13 18:42:57 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 8 y, reply = {WrongLeader:false Err: ClientID:9 RepID:14}
2019/06/13 18:42:57 [Clerk 9 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 2: client new append x 2 9 y
2019/06/13 18:42:57 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 9 y Op:Append ClientID:9 ReqID:15} to KVServer 2
2019/06/13 18:42:57 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:19}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Get 4  8 19}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:8 ReqID:19}, logIndex = 229
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 1 x 1 11 y 7 15}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 11 y ClientID:7 ReqID:15}, logIndex = 230
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 0 x 0 9 y 11 19}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 9 y ClientID:11 ReqID:19}, logIndex = 231
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 3 x 3 9 y 10 18}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 9 y ClientID:10 ReqID:18}, logIndex = 232
2019/06/13 18:42:57 FFFF[follower 3/26 AppendEntries] have commit [{0 0 -1} {202 21 {Append 4 x 4 6 y 8 13}} {203 21 {Get 2  9 11}} {204 21 {Append 3 x 3 6 y 10 15}} {205 21 {Get 0  11 13}} {206 21 {Get 2  9 12}} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}} {210 21 {Get 4  8 15}} {211 21 {Get 0  11 15}} {212 21 {Append 2 x 2 7 y 9 13}} {213 21 {Append 3 x 3 7 y 10 16}} {214 21 {Get 0  11 16}} {215 21 {Get 4  8 16}} {216 21 {Get 1  7 13}} {217 21 {Append 4 x 4 7 y 8 17}} {218 21 {Get 0  11 17}}], and commitIndex have updated to 219
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:216 Term:21 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:13}}
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 7 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 y], CommandIndex 216
2019/06/13 18:42:57 [KVServer 3 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1265
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{219 21 {Append 1 x 1 10 y 7 14}} {220 21 {Append 4 x 4 8 y 8 18}} {221 21 {Get 0  11 18}} {222 21 {Append 3 x 3 8 y 10 17}} {223 21 {Append 2 x 2 8 y 9 14}} {224 26 {Append 4 x 4 8 y 8 18}} {225 26 {Get 0  11 18}} {226 26 {Append 3 x 3 8 y 10 17}} {227 26 {Append 1 x 1 10 y 7 14}} {228 26 {Append 2 x 2 8 y 9 14}}] to peer 3 succ
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 y], CommandIndex 217
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:217 Term:21 Command:{Operation:Append Key:4 Value:x 4 7 y ClientID:8 ReqID:17}}
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:218 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:17}}
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 218
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 2 x 2 9 y 9 15}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 9 y ClientID:9 ReqID:15}, logIndex = 233
2019/06/13 18:42:57 FFFF[follower 1/26 AppendEntries] have commit [{0 0 -1} {198 21 {Get 2  9 11}} {199 21 {Append 1 x 1 7 y 7 10}} {200 21 {Append 4 x 4 5 y 8 12}} {201 21 {Append 1 x 1 8 y 7 11}} {202 21 {Append 4 x 4 6 y 8 13}} {203 21 {Get 2  9 11}} {204 21 {Append 3 x 3 6 y 10 15}} {205 21 {Get 0  11 13}} {206 21 {Get 2  9 12}} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}} {210 21 {Get 4  8 15}} {211 21 {Get 0  11 15}} {212 21 {Append 2 x 2 7 y 9 13}} {213 21 {Append 3 x 3 7 y 10 16}} {214 21 {Get 0  11 16}} {215 21 {Get 4  8 16}} {216 21 {Get 1  7 13}} {217 21 {Append 4 x 4 7 y 8 17}} {218 21 {Get 0  11 17}} {219 21 {Append 1 x 1 10 y 7 14}} {220 21 {Append 4 x 4 8 y 8 18}} {221 21 {Get 0  11 18}} {222 21 {Append 3 x 3 8 y 10 17}} {223 21 {Append 2 x 2 8 y 9 14}} {224 26 {Append 4 x 4 8 y 8 18}} {225 26 {Get 0  11 18}} {226 26 {Append 3 x 3 8 y 10 17}} {227 26 {Append 1 x 1 10 y 7 14}} {228 26 {Append 2 x 2 8 y 9 14}}], and commitIndex have updated to 229
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:219 Term:21 Command:{Operation:Append Key:1 Value:x 1 10 y ClientID:7 ReqID:14}}
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 y], CommandIndex 219
2019/06/13 18:42:57 [KVServer 1 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1656
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{229 26 {Get 4  8 19}} {230 26 {Append 1 x 1 11 y 7 15}} {231 26 {Append 0 x 0 9 y 11 19}} {232 26 {Append 3 x 3 9 y 10 18}} {233 26 {Append 2 x 2 9 y 9 15}}] to peer 1 succ
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 233, i 14, rf.commit 229
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 233's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 232, i 13, rf.commit 229
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 232's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 231, i 12, rf.commit 229
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 231's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 230, i 11, rf.commit 229
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 230's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 229, i 10, rf.commit 229
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 229's quorum 2
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 y], CommandIndex 220
2019/06/13 18:42:57 FFFF[follower 0/26 AppendEntries] have commit [{0 0 -1} {207 21 {Append 0 x 0 8 y 11 14}} {208 21 {Append 1 x 1 9 y 7 12}} {209 21 {Get 4  8 14}} {210 21 {Get 4  8 15}} {211 21 {Get 0  11 15}} {212 21 {Append 2 x 2 7 y 9 13}} {213 21 {Append 3 x 3 7 y 10 16}} {214 21 {Get 0  11 16}} {215 21 {Get 4  8 16}} {216 21 {Get 1  7 13}} {217 21 {Append 4 x 4 7 y 8 17}} {218 21 {Get 0  11 17}} {219 21 {Append 1 x 1 10 y 7 14}} {220 21 {Append 4 x 4 8 y 8 18}} {221 21 {Get 0  11 18}} {222 21 {Append 3 x 3 8 y 10 17}} {223 21 {Append 2 x 2 8 y 9 14}} {224 26 {Append 4 x 4 8 y 8 18}} {225 26 {Get 0  11 18}} {226 26 {Append 3 x 3 8 y 10 17}} {227 26 {Append 1 x 1 10 y 7 14}} {228 26 {Append 2 x 2 8 y 9 14}}], and commitIndex have updated to 229
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:220 Term:21 Command:{Operation:Append Key:4 Value:x 4 8 y ClientID:8 ReqID:18}}
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:221 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:18}}
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 221
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:219 Term:21 Command:{Operation:Append Key:1 Value:x 1 10 y ClientID:7 ReqID:14}}
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:222 Term:21 Command:{Operation:Append Key:3 Value:x 3 8 y ClientID:10 ReqID:17}}
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 222
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 10 y], CommandIndex 219
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 y], CommandIndex 223
2019/06/13 18:42:57 [KVServer 0 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1290
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{229 26 {Get 4  8 19}} {230 26 {Append 1 x 1 11 y 7 15}} {231 26 {Append 0 x 0 9 y 11 19}} {232 26 {Append 3 x 3 9 y 10 18}} {233 26 {Append 2 x 2 9 y 9 15}}] to peer 0 succ
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 0, ai 233, i 14, rf.commit 229
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[0] = 233's quorum 3
2019/06/13 18:42:57 LLLL[leader 4/26 sendAndWaitAppendEntriesRPC] update commitIndex to 234
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:229 Term:26 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:19}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 y], CommandIndex 229
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 y], CommandIndex 230
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 8 y], CommandIndex 220
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:220 Term:21 Command:{Operation:Append Key:4 Value:x 4 8 y ClientID:8 ReqID:18}}
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:221 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:18}}
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 y], CommandIndex 221
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 8 y], CommandIndex 222
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:222 Term:21 Command:{Operation:Append Key:3 Value:x 3 8 y ClientID:10 ReqID:17}}
2019/06/13 18:42:57 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 11 y, reply = {WrongLeader:false Err: ClientID:7 RepID:15}
2019/06/13 18:42:57 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 1: client new append x 1 12 y
2019/06/13 18:42:57 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 12 y Op:Append ClientID:7 ReqID:16} to KVServer 3
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:223 Term:21 Command:{Operation:Append Key:2 Value:x 2 8 y ClientID:9 ReqID:14}}
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 8 y], CommandIndex 223
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:223 Term:21 Command:{Operation:Append Key:2 Value:x 2 8 y ClientID:9 ReqID:14}}
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:224 Term:26 Command:{Operation:Append Key:4 Value:x 4 8 y ClientID:8 ReqID:18}}
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:224 Term:26 Command:{Operation:Append Key:4 Value:x 4 8 y ClientID:8 ReqID:18}}
2019/06/13 18:42:57 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 y ClientID:8 RepID:19}
2019/06/13 18:42:57 [Clerk 8 Get] succ replicate command to replicated state machine
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:225 Term:26 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:18}}
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:226 Term:26 Command:{Operation:Append Key:3 Value:x 3 8 y ClientID:10 ReqID:17}}
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:225 Term:26 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:18}}
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:227 Term:26 Command:{Operation:Append Key:1 Value:x 1 10 y ClientID:7 ReqID:14}}
2019/06/13 18:42:57 4: client new get 4
2019/06/13 18:42:57 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:20} to KVServer 4
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:226 Term:26 Command:{Operation:Append Key:3 Value:x 3 8 y ClientID:10 ReqID:17}}
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:227 Term:26 Command:{Operation:Append Key:1 Value:x 1 10 y ClientID:7 ReqID:14}}
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:230 Term:26 Command:{Operation:Append Key:1 Value:x 1 11 y ClientID:7 ReqID:15}}
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:228 Term:26 Command:{Operation:Append Key:2 Value:x 2 8 y ClientID:9 ReqID:14}}
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:228 Term:26 Command:{Operation:Append Key:2 Value:x 2 8 y ClientID:9 ReqID:14}}
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:231 Term:26 Command:{Operation:Append Key:0 Value:x 0 9 y ClientID:11 ReqID:19}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y], CommandIndex 231
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 y], CommandIndex 232
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:232 Term:26 Command:{Operation:Append Key:3 Value:x 3 9 y ClientID:10 ReqID:18}}
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:233 Term:26 Command:{Operation:Append Key:2 Value:x 2 9 y ClientID:9 ReqID:15}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 y], CommandIndex 233
2019/06/13 18:42:57 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 9 y, reply = {WrongLeader:false Err: ClientID:11 RepID:19}
2019/06/13 18:42:57 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 0: client new append x 0 10 y
2019/06/13 18:42:57 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 9 y, reply = {WrongLeader:false Err: ClientID:10 RepID:18}
2019/06/13 18:42:57 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 10 y Op:Append ClientID:11 ReqID:20} to KVServer 1
2019/06/13 18:42:57 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 9 y, reply = {WrongLeader:false Err: ClientID:9 RepID:15}
2019/06/13 18:42:57 [Clerk 9 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 3: client new append x 3 10 y
2019/06/13 18:42:57 2: client new get 2
2019/06/13 18:42:57 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 10 y Op:Append ClientID:10 ReqID:19} to KVServer 4
2019/06/13 18:42:57 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:16} to KVServer 2
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 1 x 1 12 y 7 16}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 12 y ClientID:7 ReqID:16}, logIndex = 234
2019/06/13 18:42:57 [KVServer 4 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:16}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Get 2  9 16}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:9 ReqID:16}, logIndex = 235
2019/06/13 18:42:57 FFFF[follower 3/26 AppendEntries] have commit [{0 0 -1} {217 21 {Append 4 x 4 7 y 8 17}} {218 21 {Get 0  11 17}} {219 21 {Append 1 x 1 10 y 7 14}} {220 21 {Append 4 x 4 8 y 8 18}} {221 21 {Get 0  11 18}} {222 21 {Append 3 x 3 8 y 10 17}} {223 21 {Append 2 x 2 8 y 9 14}} {224 26 {Append 4 x 4 8 y 8 18}} {225 26 {Get 0  11 18}} {226 26 {Append 3 x 3 8 y 10 17}} {227 26 {Append 1 x 1 10 y 7 14}} {228 26 {Append 2 x 2 8 y 9 14}}], and commitIndex have updated to 229
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 y], CommandIndex 219
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:219 Term:21 Command:{Operation:Append Key:1 Value:x 1 10 y ClientID:7 ReqID:14}}
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:220 Term:21 Command:{Operation:Append Key:4 Value:x 4 8 y ClientID:8 ReqID:18}}
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 y], CommandIndex 220
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y], CommandIndex 221
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:221 Term:21 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:18}}
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:222 Term:21 Command:{Operation:Append Key:3 Value:x 3 8 y ClientID:10 ReqID:17}}
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 y], CommandIndex 222
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 y], CommandIndex 223
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:223 Term:21 Command:{Operation:Append Key:2 Value:x 2 8 y ClientID:9 ReqID:14}}
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:224 Term:26 Command:{Operation:Append Key:4 Value:x 4 8 y ClientID:8 ReqID:18}}
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:225 Term:26 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:18}}
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:226 Term:26 Command:{Operation:Append Key:3 Value:x 3 8 y ClientID:10 ReqID:17}}
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:227 Term:26 Command:{Operation:Append Key:1 Value:x 1 10 y ClientID:7 ReqID:14}}
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:228 Term:26 Command:{Operation:Append Key:2 Value:x 2 8 y ClientID:9 ReqID:14}}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 0 x 0 10 y 11 20}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 10 y ClientID:11 ReqID:20}, logIndex = 236
2019/06/13 18:42:57 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:20}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Get 4  8 20}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:8 ReqID:20}, logIndex = 237
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 3 x 3 10 y 10 19}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 10 y ClientID:10 ReqID:19}, logIndex = 238
2019/06/13 18:42:57 FFFF[follower 1/26 AppendEntries] have commit [{0 0 -1} {220 21 {Append 4 x 4 8 y 8 18}} {221 21 {Get 0  11 18}} {222 21 {Append 3 x 3 8 y 10 17}} {223 21 {Append 2 x 2 8 y 9 14}} {224 26 {Append 4 x 4 8 y 8 18}} {225 26 {Get 0  11 18}} {226 26 {Append 3 x 3 8 y 10 17}} {227 26 {Append 1 x 1 10 y 7 14}} {228 26 {Append 2 x 2 8 y 9 14}} {229 26 {Get 4  8 19}} {230 26 {Append 1 x 1 11 y 7 15}} {231 26 {Append 0 x 0 9 y 11 19}} {232 26 {Append 3 x 3 9 y 10 18}} {233 26 {Append 2 x 2 9 y 9 15}}], and commitIndex have updated to 234
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:229 Term:26 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:19}}
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 y], CommandIndex 229
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 y], CommandIndex 230
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:230 Term:26 Command:{Operation:Append Key:1 Value:x 1 11 y ClientID:7 ReqID:15}}
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:231 Term:26 Command:{Operation:Append Key:0 Value:x 0 9 y ClientID:11 ReqID:19}}
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{234 26 {Append 1 x 1 12 y 7 16}} {235 26 {Get 2  9 16}} {236 26 {Append 0 x 0 10 y 11 20}} {237 26 {Get 4  8 20}} {238 26 {Append 3 x 3 10 y 10 19}}] to peer 1 succ
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 238, i 19, rf.commit 234
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 238's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 237, i 18, rf.commit 234
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 237's quorum 2
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y], CommandIndex 231
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 y], CommandIndex 232
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 236, i 17, rf.commit 234
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:232 Term:26 Command:{Operation:Append Key:3 Value:x 3 9 y ClientID:10 ReqID:18}}
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 236's quorum 2
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 y], CommandIndex 233
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 235, i 16, rf.commit 234
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 235's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 234, i 15, rf.commit 234
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 234's quorum 2
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:233 Term:26 Command:{Operation:Append Key:2 Value:x 2 9 y ClientID:9 ReqID:15}}
2019/06/13 18:42:57 FFFF[follower 0/26 AppendEntries] have commit [{0 0 -1} {220 21 {Append 4 x 4 8 y 8 18}} {221 21 {Get 0  11 18}} {222 21 {Append 3 x 3 8 y 10 17}} {223 21 {Append 2 x 2 8 y 9 14}} {224 26 {Append 4 x 4 8 y 8 18}} {225 26 {Get 0  11 18}} {226 26 {Append 3 x 3 8 y 10 17}} {227 26 {Append 1 x 1 10 y 7 14}} {228 26 {Append 2 x 2 8 y 9 14}} {229 26 {Get 4  8 19}} {230 26 {Append 1 x 1 11 y 7 15}} {231 26 {Append 0 x 0 9 y 11 19}} {232 26 {Append 3 x 3 9 y 10 18}} {233 26 {Append 2 x 2 9 y 9 15}}], and commitIndex have updated to 234
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:229 Term:26 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:19}}
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 8 y], CommandIndex 229
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 10 yx 1 11 y], CommandIndex 230
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:230 Term:26 Command:{Operation:Append Key:1 Value:x 1 11 y ClientID:7 ReqID:15}}
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:231 Term:26 Command:{Operation:Append Key:0 Value:x 0 9 y ClientID:11 ReqID:19}}
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 9 y], CommandIndex 231
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 8 yx 3 9 y], CommandIndex 232
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:232 Term:26 Command:{Operation:Append Key:3 Value:x 3 9 y ClientID:10 ReqID:18}}
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:233 Term:26 Command:{Operation:Append Key:2 Value:x 2 9 y ClientID:9 ReqID:15}}
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 8 yx 2 9 y], CommandIndex 233
2019/06/13 18:42:57 FFFF[follower 3/26 AppendEntries] have commit [{0 0 -1} {217 21 {Append 4 x 4 7 y 8 17}} {218 21 {Get 0  11 17}} {219 21 {Append 1 x 1 10 y 7 14}} {220 21 {Append 4 x 4 8 y 8 18}} {221 21 {Get 0  11 18}} {222 21 {Append 3 x 3 8 y 10 17}} {223 21 {Append 2 x 2 8 y 9 14}} {224 26 {Append 4 x 4 8 y 8 18}} {225 26 {Get 0  11 18}} {226 26 {Append 3 x 3 8 y 10 17}} {227 26 {Append 1 x 1 10 y 7 14}} {228 26 {Append 2 x 2 8 y 9 14}} {229 26 {Get 4  8 19}} {230 26 {Append 1 x 1 11 y 7 15}} {231 26 {Append 0 x 0 9 y 11 19}} {232 26 {Append 3 x 3 9 y 10 18}} {233 26 {Append 2 x 2 9 y 9 15}}], and commitIndex have updated to 234
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:229 Term:26 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:19}}
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 y], CommandIndex 229
2019/06/13 18:42:57 [KVServer 3 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1111
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{229 26 {Get 4  8 19}} {230 26 {Append 1 x 1 11 y 7 15}} {231 26 {Append 0 x 0 9 y 11 19}} {232 26 {Append 3 x 3 9 y 10 18}} {233 26 {Append 2 x 2 9 y 9 15}} {234 26 {Append 1 x 1 12 y 7 16}} {235 26 {Get 2  9 16}} {236 26 {Append 0 x 0 10 y 11 20}} {237 26 {Get 4  8 20}} {238 26 {Append 3 x 3 10 y 10 19}}] to peer 3 succ
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 3, ai 238, i 19, rf.commit 234
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 y], CommandIndex 230
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[3] = 238's quorum 3
2019/06/13 18:42:57 LLLL[leader 4/26 sendAndWaitAppendEntriesRPC] update commitIndex to 239
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:230 Term:26 Command:{Operation:Append Key:1 Value:x 1 11 y ClientID:7 ReqID:15}}
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:234 Term:26 Command:{Operation:Append Key:1 Value:x 1 12 y ClientID:7 ReqID:16}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 y], CommandIndex 234
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:231 Term:26 Command:{Operation:Append Key:0 Value:x 0 9 y ClientID:11 ReqID:19}}
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y], CommandIndex 231
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 y], CommandIndex 232
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:235 Term:26 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:16}}
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:232 Term:26 Command:{Operation:Append Key:3 Value:x 3 9 y ClientID:10 ReqID:18}}
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:233 Term:26 Command:{Operation:Append Key:2 Value:x 2 9 y ClientID:9 ReqID:15}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 y], CommandIndex 235
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 y], CommandIndex 233
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 y], CommandIndex 236
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:236 Term:26 Command:{Operation:Append Key:0 Value:x 0 10 y ClientID:11 ReqID:20}}
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:237 Term:26 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:20}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 y], CommandIndex 237
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 y], CommandIndex 238
2019/06/13 18:42:57 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 12 y, reply = {WrongLeader:false Err: ClientID:7 RepID:16}
2019/06/13 18:42:57 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 1: client new append x 1 13 y
2019/06/13 18:42:57 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 13 y Op:Append ClientID:7 ReqID:17} to KVServer 3
2019/06/13 18:42:57 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 10 y, reply = {WrongLeader:false Err: ClientID:11 RepID:20}
2019/06/13 18:42:57 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:238 Term:26 Command:{Operation:Append Key:3 Value:x 3 10 y ClientID:10 ReqID:19}}
2019/06/13 18:42:57 0: client new get 0
2019/06/13 18:42:57 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:21} to KVServer 1
2019/06/13 18:42:57 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 y ClientID:8 RepID:20}
2019/06/13 18:42:57 [Clerk 8 Get] succ replicate command to replicated state machine
2019/06/13 18:42:57 4: client new append x 4 9 y
2019/06/13 18:42:57 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 9 y Op:Append ClientID:8 ReqID:21} to KVServer 4
2019/06/13 18:42:57 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 10 y, reply = {WrongLeader:false Err: ClientID:10 RepID:19}
2019/06/13 18:42:57 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 3: client new get 3
2019/06/13 18:42:57 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:20} to KVServer 4
2019/06/13 18:42:57 [KVServer 4 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:21}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Get 0  11 21}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:11 ReqID:21}, logIndex = 239
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 1 x 1 13 y 7 17}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 13 y ClientID:7 ReqID:17}, logIndex = 240
2019/06/13 18:42:57 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:16} to KVServer 3
2019/06/13 18:42:57 [KVServer 2 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:16}
2019/06/13 18:42:57 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 4 x 4 9 y 8 21}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 9 y ClientID:8 ReqID:21}, logIndex = 241
2019/06/13 18:42:57 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:20} to KVServer 0
2019/06/13 18:42:57 [KVServer 2 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:20}
2019/06/13 18:42:57 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:57 [candidate 2/25 electionEventLoop] timeout, start the election
2019/06/13 18:42:57 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:16} to KVServer 4
2019/06/13 18:42:57 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:20} to KVServer 1
2019/06/13 18:42:57 [KVServer 0 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:16}
2019/06/13 18:42:57 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:57 [KVServer 0 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:20}
2019/06/13 18:42:57 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:57 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:16} to KVServer 0
2019/06/13 18:42:57 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:20} to KVServer 2
2019/06/13 18:42:57 [KVServer 1 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:16}
2019/06/13 18:42:57 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:57 [KVServer 1 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:20}
2019/06/13 18:42:57 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:57 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:16} to KVServer 1
2019/06/13 18:42:57 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:20} to KVServer 3
2019/06/13 18:42:57 FFFF[follower 1/26 AppendEntries] have commit [{0 0 -1} {220 21 {Append 4 x 4 8 y 8 18}} {221 21 {Get 0  11 18}} {222 21 {Append 3 x 3 8 y 10 17}} {223 21 {Append 2 x 2 8 y 9 14}} {224 26 {Append 4 x 4 8 y 8 18}} {225 26 {Get 0  11 18}} {226 26 {Append 3 x 3 8 y 10 17}} {227 26 {Append 1 x 1 10 y 7 14}} {228 26 {Append 2 x 2 8 y 9 14}} {229 26 {Get 4  8 19}} {230 26 {Append 1 x 1 11 y 7 15}} {231 26 {Append 0 x 0 9 y 11 19}} {232 26 {Append 3 x 3 9 y 10 18}} {233 26 {Append 2 x 2 9 y 9 15}} {234 26 {Append 1 x 1 12 y 7 16}} {235 26 {Get 2  9 16}} {236 26 {Append 0 x 0 10 y 11 20}} {237 26 {Get 4  8 20}} {238 26 {Append 3 x 3 10 y 10 19}}], and commitIndex have updated to 239
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:234 Term:26 Command:{Operation:Append Key:1 Value:x 1 12 y ClientID:7 ReqID:16}}
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 y], CommandIndex 234
2019/06/13 18:42:57 [KVServer 1 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1111
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{239 26 {Get 0  11 21}} {240 26 {Append 1 x 1 13 y 7 17}} {241 26 {Append 4 x 4 9 y 8 21}}] to peer 1 succ
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 241, i 22, rf.commit 239
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 241's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 240, i 21, rf.commit 239
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 240's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 239, i 20, rf.commit 239
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 239's quorum 2
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 y], CommandIndex 235
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:235 Term:26 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:16}}
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:236 Term:26 Command:{Operation:Append Key:0 Value:x 0 10 y ClientID:11 ReqID:20}}
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 y], CommandIndex 236
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 y], CommandIndex 237
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:237 Term:26 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:20}}
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:238 Term:26 Command:{Operation:Append Key:3 Value:x 3 10 y ClientID:10 ReqID:19}}
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 y], CommandIndex 238
2019/06/13 18:42:57 FFFF[follower 0/26 AppendEntries] have commit [{0 0 -1} {220 21 {Append 4 x 4 8 y 8 18}} {221 21 {Get 0  11 18}} {222 21 {Append 3 x 3 8 y 10 17}} {223 21 {Append 2 x 2 8 y 9 14}} {224 26 {Append 4 x 4 8 y 8 18}} {225 26 {Get 0  11 18}} {226 26 {Append 3 x 3 8 y 10 17}} {227 26 {Append 1 x 1 10 y 7 14}} {228 26 {Append 2 x 2 8 y 9 14}} {229 26 {Get 4  8 19}} {230 26 {Append 1 x 1 11 y 7 15}} {231 26 {Append 0 x 0 9 y 11 19}} {232 26 {Append 3 x 3 9 y 10 18}} {233 26 {Append 2 x 2 9 y 9 15}} {234 26 {Append 1 x 1 12 y 7 16}} {235 26 {Get 2  9 16}} {236 26 {Append 0 x 0 10 y 11 20}} {237 26 {Get 4  8 20}} {238 26 {Append 3 x 3 10 y 10 19}}], and commitIndex have updated to 239
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:234 Term:26 Command:{Operation:Append Key:1 Value:x 1 12 y ClientID:7 ReqID:16}}
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 10 yx 1 11 yx 1 12 y], CommandIndex 234
2019/06/13 18:42:57 [KVServer 0 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1111
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{234 26 {Append 1 x 1 12 y 7 16}} {235 26 {Get 2  9 16}} {236 26 {Append 0 x 0 10 y 11 20}} {237 26 {Get 4  8 20}} {238 26 {Append 3 x 3 10 y 10 19}} {239 26 {Get 0  11 21}} {240 26 {Append 1 x 1 13 y 7 17}} {241 26 {Append 4 x 4 9 y 8 21}}] to peer 0 succ
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 0, ai 241, i 22, rf.commit 239
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[0] = 241's quorum 3
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 8 yx 2 9 y], CommandIndex 235
2019/06/13 18:42:57 LLLL[leader 4/26 sendAndWaitAppendEntriesRPC] update commitIndex to 242
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:235 Term:26 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:16}}
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:239 Term:26 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:21}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 y], CommandIndex 239
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 9 yx 0 10 y], CommandIndex 236
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:236 Term:26 Command:{Operation:Append Key:0 Value:x 0 10 y ClientID:11 ReqID:20}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1111
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:237 Term:26 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:20}}
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 8 y], CommandIndex 237
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 8 yx 3 9 yx 3 10 y], CommandIndex 238
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:238 Term:26 Command:{Operation:Append Key:3 Value:x 3 10 y ClientID:10 ReqID:19}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 y], CommandIndex 240
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:240 Term:26 Command:{Operation:Append Key:1 Value:x 1 13 y ClientID:7 ReqID:17}}
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:241 Term:26 Command:{Operation:Append Key:4 Value:x 4 9 y ClientID:8 ReqID:21}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 9 y], CommandIndex 241
2019/06/13 18:42:57 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 13 y, reply = {WrongLeader:false Err: ClientID:7 RepID:17}
2019/06/13 18:42:57 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 1: client new append x 1 14 y
2019/06/13 18:42:57 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 14 y Op:Append ClientID:7 ReqID:18} to KVServer 3
2019/06/13 18:42:57 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 y ClientID:11 RepID:21}
2019/06/13 18:42:57 [Clerk 11 Get] succ replicate command to replicated state machine
2019/06/13 18:42:57 0: client new append x 0 11 y
2019/06/13 18:42:57 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 9 y, reply = {WrongLeader:false Err: ClientID:8 RepID:21}
2019/06/13 18:42:57 [Clerk 8 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 11 y Op:Append ClientID:11 ReqID:22} to KVServer 1
2019/06/13 18:42:57 4: client new get 4
2019/06/13 18:42:57 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:22} to KVServer 4
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 0 x 0 11 y 11 22}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 11 y ClientID:11 ReqID:22}, logIndex = 242
2019/06/13 18:42:57 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:16}
2019/06/13 18:42:57 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:57 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:20}
2019/06/13 18:42:57 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:57 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:16} to KVServer 2
2019/06/13 18:42:57 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:20} to KVServer 4
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 1 x 1 14 y 7 18}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 14 y ClientID:7 ReqID:18}, logIndex = 243
2019/06/13 18:42:57 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:22} to KVServer 0
2019/06/13 18:42:57 [KVServer 4 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:16}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Get 2  9 16}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:9 ReqID:16}, logIndex = 244
2019/06/13 18:42:57 [KVServer 4 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:20}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Get 3  10 20}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:10 ReqID:20}, logIndex = 245
2019/06/13 18:42:57 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:22}
2019/06/13 18:42:57 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:57 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:22} to KVServer 1
2019/06/13 18:42:57 [KVServer 2 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:22}
2019/06/13 18:42:57 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:57 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:22} to KVServer 2
2019/06/13 18:42:57 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:22}
2019/06/13 18:42:57 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:57 [leader 4/26 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:57 [leader 4/26 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:57 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:22} to KVServer 3
2019/06/13 18:42:57 [follower 3/26 InstallSnapshot] RPC handler, rf.ss = {LastIncludedIndex:239 LastIncludedTerm:26 StateMachineState:map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 y 1:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 y 2:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 y 3:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 y 4:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 y]}, rf.logs = [{0 0 -1}]
2019/06/13 18:42:57 [KVServer 3 readApplyCh] update snapshot, kv.kvs = map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 y 1:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 y 2:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 y 3:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 y 4:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 y]
2019/06/13 18:42:57 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:22}
2019/06/13 18:42:57 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:57 FFFF[follower 0/26 AppendEntries] have commit [{0 0 -1} {235 26 {Get 2  9 16}} {236 26 {Append 0 x 0 10 y 11 20}} {237 26 {Get 4  8 20}} {238 26 {Append 3 x 3 10 y 10 19}} {239 26 {Get 0  11 21}} {240 26 {Append 1 x 1 13 y 7 17}} {241 26 {Append 4 x 4 9 y 8 21}}], and commitIndex have updated to 242
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:239 Term:26 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:21}}
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 9 yx 0 10 y], CommandIndex 239
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 10 yx 1 11 yx 1 12 yx 1 13 y], CommandIndex 240
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:240 Term:26 Command:{Operation:Append Key:1 Value:x 1 13 y ClientID:7 ReqID:17}}
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{242 26 {Append 0 x 0 11 y 11 22}} {243 26 {Append 1 x 1 14 y 7 18}} {244 26 {Get 2  9 16}} {245 26 {Get 3  10 20}}] to peer 0 succ
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 0, ai 245, i 6, rf.commit 242
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 8 yx 4 9 y], CommandIndex 241
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[0] = 245's quorum 2
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:241 Term:26 Command:{Operation:Append Key:4 Value:x 4 9 y ClientID:8 ReqID:21}}
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 0, ai 244, i 5, rf.commit 242
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[0] = 244's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 0, ai 243, i 4, rf.commit 242
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[0] = 243's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 0, ai 242, i 3, rf.commit 242
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[0] = 242's quorum 2
2019/06/13 18:42:57 FFFF[follower 1/26 AppendEntries] have commit [{0 0 -1} {235 26 {Get 2  9 16}} {236 26 {Append 0 x 0 10 y 11 20}} {237 26 {Get 4  8 20}} {238 26 {Append 3 x 3 10 y 10 19}} {239 26 {Get 0  11 21}} {240 26 {Append 1 x 1 13 y 7 17}} {241 26 {Append 4 x 4 9 y 8 21}}], and commitIndex have updated to 242
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 y], CommandIndex 239
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:239 Term:26 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:21}}
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:240 Term:26 Command:{Operation:Append Key:1 Value:x 1 13 y ClientID:7 ReqID:17}}
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 y], CommandIndex 240
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 9 y], CommandIndex 241
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{242 26 {Append 0 x 0 11 y 11 22}} {243 26 {Append 1 x 1 14 y 7 18}} {244 26 {Get 2  9 16}} {245 26 {Get 3  10 20}}] to peer 1 succ
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:241 Term:26 Command:{Operation:Append Key:4 Value:x 4 9 y ClientID:8 ReqID:21}}
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 245, i 6, rf.commit 242
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 245's quorum 3
2019/06/13 18:42:57 LLLL[leader 4/26 sendAndWaitAppendEntriesRPC] update commitIndex to 246
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:242 Term:26 Command:{Operation:Append Key:0 Value:x 0 11 y ClientID:11 ReqID:22}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 242
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 243
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:243 Term:26 Command:{Operation:Append Key:1 Value:x 1 14 y ClientID:7 ReqID:18}}
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:244 Term:26 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:16}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 y], CommandIndex 245
2019/06/13 18:42:57 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 14 y, reply = {WrongLeader:false Err: ClientID:7 RepID:18}
2019/06/13 18:42:57 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 11 y, reply = {WrongLeader:false Err: ClientID:11 RepID:22}
2019/06/13 18:42:57 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 1: client new get 1
2019/06/13 18:42:57 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 [Clerk 7 Get] args = {Key:1 ClientID:7 ReqID:19} to KVServer 3
2019/06/13 18:42:57 0: client new get 0
2019/06/13 18:42:57 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:23} to KVServer 1
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:245 Term:26 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:20}}
2019/06/13 18:42:57 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 y ClientID:9 RepID:16}
2019/06/13 18:42:57 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 y ClientID:10 RepID:20}
2019/06/13 18:42:57 [Clerk 10 Get] succ replicate command to replicated state machine
2019/06/13 18:42:57 3: client new get 3
2019/06/13 18:42:57 [Clerk 9 Get] succ replicate command to replicated state machine
2019/06/13 18:42:57 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:21} to KVServer 4
2019/06/13 18:42:57 2: client new append x 2 10 y
2019/06/13 18:42:57 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 10 y Op:Append ClientID:9 ReqID:17} to KVServer 2
2019/06/13 18:42:57 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:22} to KVServer 4
2019/06/13 18:42:57 [KVServer 4 Get] RPC handler, args = {Key:1 ClientID:7 ReqID:19}
2019/06/13 18:42:57 [KVServer 4 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:23}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Get 1  7 19}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:7 ReqID:19}, logIndex = 246
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Get 0  11 23}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:11 ReqID:23}, logIndex = 247
2019/06/13 18:42:57 [KVServer 4 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:21}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Get 3  10 21}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:10 ReqID:21}, logIndex = 248
2019/06/13 18:42:57 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 10 y Op:Append ClientID:9 ReqID:17} to KVServer 3
2019/06/13 18:42:57 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:22}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Get 4  8 22}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:8 ReqID:22}, logIndex = 249
2019/06/13 18:42:57 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 10 y Op:Append ClientID:9 ReqID:17} to KVServer 4
2019/06/13 18:42:57 [leader 4/26 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:57 FFFF[follower 0/26 AppendEntries] have commit [{0 0 -1} {235 26 {Get 2  9 16}} {236 26 {Append 0 x 0 10 y 11 20}} {237 26 {Get 4  8 20}} {238 26 {Append 3 x 3 10 y 10 19}} {239 26 {Get 0  11 21}} {240 26 {Append 1 x 1 13 y 7 17}} {241 26 {Append 4 x 4 9 y 8 21}} {242 26 {Append 0 x 0 11 y 11 22}} {243 26 {Append 1 x 1 14 y 7 18}} {244 26 {Get 2  9 16}} {245 26 {Get 3  10 20}}], and commitIndex have updated to 246
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:242 Term:26 Command:{Operation:Append Key:0 Value:x 0 11 y ClientID:11 ReqID:22}}
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 242
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 243
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:243 Term:26 Command:{Operation:Append Key:1 Value:x 1 14 y ClientID:7 ReqID:18}}
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:244 Term:26 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:16}}
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{246 26 {Get 1  7 19}} {247 26 {Get 0  11 23}} {248 26 {Get 3  10 21}} {249 26 {Get 4  8 22}}] to peer 0 succ
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 8 yx 3 9 yx 3 10 y], CommandIndex 245
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 0, ai 249, i 10, rf.commit 246
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:245 Term:26 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:20}}
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[0] = 249's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 0, ai 248, i 9, rf.commit 246
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[0] = 248's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 0, ai 247, i 8, rf.commit 246
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[0] = 247's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 0, ai 246, i 7, rf.commit 246
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[0] = 246's quorum 2
2019/06/13 18:42:57 FFFF[follower 3/26 AppendEntries] have commit [{0 0 -1} {240 26 {Append 1 x 1 13 y 7 17}} {241 26 {Append 4 x 4 9 y 8 21}} {242 26 {Append 0 x 0 11 y 11 22}} {243 26 {Append 1 x 1 14 y 7 18}} {244 26 {Get 2  9 16}} {245 26 {Get 3  10 20}}], and commitIndex have updated to 246
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:242 Term:26 Command:{Operation:Append Key:0 Value:x 0 11 y ClientID:11 ReqID:22}}
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 242
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 14 y], CommandIndex 243
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:243 Term:26 Command:{Operation:Append Key:1 Value:x 1 14 y ClientID:7 ReqID:18}}
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:244 Term:26 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:16}}
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 y], CommandIndex 244
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{240 26 {Append 1 x 1 13 y 7 17}} {241 26 {Append 4 x 4 9 y 8 21}} {242 26 {Append 0 x 0 11 y 11 22}} {243 26 {Append 1 x 1 14 y 7 18}} {244 26 {Get 2  9 16}} {245 26 {Get 3  10 20}} {246 26 {Get 1  7 19}} {247 26 {Get 0  11 23}} {248 26 {Get 3  10 21}} {249 26 {Get 4  8 22}}] to peer 3 succ
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:245 Term:26 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:20}}
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 3, ai 249, i 10, rf.commit 246
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[3] = 249's quorum 3
2019/06/13 18:42:57 LLLL[leader 4/26 sendAndWaitAppendEntriesRPC] update commitIndex to 250
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 y], CommandIndex 245
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:246 Term:26 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:19}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 7 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 246
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 247
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:247 Term:26 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:23}}
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:248 Term:26 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:21}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 y], CommandIndex 248
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 9 y], CommandIndex 249
2019/06/13 18:42:57 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y ClientID:11 RepID:23}
2019/06/13 18:42:57 [Clerk 11 Get] succ replicate command to replicated state machine
2019/06/13 18:42:57 [Clerk 7 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y ClientID:7 RepID:19}
2019/06/13 18:42:57 [Clerk 7 Get] succ replicate command to replicated state machine
2019/06/13 18:42:57 1: client new append x 1 15 y
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:249 Term:26 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:22}}
2019/06/13 18:42:57 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 15 y Op:Append ClientID:7 ReqID:20} to KVServer 3
2019/06/13 18:42:57 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:false Err: Value:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 y ClientID:10 RepID:21}
2019/06/13 18:42:57 [Clerk 10 Get] succ replicate command to replicated state machine
2019/06/13 18:42:57 0: client new append x 0 12 y
2019/06/13 18:42:57 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 12 y Op:Append ClientID:11 ReqID:24} to KVServer 1
2019/06/13 18:42:57 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:false Err: Value:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 9 y ClientID:8 RepID:22}
2019/06/13 18:42:57 [Clerk 8 Get] succ replicate command to replicated state machine
2019/06/13 18:42:57 4: client new append x 4 10 y
2019/06/13 18:42:57 3: client new append x 3 11 y
2019/06/13 18:42:57 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 10 y Op:Append ClientID:8 ReqID:23} to KVServer 4
2019/06/13 18:42:57 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 11 y Op:Append ClientID:10 ReqID:22} to KVServer 4
2019/06/13 18:42:57 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 10 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:57 FFFF[follower 1/26 AppendEntries] have commit [{0 0 -1} {235 26 {Get 2  9 16}} {236 26 {Append 0 x 0 10 y 11 20}} {237 26 {Get 4  8 20}} {238 26 {Append 3 x 3 10 y 10 19}} {239 26 {Get 0  11 21}} {240 26 {Append 1 x 1 13 y 7 17}} {241 26 {Append 4 x 4 9 y 8 21}} {242 26 {Append 0 x 0 11 y 11 22}} {243 26 {Append 1 x 1 14 y 7 18}} {244 26 {Get 2  9 16}} {245 26 {Get 3  10 20}}], and commitIndex have updated to 246
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:242 Term:26 Command:{Operation:Append Key:0 Value:x 0 11 y ClientID:11 ReqID:22}}
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 242
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 243
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:243 Term:26 Command:{Operation:Append Key:1 Value:x 1 14 y ClientID:7 ReqID:18}}
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:244 Term:26 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:16}}
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:245 Term:26 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:20}}
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 y], CommandIndex 245
2019/06/13 18:42:57 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 10 y Op:Append ClientID:9 ReqID:17} to KVServer 0
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 0 x 0 12 y 11 24}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 12 y ClientID:11 ReqID:24}, logIndex = 250
2019/06/13 18:42:57 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 11 y Op:Append ClientID:10 ReqID:22} to KVServer 0
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 1 x 1 15 y 7 20}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 15 y ClientID:7 ReqID:20}, logIndex = 251
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 4 x 4 10 y 8 23}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 10 y ClientID:8 ReqID:23}, logIndex = 252
2019/06/13 18:42:57 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 11 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:57 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 10 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:57 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 11 y Op:Append ClientID:10 ReqID:22} to KVServer 1
2019/06/13 18:42:57 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 10 y Op:Append ClientID:9 ReqID:17} to KVServer 1
2019/06/13 18:42:57 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 10 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:57 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 11 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:57 [candidate 2/26 electionEventLoop] timeout, start the election
2019/06/13 18:42:57 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 10 y Op:Append ClientID:9 ReqID:17} to KVServer 2
2019/06/13 18:42:57 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 11 y Op:Append ClientID:10 ReqID:22} to KVServer 2
2019/06/13 18:42:57 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 11 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:57 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 11 y Op:Append ClientID:10 ReqID:22} to KVServer 3
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 2 x 2 10 y 9 17}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 10 y ClientID:9 ReqID:17}, logIndex = 253
2019/06/13 18:42:57 [leader 4/26 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:57 FFFF[follower 1/26 AppendEntries] have commit [{0 0 -1} {235 26 {Get 2  9 16}} {236 26 {Append 0 x 0 10 y 11 20}} {237 26 {Get 4  8 20}} {238 26 {Append 3 x 3 10 y 10 19}} {239 26 {Get 0  11 21}} {240 26 {Append 1 x 1 13 y 7 17}} {241 26 {Append 4 x 4 9 y 8 21}} {242 26 {Append 0 x 0 11 y 11 22}} {243 26 {Append 1 x 1 14 y 7 18}} {244 26 {Get 2  9 16}} {245 26 {Get 3  10 20}} {246 26 {Get 1  7 19}} {247 26 {Get 0  11 23}} {248 26 {Get 3  10 21}} {249 26 {Get 4  8 22}}], and commitIndex have updated to 250
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:246 Term:26 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:19}}
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 7 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 246
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 247
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:247 Term:26 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:23}}
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:248 Term:26 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:21}}
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 y], CommandIndex 248
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{246 26 {Get 1  7 19}} {247 26 {Get 0  11 23}} {248 26 {Get 3  10 21}} {249 26 {Get 4  8 22}} {250 26 {Append 0 x 0 12 y 11 24}} {251 26 {Append 1 x 1 15 y 7 20}} {252 26 {Append 4 x 4 10 y 8 23}} {253 26 {Append 2 x 2 10 y 9 17}}] to peer 1 succ
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:249 Term:26 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:22}}
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 253, i 14, rf.commit 250
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 253's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 252, i 13, rf.commit 250
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 252's quorum 2
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 9 y], CommandIndex 249
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 251, i 12, rf.commit 250
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 251's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 250, i 11, rf.commit 250
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 250's quorum 2
2019/06/13 18:42:57 FFFF[follower 0/26 AppendEntries] have commit [{0 0 -1} {235 26 {Get 2  9 16}} {236 26 {Append 0 x 0 10 y 11 20}} {237 26 {Get 4  8 20}} {238 26 {Append 3 x 3 10 y 10 19}} {239 26 {Get 0  11 21}} {240 26 {Append 1 x 1 13 y 7 17}} {241 26 {Append 4 x 4 9 y 8 21}} {242 26 {Append 0 x 0 11 y 11 22}} {243 26 {Append 1 x 1 14 y 7 18}} {244 26 {Get 2  9 16}} {245 26 {Get 3  10 20}} {246 26 {Get 1  7 19}} {247 26 {Get 0  11 23}} {248 26 {Get 3  10 21}} {249 26 {Get 4  8 22}}], and commitIndex have updated to 250
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 7 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 y], CommandIndex 246
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:246 Term:26 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:19}}
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:247 Term:26 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:23}}
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 247
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 8 yx 3 9 yx 3 10 y], CommandIndex 248
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:248 Term:26 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:21}}
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{250 26 {Append 0 x 0 12 y 11 24}} {251 26 {Append 1 x 1 15 y 7 20}} {252 26 {Append 4 x 4 10 y 8 23}} {253 26 {Append 2 x 2 10 y 9 17}}] to peer 0 succ
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 8 yx 4 9 y], CommandIndex 249
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 0, ai 253, i 14, rf.commit 250
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[0] = 253's quorum 3
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:249 Term:26 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:22}}
2019/06/13 18:42:57 LLLL[leader 4/26 sendAndWaitAppendEntriesRPC] update commitIndex to 254
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:250 Term:26 Command:{Operation:Append Key:0 Value:x 0 12 y ClientID:11 ReqID:24}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y], CommandIndex 250
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 251
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:251 Term:26 Command:{Operation:Append Key:1 Value:x 1 15 y ClientID:7 ReqID:20}}
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:252 Term:26 Command:{Operation:Append Key:4 Value:x 4 10 y ClientID:8 ReqID:23}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 9 yx 4 10 y], CommandIndex 252
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 y], CommandIndex 253
2019/06/13 18:42:57 FFFF[follower 3/26 AppendEntries] have commit [{0 0 -1} {240 26 {Append 1 x 1 13 y 7 17}} {241 26 {Append 4 x 4 9 y 8 21}} {242 26 {Append 0 x 0 11 y 11 22}} {243 26 {Append 1 x 1 14 y 7 18}} {244 26 {Get 2  9 16}} {245 26 {Get 3  10 20}} {246 26 {Get 1  7 19}} {247 26 {Get 0  11 23}} {248 26 {Get 3  10 21}} {249 26 {Get 4  8 22}}], and commitIndex have updated to 250
2019/06/13 18:42:57 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 15 y, reply = {WrongLeader:false Err: ClientID:7 RepID:20}
2019/06/13 18:42:57 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 12 y, reply = {WrongLeader:false Err: ClientID:11 RepID:24}
2019/06/13 18:42:57 1: client new append x 1 16 y
2019/06/13 18:42:57 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 16 y Op:Append ClientID:7 ReqID:21} to KVServer 3
2019/06/13 18:42:57 0: client new get 0
2019/06/13 18:42:57 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:25} to KVServer 1
2019/06/13 18:42:57 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 10 y, reply = {WrongLeader:false Err: ClientID:9 RepID:17}
2019/06/13 18:42:57 [Clerk 9 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:253 Term:26 Command:{Operation:Append Key:2 Value:x 2 10 y ClientID:9 ReqID:17}}
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:246 Term:26 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:19}}
2019/06/13 18:42:57 2: client new append x 2 11 y
2019/06/13 18:42:57 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 11 y Op:Append ClientID:9 ReqID:18} to KVServer 2
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 7 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 14 y], CommandIndex 246
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 y], CommandIndex 247
2019/06/13 18:42:57 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 10 y, reply = {WrongLeader:false Err: ClientID:8 RepID:23}
2019/06/13 18:42:57 [Clerk 8 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 4: client new append x 4 11 y
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:247 Term:26 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:23}}
2019/06/13 18:42:57 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 11 y Op:Append ClientID:8 ReqID:24} to KVServer 4
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:248 Term:26 Command:{Operation:Get Key:3 Value: ClientID:10 ReqID:21}}
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{250 26 {Append 0 x 0 12 y 11 24}} {251 26 {Append 1 x 1 15 y 7 20}} {252 26 {Append 4 x 4 10 y 8 23}} {253 26 {Append 2 x 2 10 y 9 17}}] to peer 3 succ
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 10 Get [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 y], CommandIndex 248
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 8 Get [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 y], CommandIndex 249
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:249 Term:26 Command:{Operation:Get Key:4 Value: ClientID:8 ReqID:22}}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 2 x 2 11 y 9 18}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 11 y ClientID:9 ReqID:18}, logIndex = 254
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 4 x 4 11 y 8 24}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 11 y ClientID:8 ReqID:24}, logIndex = 255
2019/06/13 18:42:57 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 11 y Op:Append ClientID:10 ReqID:22} to KVServer 4
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 1 x 1 16 y 7 21}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 16 y ClientID:7 ReqID:21}, logIndex = 256
2019/06/13 18:42:57 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 11 y Op:Append ClientID:10 ReqID:22} to KVServer 0
2019/06/13 18:42:57 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 11 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:57 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:25} to KVServer 2
2019/06/13 18:42:57 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 11 y Op:Append ClientID:10 ReqID:22} to KVServer 1
2019/06/13 18:42:57 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 11 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:57 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:25} to KVServer 3
2019/06/13 18:42:57 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 11 y Op:Append ClientID:10 ReqID:22} to KVServer 2
2019/06/13 18:42:57 [KVServer 1 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:25}
2019/06/13 18:42:57 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:57 [leader 4/26 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:57 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:25} to KVServer 4
2019/06/13 18:42:57 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 11 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:57 FFFF[follower 1/26 AppendEntries] have commit [{0 0 -1} {235 26 {Get 2  9 16}} {236 26 {Append 0 x 0 10 y 11 20}} {237 26 {Get 4  8 20}} {238 26 {Append 3 x 3 10 y 10 19}} {239 26 {Get 0  11 21}} {240 26 {Append 1 x 1 13 y 7 17}} {241 26 {Append 4 x 4 9 y 8 21}} {242 26 {Append 0 x 0 11 y 11 22}} {243 26 {Append 1 x 1 14 y 7 18}} {244 26 {Get 2  9 16}} {245 26 {Get 3  10 20}} {246 26 {Get 1  7 19}} {247 26 {Get 0  11 23}} {248 26 {Get 3  10 21}} {249 26 {Get 4  8 22}} {250 26 {Append 0 x 0 12 y 11 24}} {251 26 {Append 1 x 1 15 y 7 20}} {252 26 {Append 4 x 4 10 y 8 23}} {253 26 {Append 2 x 2 10 y 9 17}}], and commitIndex have updated to 254
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:250 Term:26 Command:{Operation:Append Key:0 Value:x 0 12 y ClientID:11 ReqID:24}}
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y], CommandIndex 250
2019/06/13 18:42:57 [KVServer 1 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1081
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{254 26 {Append 2 x 2 11 y 9 18}} {255 26 {Append 4 x 4 11 y 8 24}} {256 26 {Append 1 x 1 16 y 7 21}}] to peer 1 succ
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 256, i 17, rf.commit 254
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 256's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 255, i 16, rf.commit 254
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 255's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 254, i 15, rf.commit 254
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 254's quorum 2
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 251
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:251 Term:26 Command:{Operation:Append Key:1 Value:x 1 15 y ClientID:7 ReqID:20}}
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:252 Term:26 Command:{Operation:Append Key:4 Value:x 4 10 y ClientID:8 ReqID:23}}
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 9 yx 4 10 y], CommandIndex 252
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 y], CommandIndex 253
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:253 Term:26 Command:{Operation:Append Key:2 Value:x 2 10 y ClientID:9 ReqID:17}}
2019/06/13 18:42:57 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 11 y Op:Append ClientID:10 ReqID:22} to KVServer 3
2019/06/13 18:42:57 FFFF[follower 0/26 AppendEntries] have commit [{0 0 -1} {235 26 {Get 2  9 16}} {236 26 {Append 0 x 0 10 y 11 20}} {237 26 {Get 4  8 20}} {238 26 {Append 3 x 3 10 y 10 19}} {239 26 {Get 0  11 21}} {240 26 {Append 1 x 1 13 y 7 17}} {241 26 {Append 4 x 4 9 y 8 21}} {242 26 {Append 0 x 0 11 y 11 22}} {243 26 {Append 1 x 1 14 y 7 18}} {244 26 {Get 2  9 16}} {245 26 {Get 3  10 20}} {246 26 {Get 1  7 19}} {247 26 {Get 0  11 23}} {248 26 {Get 3  10 21}} {249 26 {Get 4  8 22}} {250 26 {Append 0 x 0 12 y 11 24}} {251 26 {Append 1 x 1 15 y 7 20}} {252 26 {Append 4 x 4 10 y 8 23}} {253 26 {Append 2 x 2 10 y 9 17}}], and commitIndex have updated to 254
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:250 Term:26 Command:{Operation:Append Key:0 Value:x 0 12 y ClientID:11 ReqID:24}}
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y], CommandIndex 250
2019/06/13 18:42:57 [KVServer 0 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1081
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{254 26 {Append 2 x 2 11 y 9 18}} {255 26 {Append 4 x 4 11 y 8 24}} {256 26 {Append 1 x 1 16 y 7 21}}] to peer 0 succ
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 0, ai 256, i 17, rf.commit 254
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[0] = 256's quorum 3
2019/06/13 18:42:57 LLLL[leader 4/26 sendAndWaitAppendEntriesRPC] update commitIndex to 257
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:254 Term:26 Command:{Operation:Append Key:2 Value:x 2 11 y ClientID:9 ReqID:18}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 y], CommandIndex 254
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 9 yx 4 10 yx 4 11 y], CommandIndex 255
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 y], CommandIndex 251
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:255 Term:26 Command:{Operation:Append Key:4 Value:x 4 11 y ClientID:8 ReqID:24}}
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:251 Term:26 Command:{Operation:Append Key:1 Value:x 1 15 y ClientID:7 ReqID:20}}
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:256 Term:26 Command:{Operation:Append Key:1 Value:x 1 16 y ClientID:7 ReqID:21}}
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:252 Term:26 Command:{Operation:Append Key:4 Value:x 4 10 y ClientID:8 ReqID:23}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 y], CommandIndex 256
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 8 yx 4 9 yx 4 10 y], CommandIndex 252
2019/06/13 18:42:57 [KVServer 0 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 8 yx 2 9 yx 2 10 y], CommandIndex 253
2019/06/13 18:42:57 [follower 0/26 applyRoutine] have applied LogEntry {Index:253 Term:26 Command:{Operation:Append Key:2 Value:x 2 10 y ClientID:9 ReqID:17}}
2019/06/13 18:42:57 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 11 y, reply = {WrongLeader:false Err: ClientID:8 RepID:24}
2019/06/13 18:42:57 [Clerk 8 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 4: client new append x 4 12 y
2019/06/13 18:42:57 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 4
2019/06/13 18:42:57 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 16 y, reply = {WrongLeader:false Err: ClientID:7 RepID:21}
2019/06/13 18:42:57 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 1: client new append x 1 17 y
2019/06/13 18:42:57 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 17 y Op:Append ClientID:7 ReqID:22} to KVServer 3
2019/06/13 18:42:57 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 11 y, reply = {WrongLeader:false Err: ClientID:9 RepID:18}
2019/06/13 18:42:57 [Clerk 9 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 2: client new append x 2 12 y
2019/06/13 18:42:57 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 12 y Op:Append ClientID:9 ReqID:19} to KVServer 2
2019/06/13 18:42:57 FFFF[follower 3/26 AppendEntries] have commit [{0 0 -1} {240 26 {Append 1 x 1 13 y 7 17}} {241 26 {Append 4 x 4 9 y 8 21}} {242 26 {Append 0 x 0 11 y 11 22}} {243 26 {Append 1 x 1 14 y 7 18}} {244 26 {Get 2  9 16}} {245 26 {Get 3  10 20}} {246 26 {Get 1  7 19}} {247 26 {Get 0  11 23}} {248 26 {Get 3  10 21}} {249 26 {Get 4  8 22}} {250 26 {Append 0 x 0 12 y 11 24}} {251 26 {Append 1 x 1 15 y 7 20}} {252 26 {Append 4 x 4 10 y 8 23}} {253 26 {Append 2 x 2 10 y 9 17}}], and commitIndex have updated to 254
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y], CommandIndex 250
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:250 Term:26 Command:{Operation:Append Key:0 Value:x 0 12 y ClientID:11 ReqID:24}}
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:251 Term:26 Command:{Operation:Append Key:1 Value:x 1 15 y ClientID:7 ReqID:20}}
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 14 yx 1 15 y], CommandIndex 251
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 10 y], CommandIndex 252
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:252 Term:26 Command:{Operation:Append Key:4 Value:x 4 10 y ClientID:8 ReqID:23}}
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:253 Term:26 Command:{Operation:Append Key:2 Value:x 2 10 y ClientID:9 ReqID:17}}
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 y], CommandIndex 253
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{254 26 {Append 2 x 2 11 y 9 18}} {255 26 {Append 4 x 4 11 y 8 24}} {256 26 {Append 1 x 1 16 y 7 21}}] to peer 3 succ
2019/06/13 18:42:57 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 11 y Op:Append ClientID:10 ReqID:22} to KVServer 4
2019/06/13 18:42:57 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:25} to KVServer 0
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 1 x 1 17 y 7 22}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 17 y ClientID:7 ReqID:22}, logIndex = 257
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 2 x 2 12 y 9 19}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 12 y ClientID:9 ReqID:19}, logIndex = 258
2019/06/13 18:42:57 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 0
2019/06/13 18:42:57 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 12 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:57 [KVServer 2 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:25}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 3 x 3 11 y 10 22}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 11 y ClientID:10 ReqID:22}, logIndex = 259
2019/06/13 18:42:57 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:57 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 1
2019/06/13 18:42:57 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:25} to KVServer 1
2019/06/13 18:42:57 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 12 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:57 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 2
2019/06/13 18:42:57 [KVServer 4 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:25}
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Get 0  11 25}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:11 ReqID:25}, logIndex = 260
2019/06/13 18:42:57 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 3
2019/06/13 18:42:57 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 12 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:57 [leader 4/26 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:57 FFFF[follower 1/26 AppendEntries] have commit [{0 0 -1} {251 26 {Append 1 x 1 15 y 7 20}} {252 26 {Append 4 x 4 10 y 8 23}} {253 26 {Append 2 x 2 10 y 9 17}} {254 26 {Append 2 x 2 11 y 9 18}} {255 26 {Append 4 x 4 11 y 8 24}} {256 26 {Append 1 x 1 16 y 7 21}}], and commitIndex have updated to 257
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:254 Term:26 Command:{Operation:Append Key:2 Value:x 2 11 y ClientID:9 ReqID:18}}
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 y], CommandIndex 254
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 9 yx 4 10 yx 4 11 y], CommandIndex 255
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:255 Term:26 Command:{Operation:Append Key:4 Value:x 4 11 y ClientID:8 ReqID:24}}
2019/06/13 18:42:57 [follower 1/26 applyRoutine] have applied LogEntry {Index:256 Term:26 Command:{Operation:Append Key:1 Value:x 1 16 y ClientID:7 ReqID:21}}
2019/06/13 18:42:57 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 y], CommandIndex 256
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{257 26 {Append 1 x 1 17 y 7 22}} {258 26 {Append 2 x 2 12 y 9 19}} {259 26 {Append 3 x 3 11 y 10 22}} {260 26 {Get 0  11 25}}] to peer 1 succ
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 260, i 21, rf.commit 257
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 260's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 259, i 20, rf.commit 257
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 259's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 258, i 19, rf.commit 257
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 258's quorum 2
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 1, ai 257, i 18, rf.commit 257
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[1] = 257's quorum 2
2019/06/13 18:42:57 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 4
2019/06/13 18:42:57 FFFF[follower 3/26 AppendEntries] have commit [{0 0 -1} {240 26 {Append 1 x 1 13 y 7 17}} {241 26 {Append 4 x 4 9 y 8 21}} {242 26 {Append 0 x 0 11 y 11 22}} {243 26 {Append 1 x 1 14 y 7 18}} {244 26 {Get 2  9 16}} {245 26 {Get 3  10 20}} {246 26 {Get 1  7 19}} {247 26 {Get 0  11 23}} {248 26 {Get 3  10 21}} {249 26 {Get 4  8 22}} {250 26 {Append 0 x 0 12 y 11 24}} {251 26 {Append 1 x 1 15 y 7 20}} {252 26 {Append 4 x 4 10 y 8 23}} {253 26 {Append 2 x 2 10 y 9 17}} {254 26 {Append 2 x 2 11 y 9 18}} {255 26 {Append 4 x 4 11 y 8 24}} {256 26 {Append 1 x 1 16 y 7 21}}], and commitIndex have updated to 257
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:254 Term:26 Command:{Operation:Append Key:2 Value:x 2 11 y ClientID:9 ReqID:18}}
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 y], CommandIndex 254
2019/06/13 18:42:57 [KVServer 3 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1060
2019/06/13 18:42:57 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{257 26 {Append 1 x 1 17 y 7 22}} {258 26 {Append 2 x 2 12 y 9 19}} {259 26 {Append 3 x 3 11 y 10 22}} {260 26 {Get 0  11 25}}] to peer 3 succ
2019/06/13 18:42:57 [leader 4/26 calcCommitIndex] follower 3, ai 260, i 21, rf.commit 257
2019/06/13 18:42:57 LLLL[leader 4/26 calcCommitIndex] matchIndex[3] = 260's quorum 3
2019/06/13 18:42:57 LLLL[leader 4/26 sendAndWaitAppendEntriesRPC] update commitIndex to 261
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:257 Term:26 Command:{Operation:Append Key:1 Value:x 1 17 y ClientID:7 ReqID:22}}
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 yx 1 17 y], CommandIndex 257
2019/06/13 18:42:57 [KVServer 4 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1060
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 10 yx 4 11 y], CommandIndex 255
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:255 Term:26 Command:{Operation:Append Key:4 Value:x 4 11 y ClientID:8 ReqID:24}}
2019/06/13 18:42:57 [follower 3/26 applyRoutine] have applied LogEntry {Index:256 Term:26 Command:{Operation:Append Key:1 Value:x 1 16 y ClientID:7 ReqID:21}}
2019/06/13 18:42:57 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 14 yx 1 15 yx 1 16 y], CommandIndex 256
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 y], CommandIndex 258
2019/06/13 18:42:57 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 17 y, reply = {WrongLeader:false Err: ClientID:7 RepID:22}
2019/06/13 18:42:57 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:258 Term:26 Command:{Operation:Append Key:2 Value:x 2 12 y ClientID:9 ReqID:19}}
2019/06/13 18:42:57 1: client new get 1
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:259 Term:26 Command:{Operation:Append Key:3 Value:x 3 11 y ClientID:10 ReqID:22}}
2019/06/13 18:42:57 [Clerk 7 Get] args = {Key:1 ClientID:7 ReqID:23} to KVServer 3
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 11 y], CommandIndex 259
2019/06/13 18:42:57 [KVServer 4 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y], CommandIndex 260
2019/06/13 18:42:57 [leader 4/26 applyRoutine] have applied LogEntry {Index:260 Term:26 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:25}}
2019/06/13 18:42:57 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 12 y, reply = {WrongLeader:false Err: ClientID:9 RepID:19}
2019/06/13 18:42:57 [Clerk 9 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 2: client new get 2
2019/06/13 18:42:57 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:20} to KVServer 2
2019/06/13 18:42:57 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 11 y, reply = {WrongLeader:false Err: ClientID:10 RepID:22}
2019/06/13 18:42:57 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:57 3: client new append x 3 12 y
2019/06/13 18:42:57 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 12 y Op:Append ClientID:10 ReqID:23} to KVServer 4
2019/06/13 18:42:57 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y ClientID:11 RepID:25}
2019/06/13 18:42:57 [Clerk 11 Get] succ replicate command to replicated state machine
2019/06/13 18:42:57 0: client new append x 0 13 y
2019/06/13 18:42:57 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 1
2019/06/13 18:42:57 [leader 4/26 Start] receive client request {Append 3 x 3 12 y 10 23}
2019/06/13 18:42:57 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 12 y ClientID:10 ReqID:23}, logIndex = 261
2019/06/13 18:42:58 [leader 4/26 Start] receive client request {Append 0 x 0 13 y 11 26}
2019/06/13 18:42:58 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 13 y ClientID:11 ReqID:26}, logIndex = 262
2019/06/13 18:42:58 FFFF[follower 0/26 AppendEntries] have commit [{0 0 -1} {251 26 {Append 1 x 1 15 y 7 20}} {252 26 {Append 4 x 4 10 y 8 23}} {253 26 {Append 2 x 2 10 y 9 17}} {254 26 {Append 2 x 2 11 y 9 18}} {255 26 {Append 4 x 4 11 y 8 24}} {256 26 {Append 1 x 1 16 y 7 21}}], and commitIndex have updated to 257
2019/06/13 18:42:58 [follower 0/26 applyRoutine] have applied LogEntry {Index:254 Term:26 Command:{Operation:Append Key:2 Value:x 2 11 y ClientID:9 ReqID:18}}
2019/06/13 18:42:58 [KVServer 0 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 8 yx 2 9 yx 2 10 yx 2 11 y], CommandIndex 254
2019/06/13 18:42:58 [KVServer 0 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 8 yx 4 9 yx 4 10 yx 4 11 y], CommandIndex 255
2019/06/13 18:42:58 [follower 0/26 applyRoutine] have applied LogEntry {Index:255 Term:26 Command:{Operation:Append Key:4 Value:x 4 11 y ClientID:8 ReqID:24}}
2019/06/13 18:42:58 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{257 26 {Append 1 x 1 17 y 7 22}} {258 26 {Append 2 x 2 12 y 9 19}} {259 26 {Append 3 x 3 11 y 10 22}} {260 26 {Get 0  11 25}}] to peer 0 succ
2019/06/13 18:42:58 [follower 0/26 applyRoutine] have applied LogEntry {Index:256 Term:26 Command:{Operation:Append Key:1 Value:x 1 16 y ClientID:7 ReqID:21}}
2019/06/13 18:42:58 [KVServer 0 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 y], CommandIndex 256
2019/06/13 18:42:58 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 0
2019/06/13 18:42:58 [KVServer 4 Get] RPC handler, args = {Key:1 ClientID:7 ReqID:23}
2019/06/13 18:42:58 [leader 4/26 Start] receive client request {Get 1  7 23}
2019/06/13 18:42:58 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:7 ReqID:23}, logIndex = 263
2019/06/13 18:42:58 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 12 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:20} to KVServer 3
2019/06/13 18:42:58 [KVServer 2 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:20}
2019/06/13 18:42:58 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 1
2019/06/13 18:42:58 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:20} to KVServer 4
2019/06/13 18:42:58 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 12 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 2
2019/06/13 18:42:58 [KVServer 0 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:20}
2019/06/13 18:42:58 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 12 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:20} to KVServer 0
2019/06/13 18:42:58 [KVServer 1 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:20}
2019/06/13 18:42:58 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 3
2019/06/13 18:42:58 [leader 4/26 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:58 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:20} to KVServer 1
2019/06/13 18:42:58 [KVServer 3 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:20}
2019/06/13 18:42:58 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:58 FFFF[follower 3/26 AppendEntries] have commit [{0 0 -1} {255 26 {Append 4 x 4 11 y 8 24}} {256 26 {Append 1 x 1 16 y 7 21}} {257 26 {Append 1 x 1 17 y 7 22}} {258 26 {Append 2 x 2 12 y 9 19}} {259 26 {Append 3 x 3 11 y 10 22}} {260 26 {Get 0  11 25}}], and commitIndex have updated to 261
2019/06/13 18:42:58 FFFF[follower 1/26 AppendEntries] have commit [{0 0 -1} {251 26 {Append 1 x 1 15 y 7 20}} {252 26 {Append 4 x 4 10 y 8 23}} {253 26 {Append 2 x 2 10 y 9 17}} {254 26 {Append 2 x 2 11 y 9 18}} {255 26 {Append 4 x 4 11 y 8 24}} {256 26 {Append 1 x 1 16 y 7 21}} {257 26 {Append 1 x 1 17 y 7 22}} {258 26 {Append 2 x 2 12 y 9 19}} {259 26 {Append 3 x 3 11 y 10 22}} {260 26 {Get 0  11 25}}], and commitIndex have updated to 261
2019/06/13 18:42:58 [follower 3/26 applyRoutine] have applied LogEntry {Index:257 Term:26 Command:{Operation:Append Key:1 Value:x 1 17 y ClientID:7 ReqID:22}}
2019/06/13 18:42:58 [follower 1/26 applyRoutine] have applied LogEntry {Index:257 Term:26 Command:{Operation:Append Key:1 Value:x 1 17 y ClientID:7 ReqID:22}}
2019/06/13 18:42:58 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 14 yx 1 15 yx 1 16 yx 1 17 y], CommandIndex 257
2019/06/13 18:42:58 [KVServer 1 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 yx 1 17 y], CommandIndex 257
2019/06/13 18:42:58 [KVServer 3 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 y], CommandIndex 258
2019/06/13 18:42:58 [KVServer 1 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 y], CommandIndex 258
2019/06/13 18:42:58 [follower 1/26 applyRoutine] have applied LogEntry {Index:258 Term:26 Command:{Operation:Append Key:2 Value:x 2 12 y ClientID:9 ReqID:19}}
2019/06/13 18:42:58 [follower 3/26 applyRoutine] have applied LogEntry {Index:258 Term:26 Command:{Operation:Append Key:2 Value:x 2 12 y ClientID:9 ReqID:19}}
2019/06/13 18:42:58 [KVServer 1 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 11 y], CommandIndex 259
2019/06/13 18:42:58 [follower 1/26 applyRoutine] have applied LogEntry {Index:259 Term:26 Command:{Operation:Append Key:3 Value:x 3 11 y ClientID:10 ReqID:22}}
2019/06/13 18:42:58 [KVServer 3 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 11 y], CommandIndex 259
2019/06/13 18:42:58 [follower 3/26 applyRoutine] have applied LogEntry {Index:259 Term:26 Command:{Operation:Append Key:3 Value:x 3 11 y ClientID:10 ReqID:22}}
2019/06/13 18:42:58 [KVServer 1 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y], CommandIndex 260
2019/06/13 18:42:58 [follower 3/26 applyRoutine] have applied LogEntry {Index:260 Term:26 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:25}}
2019/06/13 18:42:58 [follower 1/26 applyRoutine] have applied LogEntry {Index:260 Term:26 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:25}}
2019/06/13 18:42:58 [KVServer 3 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y], CommandIndex 260
2019/06/13 18:42:58 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{261 26 {Append 3 x 3 12 y 10 23}} {262 26 {Append 0 x 0 13 y 11 26}} {263 26 {Get 1  7 23}}] to peer 3 succ
2019/06/13 18:42:58 [leader 4/26 calcCommitIndex] follower 3, ai 263, i 6, rf.commit 261
2019/06/13 18:42:58 LLLL[leader 4/26 calcCommitIndex] matchIndex[3] = 263's quorum 2
2019/06/13 18:42:58 [leader 4/26 calcCommitIndex] follower 3, ai 262, i 5, rf.commit 261
2019/06/13 18:42:58 LLLL[leader 4/26 calcCommitIndex] matchIndex[3] = 262's quorum 2
2019/06/13 18:42:58 [leader 4/26 calcCommitIndex] follower 3, ai 261, i 4, rf.commit 261
2019/06/13 18:42:58 LLLL[leader 4/26 calcCommitIndex] matchIndex[3] = 261's quorum 2
2019/06/13 18:42:58 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 12 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:20} to KVServer 2
2019/06/13 18:42:58 FFFF[follower 0/26 AppendEntries] have commit [{0 0 -1} {251 26 {Append 1 x 1 15 y 7 20}} {252 26 {Append 4 x 4 10 y 8 23}} {253 26 {Append 2 x 2 10 y 9 17}} {254 26 {Append 2 x 2 11 y 9 18}} {255 26 {Append 4 x 4 11 y 8 24}} {256 26 {Append 1 x 1 16 y 7 21}} {257 26 {Append 1 x 1 17 y 7 22}} {258 26 {Append 2 x 2 12 y 9 19}} {259 26 {Append 3 x 3 11 y 10 22}} {260 26 {Get 0  11 25}}], and commitIndex have updated to 261
2019/06/13 18:42:58 [follower 0/26 applyRoutine] have applied LogEntry {Index:257 Term:26 Command:{Operation:Append Key:1 Value:x 1 17 y ClientID:7 ReqID:22}}
2019/06/13 18:42:58 [KVServer 0 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 yx 1 17 y], CommandIndex 257
2019/06/13 18:42:58 [KVServer 0 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 y], CommandIndex 258
2019/06/13 18:42:58 [follower 0/26 applyRoutine] have applied LogEntry {Index:258 Term:26 Command:{Operation:Append Key:2 Value:x 2 12 y ClientID:9 ReqID:19}}
2019/06/13 18:42:58 [follower 0/26 applyRoutine] have applied LogEntry {Index:259 Term:26 Command:{Operation:Append Key:3 Value:x 3 11 y ClientID:10 ReqID:22}}
2019/06/13 18:42:58 [KVServer 0 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 8 yx 3 9 yx 3 10 yx 3 11 y], CommandIndex 259
2019/06/13 18:42:58 [leader 4/26 sendAndWaitAppendEntriesRPC] replicate LogEntry [{261 26 {Append 3 x 3 12 y 10 23}} {262 26 {Append 0 x 0 13 y 11 26}} {263 26 {Get 1  7 23}}] to peer 0 succ
2019/06/13 18:42:58 [follower 0/26 applyRoutine] have applied LogEntry {Index:260 Term:26 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:25}}
2019/06/13 18:42:58 [leader 4/26 calcCommitIndex] follower 0, ai 263, i 6, rf.commit 261
2019/06/13 18:42:58 LLLL[leader 4/26 calcCommitIndex] matchIndex[0] = 263's quorum 3
2019/06/13 18:42:58 LLLL[leader 4/26 sendAndWaitAppendEntriesRPC] update commitIndex to 264
2019/06/13 18:42:58 [KVServer 0 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y], CommandIndex 260
2019/06/13 18:42:58 [leader 4/26 applyRoutine] have applied LogEntry {Index:261 Term:26 Command:{Operation:Append Key:3 Value:x 3 12 y ClientID:10 ReqID:23}}
2019/06/13 18:42:58 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 11 yx 3 12 y], CommandIndex 261
2019/06/13 18:42:58 [KVServer 4 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 y], CommandIndex 262
2019/06/13 18:42:58 [leader 4/26 applyRoutine] have applied LogEntry {Index:262 Term:26 Command:{Operation:Append Key:0 Value:x 0 13 y ClientID:11 ReqID:26}}
2019/06/13 18:42:58 [leader 4/26 applyRoutine] have applied LogEntry {Index:263 Term:26 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:23}}
2019/06/13 18:42:58 [KVServer 4 readApplyCh] apply for client 7 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 yx 1 17 y], CommandIndex 263
2019/06/13 18:42:58 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 12 y, reply = {WrongLeader:false Err: ClientID:10 RepID:23}
2019/06/13 18:42:58 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:58 3: client new append x 3 13 y
2019/06/13 18:42:58 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 13 y Op:Append ClientID:10 ReqID:24} to KVServer 4
2019/06/13 18:42:58 [Clerk 7 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 yx 1 17 y ClientID:7 RepID:23}
2019/06/13 18:42:58 [Clerk 7 Get] succ replicate command to replicated state machine
2019/06/13 18:42:58 1: client new append x 1 18 y
2019/06/13 18:42:58 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 18 y Op:Append ClientID:7 ReqID:24} to KVServer 3
2019/06/13 18:42:58 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 4
2019/06/13 18:42:58 [candidate 2/27 electionEventLoop] timeout, start the election
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 2
2019/06/13 18:42:58 [leader 4/26 Start] receive client request {Append 1 x 1 18 y 7 24}
2019/06/13 18:42:58 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 18 y ClientID:7 ReqID:24}, logIndex = 264
2019/06/13 18:42:58 [KVServer 4 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:20}
2019/06/13 18:42:58 [leader 4/26 Start] receive client request {Get 2  9 20}
2019/06/13 18:42:58 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:9 ReqID:20}, logIndex = 265
2019/06/13 18:42:58 [leader 4/26 Start] receive client request {Append 3 x 3 13 y 10 24}
2019/06/13 18:42:58 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 13 y ClientID:10 ReqID:24}, logIndex = 266
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [leader 4/26 Start] receive client request {Append 4 x 4 12 y 8 25}
2019/06/13 18:42:58 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 12 y ClientID:8 ReqID:25}, logIndex = 267
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 3
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 4
2019/06/13 18:42:58 [leader 4/26 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:58 [leader 4/26 sendAndWaitInstallSnapshotRPC] come across newer term 27back to follower
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 FFFF[follower 0/26 AppendEntries] have commit [{0 0 -1} {251 26 {Append 1 x 1 15 y 7 20}} {252 26 {Append 4 x 4 10 y 8 23}} {253 26 {Append 2 x 2 10 y 9 17}} {254 26 {Append 2 x 2 11 y 9 18}} {255 26 {Append 4 x 4 11 y 8 24}} {256 26 {Append 1 x 1 16 y 7 21}} {257 26 {Append 1 x 1 17 y 7 22}} {258 26 {Append 2 x 2 12 y 9 19}} {259 26 {Append 3 x 3 11 y 10 22}} {260 26 {Get 0  11 25}} {261 26 {Append 3 x 3 12 y 10 23}} {262 26 {Append 0 x 0 13 y 11 26}} {263 26 {Get 1  7 23}}], and commitIndex have updated to 264
2019/06/13 18:42:58 [follower 0/26 applyRoutine] have applied LogEntry {Index:261 Term:26 Command:{Operation:Append Key:3 Value:x 3 12 y ClientID:10 ReqID:23}}
2019/06/13 18:42:58 [KVServer 0 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 8 yx 3 9 yx 3 10 yx 3 11 yx 3 12 y], CommandIndex 261
2019/06/13 18:42:58 [KVServer 0 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 y], CommandIndex 262
2019/06/13 18:42:58 [follower 0/26 applyRoutine] have applied LogEntry {Index:262 Term:26 Command:{Operation:Append Key:0 Value:x 0 13 y ClientID:11 ReqID:26}}
2019/06/13 18:42:58 [follower 0/26 applyRoutine] have applied LogEntry {Index:263 Term:26 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:23}}
2019/06/13 18:42:58 [KVServer 0 readApplyCh] apply for client 7 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 yx 1 17 y], CommandIndex 263
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 0
2019/06/13 18:42:58 FFFF[follower 3/26 AppendEntries] have commit [{0 0 -1} {255 26 {Append 4 x 4 11 y 8 24}} {256 26 {Append 1 x 1 16 y 7 21}} {257 26 {Append 1 x 1 17 y 7 22}} {258 26 {Append 2 x 2 12 y 9 19}} {259 26 {Append 3 x 3 11 y 10 22}} {260 26 {Get 0  11 25}} {261 26 {Append 3 x 3 12 y 10 23}} {262 26 {Append 0 x 0 13 y 11 26}} {263 26 {Get 1  7 23}}], and commitIndex have updated to 264
2019/06/13 18:42:58 [follower 3/26 applyRoutine] have applied LogEntry {Index:261 Term:26 Command:{Operation:Append Key:3 Value:x 3 12 y ClientID:10 ReqID:23}}
2019/06/13 18:42:58 [KVServer 3 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 11 yx 3 12 y], CommandIndex 261
2019/06/13 18:42:58 [KVServer 3 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 y], CommandIndex 262
2019/06/13 18:42:58 [follower 3/26 applyRoutine] have applied LogEntry {Index:262 Term:26 Command:{Operation:Append Key:0 Value:x 0 13 y ClientID:11 ReqID:26}}
2019/06/13 18:42:58 [follower 3/26 applyRoutine] have applied LogEntry {Index:263 Term:26 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:23}}
2019/06/13 18:42:58 [KVServer 3 readApplyCh] apply for client 7 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 14 yx 1 15 yx 1 16 yx 1 17 y], CommandIndex 263
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 1
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 2
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 3
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 4
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 0
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 1
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 2
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 3
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 4
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 0
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [candidate 1/27 electionEventLoop] timeout, start the election
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 1
2019/06/13 18:42:58 [candidate 2/28 electionEventLoop] timeout, start the election
2019/06/13 18:42:58 [follower 4/27 RequestVote] come across newer term 28, back to follower
2019/06/13 18:42:58 [candidate 0/27 electionEventLoop] timeout, start the election
2019/06/13 18:42:58 [candidate 0/27 RequestVote] come across newer term 28, back to follower
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 2
2019/06/13 18:42:58 [follower 3/26 RequestVote] come across newer term 28, back to follower
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 3
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 4
2019/06/13 18:42:58 [candidate 4/29 electionEventLoop] timeout, start the election
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 0
2019/06/13 18:42:58 [follower 3/28 RequestVote] come across newer term 29, back to follower
2019/06/13 18:42:58 [follower 3/29 RequestVote] vote for candidate 4
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 1
2019/06/13 18:42:58 [follower 0/28 RequestVote] come across newer term 29, back to follower
2019/06/13 18:42:58 [follower 0/29 RequestVote] vote for candidate 4
2019/06/13 18:42:58 [leader 4/29 becomeLeader] win the election, become leader
2019/06/13 18:42:58 [leader 4/29 leaderEventLoop] start sending heartbeat
2019/06/13 18:42:58 [follower 2/28 RequestVote] come across newer term 29, back to follower
2019/06/13 18:42:58 [follower 2/29 RequestVote] vote for candidate 4
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 2
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 3
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 4
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 0
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 1
2019/06/13 18:42:58 [leader 4/29 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 2
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 3
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 4
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 0
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [leader 4/29 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 13 y Op:Append ClientID:11 ReqID:26} to KVServer 1
2019/06/13 18:42:58 [follower 2/29 InstallSnapshot] RPC handler, rf.ss = {LastIncludedIndex:257 LastIncludedTerm:26 StateMachineState:map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y 1:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 yx 1 17 y 2:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 y 3:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 y 4:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 9 yx 4 10 yx 4 11 y]}, rf.logs = [{0 0 -1}]
2019/06/13 18:42:58 [KVServer 2 readApplyCh] update snapshot, kv.kvs = map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 y 1:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 y 2:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 y 3:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 y 4:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 y]
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 13 y, reply = {WrongLeader:false Err:ErrDuplicateReq ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:58 0: client new append x 0 14 y
2019/06/13 18:42:58 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 14 y Op:Append ClientID:11 ReqID:27} to KVServer 1
2019/06/13 18:42:58 [candidate 1/28 electionEventLoop] timeout, start the election
2019/06/13 18:42:58 [leader 4/29 Start] receive client request {Append 0 x 0 14 y 11 27}
2019/06/13 18:42:58 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 14 y ClientID:11 ReqID:27}, logIndex = 268
2019/06/13 18:42:58 [leader 4/29 sendAndWaitAppendEntriesRPC] replicate LogEntry [{268 29 {Append 0 x 0 14 y 11 27}}] to peer 0 succ
2019/06/13 18:42:58 [leader 4/29 calcCommitIndex] follower 0, ai 268, i 11, rf.commit 264
2019/06/13 18:42:58 LLLL[leader 4/29 calcCommitIndex] matchIndex[0] = 268's quorum 2
2019/06/13 18:42:58 [leader 4/29 calcCommitIndex] follower 0, ai 267, i 10, rf.commit 264
2019/06/13 18:42:58 [leader 4/29 calcCommitIndex] follower 0, only count my term, currentTerm = 29, rf.logs[i] = {Index:267 Term:26 Command:{Operation:Append Key:4 Value:x 4 12 y ClientID:8 ReqID:25}}
2019/06/13 18:42:58 FFFF[follower 2/29 AppendEntries] have commit [{0 0 -1} {258 26 {Append 2 x 2 12 y 9 19}} {259 26 {Append 3 x 3 11 y 10 22}} {260 26 {Get 0  11 25}} {261 26 {Append 3 x 3 12 y 10 23}} {262 26 {Append 0 x 0 13 y 11 26}} {263 26 {Get 1  7 23}}], and commitIndex have updated to 264
2019/06/13 18:42:58 [leader 4/29 sendAndWaitAppendEntriesRPC] replicate LogEntry [{258 26 {Append 2 x 2 12 y 9 19}} {259 26 {Append 3 x 3 11 y 10 22}} {260 26 {Get 0  11 25}} {261 26 {Append 3 x 3 12 y 10 23}} {262 26 {Append 0 x 0 13 y 11 26}} {263 26 {Get 1  7 23}} {264 26 {Append 1 x 1 18 y 7 24}} {265 26 {Get 2  9 20}} {266 26 {Append 3 x 3 13 y 10 24}} {267 26 {Append 4 x 4 12 y 8 25}} {268 29 {Append 0 x 0 14 y 11 27}}] to peer 2 succ
2019/06/13 18:42:58 [leader 4/29 calcCommitIndex] follower 2, ai 268, i 11, rf.commit 264
2019/06/13 18:42:58 LLLL[leader 4/29 calcCommitIndex] matchIndex[2] = 268's quorum 3
2019/06/13 18:42:58 LLLL[leader 4/29 sendAndWaitAppendEntriesRPC] update commitIndex to 269
2019/06/13 18:42:58 [leader 4/29 applyRoutine] have applied LogEntry {Index:264 Term:26 Command:{Operation:Append Key:1 Value:x 1 18 y ClientID:7 ReqID:24}}
2019/06/13 18:42:58 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 yx 1 17 yx 1 18 y], CommandIndex 264
2019/06/13 18:42:58 [KVServer 4 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 y], CommandIndex 265
2019/06/13 18:42:58 [leader 4/29 applyRoutine] have applied LogEntry {Index:265 Term:26 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:20}}
2019/06/13 18:42:58 [leader 4/29 applyRoutine] have applied LogEntry {Index:266 Term:26 Command:{Operation:Append Key:3 Value:x 3 13 y ClientID:10 ReqID:24}}
2019/06/13 18:42:58 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 11 yx 3 12 yx 3 13 y], CommandIndex 266
2019/06/13 18:42:58 [KVServer 4 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 9 yx 4 10 yx 4 11 yx 4 12 y], CommandIndex 267
2019/06/13 18:42:58 [leader 4/29 applyRoutine] have applied LogEntry {Index:267 Term:26 Command:{Operation:Append Key:4 Value:x 4 12 y ClientID:8 ReqID:25}}
2019/06/13 18:42:58 [leader 4/29 applyRoutine] have applied LogEntry {Index:268 Term:29 Command:{Operation:Append Key:0 Value:x 0 14 y ClientID:11 ReqID:27}}
2019/06/13 18:42:58 [KVServer 4 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 268
2019/06/13 18:42:58 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 y ClientID:9 RepID:20}
2019/06/13 18:42:58 [Clerk 9 Get] succ replicate command to replicated state machine
2019/06/13 18:42:58 2: client new get 2
2019/06/13 18:42:58 [Clerk 9 Get] args = {Key:2 ClientID:9 ReqID:21} to KVServer 2
2019/06/13 18:42:58 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 18 y, reply = {WrongLeader:false Err: ClientID:7 RepID:24}
2019/06/13 18:42:58 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:58 1: client new append x 1 19 y
2019/06/13 18:42:58 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 19 y Op:Append ClientID:7 ReqID:25} to KVServer 3
2019/06/13 18:42:58 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 13 y, reply = {WrongLeader:false Err: ClientID:10 RepID:24}
2019/06/13 18:42:58 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:58 3: client new append x 3 14 y
2019/06/13 18:42:58 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 14 y Op:Append ClientID:10 ReqID:25} to KVServer 4
2019/06/13 18:42:58 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 14 y, reply = {WrongLeader:false Err: ClientID:11 RepID:27}
2019/06/13 18:42:58 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:58 0: client new get 0
2019/06/13 18:42:58 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:28} to KVServer 1
2019/06/13 18:42:58 [leader 4/29 sendAndWaitAppendEntriesRPC] replicate LogEntry [{268 29 {Append 0 x 0 14 y 11 27}}] to peer 3 succ
2019/06/13 18:42:58 [KVServer 4 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:28}
2019/06/13 18:42:58 [leader 4/29 Start] receive client request {Get 0  11 28}
2019/06/13 18:42:58 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:11 ReqID:28}, logIndex = 269
2019/06/13 18:42:58 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 0
2019/06/13 18:42:58 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 12 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [KVServer 4 Get] RPC handler, args = {Key:2 ClientID:9 ReqID:21}
2019/06/13 18:42:58 [leader 4/29 Start] receive client request {Get 2  9 21}
2019/06/13 18:42:58 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:2 Value: ClientID:9 ReqID:21}, logIndex = 270
2019/06/13 18:42:58 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 1
2019/06/13 18:42:58 [leader 4/29 Start] receive client request {Append 3 x 3 14 y 10 25}
2019/06/13 18:42:58 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 14 y ClientID:10 ReqID:25}, logIndex = 271
2019/06/13 18:42:58 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 12 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 19 y Op:Append ClientID:7 ReqID:25} to KVServer 4
2019/06/13 18:42:58 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 2
2019/06/13 18:42:58 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 19 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:58 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 19 y Op:Append ClientID:7 ReqID:25} to KVServer 0
2019/06/13 18:42:58 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 3
2019/06/13 18:42:58 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 12 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:59 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 4
2019/06/13 18:42:59 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 19 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:59 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 19 y Op:Append ClientID:7 ReqID:25} to KVServer 1
2019/06/13 18:42:59 FFFF[follower 3/29 AppendEntries] have commit [{0 0 -1} {255 26 {Append 4 x 4 11 y 8 24}} {256 26 {Append 1 x 1 16 y 7 21}} {257 26 {Append 1 x 1 17 y 7 22}} {258 26 {Append 2 x 2 12 y 9 19}} {259 26 {Append 3 x 3 11 y 10 22}} {260 26 {Get 0  11 25}} {261 26 {Append 3 x 3 12 y 10 23}} {262 26 {Append 0 x 0 13 y 11 26}} {263 26 {Get 1  7 23}} {264 26 {Append 1 x 1 18 y 7 24}} {265 26 {Get 2  9 20}} {266 26 {Append 3 x 3 13 y 10 24}} {267 26 {Append 4 x 4 12 y 8 25}} {268 29 {Append 0 x 0 14 y 11 27}}], and commitIndex have updated to 269
2019/06/13 18:42:59 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 14 yx 1 15 yx 1 16 yx 1 17 yx 1 18 y], CommandIndex 264
2019/06/13 18:42:59 [follower 3/29 applyRoutine] have applied LogEntry {Index:264 Term:26 Command:{Operation:Append Key:1 Value:x 1 18 y ClientID:7 ReqID:24}}
2019/06/13 18:42:59 [follower 3/29 applyRoutine] have applied LogEntry {Index:265 Term:26 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:20}}
2019/06/13 18:42:59 [KVServer 3 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 y], CommandIndex 265
2019/06/13 18:42:59 [KVServer 3 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 11 yx 3 12 yx 3 13 y], CommandIndex 266
2019/06/13 18:42:59 [leader 4/29 sendAndWaitAppendEntriesRPC] replicate LogEntry [{269 29 {Get 0  11 28}} {270 29 {Get 2  9 21}} {271 29 {Append 3 x 3 14 y 10 25}}] to peer 3 succ
2019/06/13 18:42:59 [follower 3/29 applyRoutine] have applied LogEntry {Index:266 Term:26 Command:{Operation:Append Key:3 Value:x 3 13 y ClientID:10 ReqID:24}}
2019/06/13 18:42:59 [follower 3/29 applyRoutine] have applied LogEntry {Index:267 Term:26 Command:{Operation:Append Key:4 Value:x 4 12 y ClientID:8 ReqID:25}}
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 3, ai 271, i 14, rf.commit 269
2019/06/13 18:42:59 [KVServer 3 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 10 yx 4 11 yx 4 12 y], CommandIndex 267
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[3] = 271's quorum 2
2019/06/13 18:42:59 [KVServer 3 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 268
2019/06/13 18:42:59 [follower 3/29 applyRoutine] have applied LogEntry {Index:268 Term:29 Command:{Operation:Append Key:0 Value:x 0 14 y ClientID:11 ReqID:27}}
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 3, ai 270, i 13, rf.commit 269
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[3] = 270's quorum 2
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 3, ai 269, i 12, rf.commit 269
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[3] = 269's quorum 2
2019/06/13 18:42:59 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 0
2019/06/13 18:42:59 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 19 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:59 FFFF[follower 0/29 AppendEntries] have commit [{0 0 -1} {251 26 {Append 1 x 1 15 y 7 20}} {252 26 {Append 4 x 4 10 y 8 23}} {253 26 {Append 2 x 2 10 y 9 17}} {254 26 {Append 2 x 2 11 y 9 18}} {255 26 {Append 4 x 4 11 y 8 24}} {256 26 {Append 1 x 1 16 y 7 21}} {257 26 {Append 1 x 1 17 y 7 22}} {258 26 {Append 2 x 2 12 y 9 19}} {259 26 {Append 3 x 3 11 y 10 22}} {260 26 {Get 0  11 25}} {261 26 {Append 3 x 3 12 y 10 23}} {262 26 {Append 0 x 0 13 y 11 26}} {263 26 {Get 1  7 23}} {264 26 {Append 1 x 1 18 y 7 24}} {265 26 {Get 2  9 20}} {266 26 {Append 3 x 3 13 y 10 24}} {267 26 {Append 4 x 4 12 y 8 25}} {268 29 {Append 0 x 0 14 y 11 27}}], and commitIndex have updated to 269
2019/06/13 18:42:59 [follower 0/29 applyRoutine] have applied LogEntry {Index:264 Term:26 Command:{Operation:Append Key:1 Value:x 1 18 y ClientID:7 ReqID:24}}
2019/06/13 18:42:59 [KVServer 0 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 yx 1 17 yx 1 18 y], CommandIndex 264
2019/06/13 18:42:59 [KVServer 0 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1087
2019/06/13 18:42:59 [leader 4/29 sendAndWaitAppendEntriesRPC] replicate LogEntry [{269 29 {Get 0  11 28}} {270 29 {Get 2  9 21}} {271 29 {Append 3 x 3 14 y 10 25}}] to peer 0 succ
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 0, ai 271, i 14, rf.commit 269
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[0] = 271's quorum 3
2019/06/13 18:42:59 LLLL[leader 4/29 sendAndWaitAppendEntriesRPC] update commitIndex to 272
2019/06/13 18:42:59 [leader 4/29 applyRoutine] have applied LogEntry {Index:269 Term:29 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:28}}
2019/06/13 18:42:59 [KVServer 4 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 269
2019/06/13 18:42:59 [KVServer 4 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 y], CommandIndex 270
2019/06/13 18:42:59 [KVServer 0 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 y], CommandIndex 265
2019/06/13 18:42:59 [leader 4/29 applyRoutine] have applied LogEntry {Index:270 Term:29 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:21}}
2019/06/13 18:42:59 [follower 0/29 applyRoutine] have applied LogEntry {Index:265 Term:26 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:20}}
2019/06/13 18:42:59 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 11 yx 3 12 yx 3 13 yx 3 14 y], CommandIndex 271
2019/06/13 18:42:59 [follower 0/29 applyRoutine] have applied LogEntry {Index:266 Term:26 Command:{Operation:Append Key:3 Value:x 3 13 y ClientID:10 ReqID:24}}
2019/06/13 18:42:59 [KVServer 0 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 8 yx 3 9 yx 3 10 yx 3 11 yx 3 12 yx 3 13 y], CommandIndex 266
2019/06/13 18:42:59 [KVServer 0 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 8 yx 4 9 yx 4 10 yx 4 11 yx 4 12 y], CommandIndex 267
2019/06/13 18:42:59 [follower 0/29 applyRoutine] have applied LogEntry {Index:267 Term:26 Command:{Operation:Append Key:4 Value:x 4 12 y ClientID:8 ReqID:25}}
2019/06/13 18:42:59 [follower 0/29 applyRoutine] have applied LogEntry {Index:268 Term:29 Command:{Operation:Append Key:0 Value:x 0 14 y ClientID:11 ReqID:27}}
2019/06/13 18:42:59 [KVServer 0 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 268
2019/06/13 18:42:59 [leader 4/29 applyRoutine] have applied LogEntry {Index:271 Term:29 Command:{Operation:Append Key:3 Value:x 3 14 y ClientID:10 ReqID:25}}
2019/06/13 18:42:59 [Clerk 9 Get] RPC succ, Get 2, reply = {WrongLeader:false Err: Value:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 y ClientID:9 RepID:21}
2019/06/13 18:42:59 [Clerk 9 Get] succ replicate command to replicated state machine
2019/06/13 18:42:59 2: client new append x 2 13 y
2019/06/13 18:42:59 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 13 y Op:Append ClientID:9 ReqID:22} to KVServer 2
2019/06/13 18:42:59 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 14 y, reply = {WrongLeader:false Err: ClientID:10 RepID:25}
2019/06/13 18:42:59 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y ClientID:11 RepID:28}
2019/06/13 18:42:59 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:59 [Clerk 11 Get] succ replicate command to replicated state machine
2019/06/13 18:42:59 3: client new append x 3 15 y
2019/06/13 18:42:59 0: client new append x 0 15 y
2019/06/13 18:42:59 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 15 y Op:Append ClientID:10 ReqID:26} to KVServer 4
2019/06/13 18:42:59 [Clerk 11 PutAppend] args = {Key:0 Value:x 0 15 y Op:Append ClientID:11 ReqID:29} to KVServer 1
2019/06/13 18:42:59 FFFF[follower 2/29 AppendEntries] have commit [{0 0 -1} {258 26 {Append 2 x 2 12 y 9 19}} {259 26 {Append 3 x 3 11 y 10 22}} {260 26 {Get 0  11 25}} {261 26 {Append 3 x 3 12 y 10 23}} {262 26 {Append 0 x 0 13 y 11 26}} {263 26 {Get 1  7 23}} {264 26 {Append 1 x 1 18 y 7 24}} {265 26 {Get 2  9 20}} {266 26 {Append 3 x 3 13 y 10 24}} {267 26 {Append 4 x 4 12 y 8 25}} {268 29 {Append 0 x 0 14 y 11 27}}], and commitIndex have updated to 269
2019/06/13 18:42:59 [KVServer 2 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 yx 1 17 yx 1 18 y], CommandIndex 264
2019/06/13 18:42:59 [follower 2/29 applyRoutine] have applied LogEntry {Index:264 Term:26 Command:{Operation:Append Key:1 Value:x 1 18 y ClientID:7 ReqID:24}}
2019/06/13 18:42:59 [follower 2/29 applyRoutine] have applied LogEntry {Index:265 Term:26 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:20}}
2019/06/13 18:42:59 [KVServer 2 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 y], CommandIndex 265
2019/06/13 18:42:59 [KVServer 2 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 13 y], CommandIndex 266
2019/06/13 18:42:59 [leader 4/29 sendAndWaitAppendEntriesRPC] replicate LogEntry [{269 29 {Get 0  11 28}} {270 29 {Get 2  9 21}} {271 29 {Append 3 x 3 14 y 10 25}}] to peer 2 succ
2019/06/13 18:42:59 [follower 2/29 applyRoutine] have applied LogEntry {Index:266 Term:26 Command:{Operation:Append Key:3 Value:x 3 13 y ClientID:10 ReqID:24}}
2019/06/13 18:42:59 [follower 2/29 applyRoutine] have applied LogEntry {Index:267 Term:26 Command:{Operation:Append Key:4 Value:x 4 12 y ClientID:8 ReqID:25}}
2019/06/13 18:42:59 [KVServer 2 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 9 yx 4 10 yx 4 11 yx 4 12 y], CommandIndex 267
2019/06/13 18:42:59 [KVServer 2 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 14 y], CommandIndex 268
2019/06/13 18:42:59 [follower 2/29 applyRoutine] have applied LogEntry {Index:268 Term:29 Command:{Operation:Append Key:0 Value:x 0 14 y ClientID:11 ReqID:27}}
2019/06/13 18:42:59 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 19 y Op:Append ClientID:7 ReqID:25} to KVServer 2
2019/06/13 18:42:59 [leader 4/29 Start] receive client request {Append 0 x 0 15 y 11 29}
2019/06/13 18:42:59 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:0 Value:x 0 15 y ClientID:11 ReqID:29}, logIndex = 272
2019/06/13 18:42:59 [leader 4/29 Start] receive client request {Append 3 x 3 15 y 10 26}
2019/06/13 18:42:59 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 15 y ClientID:10 ReqID:26}, logIndex = 273
2019/06/13 18:42:59 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 12 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:59 [leader 4/29 Start] receive client request {Append 2 x 2 13 y 9 22}
2019/06/13 18:42:59 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 13 y ClientID:9 ReqID:22}, logIndex = 274
2019/06/13 18:42:59 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 1
2019/06/13 18:42:59 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 12 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:59 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 19 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:59 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 2
2019/06/13 18:42:59 [Clerk 7 PutAppend] args = {Key:1 Value:x 1 19 y Op:Append ClientID:7 ReqID:25} to KVServer 3
2019/06/13 18:42:59 [leader 4/29 Start] receive client request {Append 1 x 1 19 y 7 25}
2019/06/13 18:42:59 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:1 Value:x 1 19 y ClientID:7 ReqID:25}, logIndex = 275
2019/06/13 18:42:59 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 12 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:59 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 3
2019/06/13 18:42:59 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 12 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:42:59 FFFF[follower 2/29 AppendEntries] have commit [{0 0 -1} {258 26 {Append 2 x 2 12 y 9 19}} {259 26 {Append 3 x 3 11 y 10 22}} {260 26 {Get 0  11 25}} {261 26 {Append 3 x 3 12 y 10 23}} {262 26 {Append 0 x 0 13 y 11 26}} {263 26 {Get 1  7 23}} {264 26 {Append 1 x 1 18 y 7 24}} {265 26 {Get 2  9 20}} {266 26 {Append 3 x 3 13 y 10 24}} {267 26 {Append 4 x 4 12 y 8 25}} {268 29 {Append 0 x 0 14 y 11 27}} {269 29 {Get 0  11 28}} {270 29 {Get 2  9 21}} {271 29 {Append 3 x 3 14 y 10 25}}], and commitIndex have updated to 272
2019/06/13 18:42:59 [KVServer 2 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 14 y], CommandIndex 269
2019/06/13 18:42:59 [follower 2/29 applyRoutine] have applied LogEntry {Index:269 Term:29 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:28}}
2019/06/13 18:42:59 [follower 2/29 applyRoutine] have applied LogEntry {Index:270 Term:29 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:21}}
2019/06/13 18:42:59 [KVServer 2 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 y], CommandIndex 270
2019/06/13 18:42:59 [KVServer 2 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 13 yx 3 14 y], CommandIndex 271
2019/06/13 18:42:59 [follower 2/29 applyRoutine] have applied LogEntry {Index:271 Term:29 Command:{Operation:Append Key:3 Value:x 3 14 y ClientID:10 ReqID:25}}
2019/06/13 18:42:59 [leader 4/29 sendAndWaitAppendEntriesRPC] replicate LogEntry [{272 29 {Append 0 x 0 15 y 11 29}} {273 29 {Append 3 x 3 15 y 10 26}} {274 29 {Append 2 x 2 13 y 9 22}} {275 29 {Append 1 x 1 19 y 7 25}}] to peer 2 succ
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 2, ai 275, i 18, rf.commit 272
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[2] = 275's quorum 2
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 2, ai 274, i 17, rf.commit 272
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[2] = 274's quorum 2
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 2, ai 273, i 16, rf.commit 272
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[2] = 273's quorum 2
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 2, ai 272, i 15, rf.commit 272
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[2] = 272's quorum 2
2019/06/13 18:42:59 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 12 y Op:Append ClientID:8 ReqID:25} to KVServer 4
2019/06/13 18:42:59 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 12 y, reply = {WrongLeader:false Err:ErrDuplicateReq ClientID:0 RepID:0}
2019/06/13 18:42:59 [Clerk 8 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:59 4: client new append x 4 13 y
2019/06/13 18:42:59 [Clerk 8 PutAppend] args = {Key:4 Value:x 4 13 y Op:Append ClientID:8 ReqID:26} to KVServer 4
2019/06/13 18:42:59 FFFF[follower 3/29 AppendEntries] have commit [{0 0 -1} {255 26 {Append 4 x 4 11 y 8 24}} {256 26 {Append 1 x 1 16 y 7 21}} {257 26 {Append 1 x 1 17 y 7 22}} {258 26 {Append 2 x 2 12 y 9 19}} {259 26 {Append 3 x 3 11 y 10 22}} {260 26 {Get 0  11 25}} {261 26 {Append 3 x 3 12 y 10 23}} {262 26 {Append 0 x 0 13 y 11 26}} {263 26 {Get 1  7 23}} {264 26 {Append 1 x 1 18 y 7 24}} {265 26 {Get 2  9 20}} {266 26 {Append 3 x 3 13 y 10 24}} {267 26 {Append 4 x 4 12 y 8 25}} {268 29 {Append 0 x 0 14 y 11 27}} {269 29 {Get 0  11 28}} {270 29 {Get 2  9 21}} {271 29 {Append 3 x 3 14 y 10 25}}], and commitIndex have updated to 272
2019/06/13 18:42:59 [KVServer 3 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 269
2019/06/13 18:42:59 [follower 3/29 applyRoutine] have applied LogEntry {Index:269 Term:29 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:28}}
2019/06/13 18:42:59 [KVServer 3 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1087
2019/06/13 18:42:59 [leader 4/29 sendAndWaitAppendEntriesRPC] replicate LogEntry [{272 29 {Append 0 x 0 15 y 11 29}} {273 29 {Append 3 x 3 15 y 10 26}} {274 29 {Append 2 x 2 13 y 9 22}} {275 29 {Append 1 x 1 19 y 7 25}}] to peer 3 succ
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 3, ai 275, i 18, rf.commit 272
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[3] = 275's quorum 3
2019/06/13 18:42:59 LLLL[leader 4/29 sendAndWaitAppendEntriesRPC] update commitIndex to 276
2019/06/13 18:42:59 [leader 4/29 applyRoutine] have applied LogEntry {Index:272 Term:29 Command:{Operation:Append Key:0 Value:x 0 15 y ClientID:11 ReqID:29}}
2019/06/13 18:42:59 [KVServer 4 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 yx 0 15 y], CommandIndex 272
2019/06/13 18:42:59 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 11 yx 3 12 yx 3 13 yx 3 14 yx 3 15 y], CommandIndex 273
2019/06/13 18:42:59 [KVServer 3 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 y], CommandIndex 270
2019/06/13 18:42:59 [follower 3/29 applyRoutine] have applied LogEntry {Index:270 Term:29 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:21}}
2019/06/13 18:42:59 [follower 3/29 applyRoutine] have applied LogEntry {Index:271 Term:29 Command:{Operation:Append Key:3 Value:x 3 14 y ClientID:10 ReqID:25}}
2019/06/13 18:42:59 [KVServer 3 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 11 yx 3 12 yx 3 13 yx 3 14 y], CommandIndex 271
2019/06/13 18:42:59 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 15 y, reply = {WrongLeader:false Err: ClientID:10 RepID:26}
2019/06/13 18:42:59 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:59 3: client new append x 3 16 y
2019/06/13 18:42:59 [Clerk 10 PutAppend] args = {Key:3 Value:x 3 16 y Op:Append ClientID:10 ReqID:27} to KVServer 4
2019/06/13 18:42:59 [leader 4/29 applyRoutine] have applied LogEntry {Index:273 Term:29 Command:{Operation:Append Key:3 Value:x 3 15 y ClientID:10 ReqID:26}}
2019/06/13 18:42:59 [Clerk 11 PutAppend] RPC succ, Append 0 x 0 15 y, reply = {WrongLeader:false Err: ClientID:11 RepID:29}
2019/06/13 18:42:59 [leader 4/29 applyRoutine] have applied LogEntry {Index:274 Term:29 Command:{Operation:Append Key:2 Value:x 2 13 y ClientID:9 ReqID:22}}
2019/06/13 18:42:59 [Clerk 11 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:59 [KVServer 4 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 yx 2 13 y], CommandIndex 274
2019/06/13 18:42:59 0: client new get 0
2019/06/13 18:42:59 [KVServer 4 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 yx 1 17 yx 1 18 yx 1 19 y], CommandIndex 275
2019/06/13 18:42:59 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:30} to KVServer 1
2019/06/13 18:42:59 [Clerk 7 PutAppend] RPC succ, Append 1 x 1 19 y, reply = {WrongLeader:false Err: ClientID:7 RepID:25}
2019/06/13 18:42:59 [Clerk 7 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:59 1: client new get 1
2019/06/13 18:42:59 [Clerk 7 Get] args = {Key:1 ClientID:7 ReqID:26} to KVServer 3
2019/06/13 18:42:59 [leader 4/29 applyRoutine] have applied LogEntry {Index:275 Term:29 Command:{Operation:Append Key:1 Value:x 1 19 y ClientID:7 ReqID:25}}
2019/06/13 18:42:59 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 13 y, reply = {WrongLeader:false Err: ClientID:9 RepID:22}
2019/06/13 18:42:59 [Clerk 9 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:59 2: client new append x 2 14 y
2019/06/13 18:42:59 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 14 y Op:Append ClientID:9 ReqID:23} to KVServer 2
2019/06/13 18:42:59 FFFF[follower 0/29 AppendEntries] have commit [{0 0 -1} {265 26 {Get 2  9 20}} {266 26 {Append 3 x 3 13 y 10 24}} {267 26 {Append 4 x 4 12 y 8 25}} {268 29 {Append 0 x 0 14 y 11 27}} {269 29 {Get 0  11 28}} {270 29 {Get 2  9 21}} {271 29 {Append 3 x 3 14 y 10 25}}], and commitIndex have updated to 272
2019/06/13 18:42:59 [follower 0/29 applyRoutine] have applied LogEntry {Index:269 Term:29 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:28}}
2019/06/13 18:42:59 [KVServer 0 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 y], CommandIndex 269
2019/06/13 18:42:59 [KVServer 0 readApplyCh] apply for client 9 Get [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 y], CommandIndex 270
2019/06/13 18:42:59 [follower 0/29 applyRoutine] have applied LogEntry {Index:270 Term:29 Command:{Operation:Get Key:2 Value: ClientID:9 ReqID:21}}
2019/06/13 18:42:59 [follower 0/29 applyRoutine] have applied LogEntry {Index:271 Term:29 Command:{Operation:Append Key:3 Value:x 3 14 y ClientID:10 ReqID:25}}
2019/06/13 18:42:59 [KVServer 0 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 8 yx 3 9 yx 3 10 yx 3 11 yx 3 12 yx 3 13 yx 3 14 y], CommandIndex 271
2019/06/13 18:42:59 [leader 4/29 sendAndWaitAppendEntriesRPC] replicate LogEntry [{272 29 {Append 0 x 0 15 y 11 29}} {273 29 {Append 3 x 3 15 y 10 26}} {274 29 {Append 2 x 2 13 y 9 22}} {275 29 {Append 1 x 1 19 y 7 25}}] to peer 0 succ
2019/06/13 18:42:59 [leader 4/29 Start] receive client request {Append 4 x 4 13 y 8 26}
2019/06/13 18:42:59 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:4 Value:x 4 13 y ClientID:8 ReqID:26}, logIndex = 276
2019/06/13 18:42:59 [KVServer 4 Get] RPC handler, args = {Key:1 ClientID:7 ReqID:26}
2019/06/13 18:42:59 [leader 4/29 Start] receive client request {Get 1  7 26}
2019/06/13 18:42:59 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:7 ReqID:26}, logIndex = 277
2019/06/13 18:42:59 [KVServer 4 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:30}
2019/06/13 18:42:59 [leader 4/29 Start] receive client request {Append 3 x 3 16 y 10 27}
2019/06/13 18:42:59 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:3 Value:x 3 16 y ClientID:10 ReqID:27}, logIndex = 278
2019/06/13 18:42:59 [leader 4/29 Start] receive client request {Get 0  11 30}
2019/06/13 18:42:59 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:11 ReqID:30}, logIndex = 279
2019/06/13 18:42:59 [leader 4/29 Start] receive client request {Append 2 x 2 14 y 9 23}
2019/06/13 18:42:59 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 14 y ClientID:9 ReqID:23}, logIndex = 280
2019/06/13 18:42:59 FFFF[follower 0/29 AppendEntries] have commit [{0 0 -1} {265 26 {Get 2  9 20}} {266 26 {Append 3 x 3 13 y 10 24}} {267 26 {Append 4 x 4 12 y 8 25}} {268 29 {Append 0 x 0 14 y 11 27}} {269 29 {Get 0  11 28}} {270 29 {Get 2  9 21}} {271 29 {Append 3 x 3 14 y 10 25}} {272 29 {Append 0 x 0 15 y 11 29}} {273 29 {Append 3 x 3 15 y 10 26}} {274 29 {Append 2 x 2 13 y 9 22}} {275 29 {Append 1 x 1 19 y 7 25}}], and commitIndex have updated to 276
2019/06/13 18:42:59 [follower 0/29 applyRoutine] have applied LogEntry {Index:272 Term:29 Command:{Operation:Append Key:0 Value:x 0 15 y ClientID:11 ReqID:29}}
2019/06/13 18:42:59 [KVServer 0 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 yx 0 15 y], CommandIndex 272
2019/06/13 18:42:59 [KVServer 0 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 8 yx 3 9 yx 3 10 yx 3 11 yx 3 12 yx 3 13 yx 3 14 yx 3 15 y], CommandIndex 273
2019/06/13 18:42:59 [follower 0/29 applyRoutine] have applied LogEntry {Index:273 Term:29 Command:{Operation:Append Key:3 Value:x 3 15 y ClientID:10 ReqID:26}}
2019/06/13 18:42:59 [follower 0/29 applyRoutine] have applied LogEntry {Index:274 Term:29 Command:{Operation:Append Key:2 Value:x 2 13 y ClientID:9 ReqID:22}}
2019/06/13 18:42:59 [KVServer 0 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 yx 2 13 y], CommandIndex 274
2019/06/13 18:42:59 [KVServer 0 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 yx 1 17 yx 1 18 yx 1 19 y], CommandIndex 275
2019/06/13 18:42:59 [follower 0/29 applyRoutine] have applied LogEntry {Index:275 Term:29 Command:{Operation:Append Key:1 Value:x 1 19 y ClientID:7 ReqID:25}}
2019/06/13 18:42:59 [leader 4/29 sendAndWaitAppendEntriesRPC] replicate LogEntry [{276 29 {Append 4 x 4 13 y 8 26}} {277 29 {Get 1  7 26}} {278 29 {Append 3 x 3 16 y 10 27}} {279 29 {Get 0  11 30}} {280 29 {Append 2 x 2 14 y 9 23}}] to peer 0 succ
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 0, ai 280, i 23, rf.commit 276
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[0] = 280's quorum 2
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 0, ai 279, i 22, rf.commit 276
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[0] = 279's quorum 2
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 0, ai 278, i 21, rf.commit 276
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[0] = 278's quorum 2
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 0, ai 277, i 20, rf.commit 276
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[0] = 277's quorum 2
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 0, ai 276, i 19, rf.commit 276
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[0] = 276's quorum 2
2019/06/13 18:42:59 FFFF[follower 3/29 AppendEntries] have commit [{0 0 -1} {270 29 {Get 2  9 21}} {271 29 {Append 3 x 3 14 y 10 25}} {272 29 {Append 0 x 0 15 y 11 29}} {273 29 {Append 3 x 3 15 y 10 26}} {274 29 {Append 2 x 2 13 y 9 22}} {275 29 {Append 1 x 1 19 y 7 25}}], and commitIndex have updated to 276
2019/06/13 18:42:59 [follower 3/29 applyRoutine] have applied LogEntry {Index:272 Term:29 Command:{Operation:Append Key:0 Value:x 0 15 y ClientID:11 ReqID:29}}
2019/06/13 18:42:59 [KVServer 3 readApplyCh] apply for client 11 APPEND [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 yx 0 15 y], CommandIndex 272
2019/06/13 18:42:59 [KVServer 3 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 11 yx 3 12 yx 3 13 yx 3 14 yx 3 15 y], CommandIndex 273
2019/06/13 18:42:59 [follower 3/29 applyRoutine] have applied LogEntry {Index:273 Term:29 Command:{Operation:Append Key:3 Value:x 3 15 y ClientID:10 ReqID:26}}
2019/06/13 18:42:59 [follower 3/29 applyRoutine] have applied LogEntry {Index:274 Term:29 Command:{Operation:Append Key:2 Value:x 2 13 y ClientID:9 ReqID:22}}
2019/06/13 18:42:59 [KVServer 3 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 yx 2 13 y], CommandIndex 274
2019/06/13 18:42:59 [KVServer 3 readApplyCh] apply for client 7 APPEND [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 14 yx 1 15 yx 1 16 yx 1 17 yx 1 18 yx 1 19 y], CommandIndex 275
2019/06/13 18:42:59 [follower 3/29 applyRoutine] have applied LogEntry {Index:275 Term:29 Command:{Operation:Append Key:1 Value:x 1 19 y ClientID:7 ReqID:25}}
2019/06/13 18:42:59 [leader 4/29 sendAndWaitAppendEntriesRPC] replicate LogEntry [{276 29 {Append 4 x 4 13 y 8 26}} {277 29 {Get 1  7 26}} {278 29 {Append 3 x 3 16 y 10 27}} {279 29 {Get 0  11 30}} {280 29 {Append 2 x 2 14 y 9 23}}] to peer 3 succ
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 3, ai 280, i 23, rf.commit 276
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[3] = 280's quorum 3
2019/06/13 18:42:59 LLLL[leader 4/29 sendAndWaitAppendEntriesRPC] update commitIndex to 281
2019/06/13 18:42:59 [leader 4/29 applyRoutine] have applied LogEntry {Index:276 Term:29 Command:{Operation:Append Key:4 Value:x 4 13 y ClientID:8 ReqID:26}}
2019/06/13 18:42:59 [KVServer 4 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 9 yx 4 10 yx 4 11 yx 4 12 yx 4 13 y], CommandIndex 276
2019/06/13 18:42:59 [KVServer 4 readApplyCh] make snapshot, kv.maxraftstate = 1000, raft log size 1155
2019/06/13 18:42:59 [KVServer 4 readApplyCh] apply for client 7 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 yx 1 17 yx 1 18 yx 1 19 y], CommandIndex 277
2019/06/13 18:42:59 [leader 4/29 applyRoutine] have applied LogEntry {Index:277 Term:29 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:26}}
2019/06/13 18:42:59 [Clerk 8 PutAppend] RPC succ, Append 4 x 4 13 y, reply = {WrongLeader:false Err: ClientID:8 RepID:26}
2019/06/13 18:42:59 [Clerk 8 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:59 4: client new get 4
2019/06/13 18:42:59 [KVServer 4 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 11 yx 3 12 yx 3 13 yx 3 14 yx 3 15 yx 3 16 y], CommandIndex 278
2019/06/13 18:42:59 [leader 4/29 applyRoutine] have applied LogEntry {Index:278 Term:29 Command:{Operation:Append Key:3 Value:x 3 16 y ClientID:10 ReqID:27}}
2019/06/13 18:42:59 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:27} to KVServer 4
2019/06/13 18:42:59 [leader 4/29 applyRoutine] have applied LogEntry {Index:279 Term:29 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:30}}
2019/06/13 18:42:59 [KVServer 4 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 yx 0 15 y], CommandIndex 279
2019/06/13 18:42:59 [KVServer 4 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 yx 2 13 yx 2 14 y], CommandIndex 280
2019/06/13 18:42:59 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:27}
2019/06/13 18:42:59 [Clerk 10 PutAppend] RPC succ, Append 3 x 3 16 y, reply = {WrongLeader:false Err: ClientID:10 RepID:27}
2019/06/13 18:42:59 [Clerk 10 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:59 3: client new get 3
2019/06/13 18:42:59 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:28} to KVServer 4
2019/06/13 18:42:59 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 14 y, reply = {WrongLeader:false Err: ClientID:9 RepID:23}
2019/06/13 18:42:59 [Clerk 9 PutAppend] succ replicate command to replicated state machine
2019/06/13 18:42:59 [leader 4/29 applyRoutine] have applied LogEntry {Index:280 Term:29 Command:{Operation:Append Key:2 Value:x 2 14 y ClientID:9 ReqID:23}}
2019/06/13 18:42:59 [leader 4/29 Start] receive client request {Get 4  8 27}
2019/06/13 18:42:59 2: client new append x 2 15 y
2019/06/13 18:42:59 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:false Err: Value:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 yx 0 15 y ClientID:11 RepID:30}
2019/06/13 18:42:59 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 15 y Op:Append ClientID:9 ReqID:24} to KVServer 2
2019/06/13 18:42:59 [Clerk 11 Get] succ replicate command to replicated state machine
2019/06/13 18:42:59 0: client new get 0
2019/06/13 18:42:59 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:8 ReqID:27}, logIndex = 281
2019/06/13 18:42:59 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:31} to KVServer 1
2019/06/13 18:42:59 [candidate 1/29 electionEventLoop] timeout, start the election
2019/06/13 18:42:59 [KVServer 4 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:28}
2019/06/13 18:42:59 [leader 4/29 Start] receive client request {Get 3  10 28}
2019/06/13 18:42:59 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:10 ReqID:28}, logIndex = 282
2019/06/13 18:42:59 [Clerk 7 Get] args = {Key:1 ClientID:7 ReqID:26} to KVServer 4
2019/06/13 18:42:59 [KVServer 4 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:31}
2019/06/13 18:42:59 [leader 4/29 Start] receive client request {Get 0  11 31}
2019/06/13 18:42:59 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:11 ReqID:31}, logIndex = 283
2019/06/13 18:42:59 [leader 4/29 Start] receive client request {Append 2 x 2 15 y 9 24}
2019/06/13 18:42:59 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 15 y ClientID:9 ReqID:24}, logIndex = 284
2019/06/13 18:42:59 [KVServer 1 Get] RPC handler, args = {Key:1 ClientID:7 ReqID:26}
2019/06/13 18:42:59 [Clerk 7 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:59 [Clerk 7 Get] args = {Key:1 ClientID:7 ReqID:26} to KVServer 0
2019/06/13 18:42:59 [KVServer 0 Get] RPC handler, args = {Key:1 ClientID:7 ReqID:26}
2019/06/13 18:42:59 [Clerk 7 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:59 [Clerk 7 Get] args = {Key:1 ClientID:7 ReqID:26} to KVServer 1
2019/06/13 18:42:59 [KVServer 3 Get] RPC handler, args = {Key:1 ClientID:7 ReqID:26}
2019/06/13 18:42:59 [Clerk 7 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:59 [leader 4/29 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:59 [leader 4/29 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:59 [Clerk 7 Get] args = {Key:1 ClientID:7 ReqID:26} to KVServer 2
2019/06/13 18:42:59 [candidate 1/29 InstallSnapshot] RPC handler, rf.ss = {LastIncludedIndex:276 LastIncludedTerm:29 StateMachineState:map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 yx 0 15 y 1:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 yx 1 17 yx 1 18 yx 1 19 y 2:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 yx 2 13 y 3:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 11 yx 3 12 yx 3 13 yx 3 14 yx 3 15 y 4:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 9 yx 4 10 yx 4 11 yx 4 12 yx 4 13 y]}, rf.logs = [{0 0 -1}]
2019/06/13 18:42:59 [KVServer 1 readApplyCh] update snapshot, kv.kvs = map[0:x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y 1:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 yx 1 17 y 2:x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 y 3:x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 11 y 4:x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 9 yx 4 10 yx 4 11 y]
2019/06/13 18:42:59 [KVServer 2 Get] RPC handler, args = {Key:1 ClientID:7 ReqID:26}
2019/06/13 18:42:59 [Clerk 7 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:42:59 [Clerk 7 Get] args = {Key:1 ClientID:7 ReqID:26} to KVServer 3
2019/06/13 18:42:59 [KVServer 4 Get] RPC handler, args = {Key:1 ClientID:7 ReqID:26}
2019/06/13 18:42:59 [leader 4/29 Start] receive client request {Get 1  7 26}
2019/06/13 18:42:59 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:7 ReqID:26}, logIndex = 285
2019/06/13 18:42:59 [leader 4/29 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:59 [candidate 1/29 AppendEntries] come across newer term 29, back to follower
2019/06/13 18:42:59 FFFF[follower 1/29 AppendEntries] have commit [{0 0 -1} {277 29 {Get 1  7 26}} {278 29 {Append 3 x 3 16 y 10 27}} {279 29 {Get 0  11 30}} {280 29 {Append 2 x 2 14 y 9 23}}], and commitIndex have updated to 281
2019/06/13 18:42:59 [leader 4/29 sendAndWaitAppendEntriesRPC] replicate LogEntry [{277 29 {Get 1  7 26}} {278 29 {Append 3 x 3 16 y 10 27}} {279 29 {Get 0  11 30}} {280 29 {Append 2 x 2 14 y 9 23}} {281 29 {Get 4  8 27}} {282 29 {Get 3  10 28}} {283 29 {Get 0  11 31}} {284 29 {Append 2 x 2 15 y 9 24}} {285 29 {Get 1  7 26}}] to peer 1 succ
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 1, ai 285, i 9, rf.commit 281
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[1] = 285's quorum 2
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 1, ai 284, i 8, rf.commit 281
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[1] = 284's quorum 2
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 1, ai 283, i 7, rf.commit 281
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[1] = 283's quorum 2
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 1, ai 282, i 6, rf.commit 281
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[1] = 282's quorum 2
2019/06/13 18:42:59 [leader 4/29 calcCommitIndex] follower 1, ai 281, i 5, rf.commit 281
2019/06/13 18:42:59 LLLL[leader 4/29 calcCommitIndex] matchIndex[1] = 281's quorum 2
2019/06/13 18:42:59 [candidate 2/30 electionEventLoop] timeout, start the election
2019/06/13 18:42:59 [follower 3/29 RequestVote] come across newer term 30, back to follower
2019/06/13 18:42:59 [follower 0/29 RequestVote] come across newer term 30, back to follower
2019/06/13 18:42:59 [leader 4/29 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:59 [candidate 0/31 electionEventLoop] timeout, start the election
2019/06/13 18:42:59 [follower 2/30 RequestVote] come across newer term 31, back to follower
2019/06/13 18:42:59 [follower 2/31 RequestVote] vote for candidate 0
2019/06/13 18:42:59 [candidate 3/31 electionEventLoop] timeout, start the election
2019/06/13 18:42:59 [leader 4/29 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:59 [leader 4/29 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:59 [leader 4/29 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:59 [candidate 2/32 electionEventLoop] timeout, start the election
2019/06/13 18:42:59 [leader 4/29 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:42:59 [candidate 0/32 electionEventLoop] timeout, start the election
2019/06/13 18:42:59 [candidate 3/31 RequestVote] come across newer term 32, back to follower
2019/06/13 18:42:59 [follower 2/32 RequestVote] vote for candidate 0
2019/06/13 18:42:59 [candidate 3/33 electionEventLoop] timeout, start the election
2019/06/13 18:42:59 [follower 2/32 RequestVote] come across newer term 33, back to follower
2019/06/13 18:42:59 [follower 2/33 RequestVote] vote for candidate 3
2019/06/13 18:43:00 [leader 4/29 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:43:00 [leader 4/29 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:43:00 [leader 4/29 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:43:00 [Clerk 10 Get] RPC timeout
2019/06/13 18:43:00 [Clerk 8 Get] RPC timeout
2019/06/13 18:43:00 [Clerk 11 Get] RPC timeout
2019/06/13 18:43:00 [Clerk 9 PutAppend] RPC timeout
2019/06/13 18:43:00 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:31} to KVServer 2
2019/06/13 18:43:00 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:28} to KVServer 0
2019/06/13 18:43:00 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:27} to KVServer 0
2019/06/13 18:43:00 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 15 y Op:Append ClientID:9 ReqID:24} to KVServer 3
2019/06/13 18:43:00 [KVServer 0 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:27}
2019/06/13 18:43:00 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:43:00 [KVServer 2 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:28}
2019/06/13 18:43:00 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:43:00 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:27} to KVServer 1
2019/06/13 18:43:00 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 15 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:43:00 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:31} to KVServer 3
2019/06/13 18:43:00 [KVServer 1 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:31}
2019/06/13 18:43:00 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:43:00 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:28} to KVServer 1
2019/06/13 18:43:00 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 15 y Op:Append ClientID:9 ReqID:24} to KVServer 4
2019/06/13 18:43:00 [KVServer 0 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:28}
2019/06/13 18:43:00 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:27} to KVServer 2
2019/06/13 18:43:00 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 15 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:43:00 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:31} to KVServer 4
2019/06/13 18:43:00 [KVServer 0 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:31}
2019/06/13 18:43:00 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:43:00 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:28} to KVServer 2
2019/06/13 18:43:00 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 15 y Op:Append ClientID:9 ReqID:24} to KVServer 0
2019/06/13 18:43:00 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:31} to KVServer 0
2019/06/13 18:43:00 [KVServer 1 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:27}
2019/06/13 18:43:00 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:43:00 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:28} to KVServer 3
2019/06/13 18:43:00 [KVServer 3 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:28}
2019/06/13 18:43:00 [Clerk 10 Get] RPC succ, Get 3, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:43:00 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:27} to KVServer 3
2019/06/13 18:43:00 [leader 4/29 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:43:00 [KVServer 2 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:31}
2019/06/13 18:43:00 [Clerk 11 Get] RPC succ, Get 0, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:43:00 [Clerk 10 Get] args = {Key:3 ClientID:10 ReqID:28} to KVServer 4
2019/06/13 18:43:00 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 15 y Op:Append ClientID:9 ReqID:24} to KVServer 1
2019/06/13 18:43:00 [KVServer 4 Get] RPC handler, args = {Key:3 ClientID:10 ReqID:28}
2019/06/13 18:43:00 [leader 4/29 Start] receive client request {Get 3  10 28}
2019/06/13 18:43:00 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:3 Value: ClientID:10 ReqID:28}, logIndex = 286
2019/06/13 18:43:00 [Clerk 11 Get] args = {Key:0 ClientID:11 ReqID:31} to KVServer 1
2019/06/13 18:43:00 [KVServer 4 Get] RPC handler, args = {Key:0 ClientID:11 ReqID:31}
2019/06/13 18:43:00 [leader 4/29 Start] receive client request {Get 0  11 31}
2019/06/13 18:43:00 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:0 Value: ClientID:11 ReqID:31}, logIndex = 287
2019/06/13 18:43:00 [candidate 3/34 electionEventLoop] timeout, start the election
2019/06/13 18:43:00 [KVServer 3 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:27}
2019/06/13 18:43:00 [Clerk 8 Get] RPC succ, Get 4, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:43:00 [Clerk 7 Get] RPC timeout
2019/06/13 18:43:00 [Clerk 9 PutAppend] RPC succ, Append 2 x 2 15 y, reply = {WrongLeader:true Err:ErrNotLeader ClientID:0 RepID:0}
2019/06/13 18:43:00 [Clerk 8 Get] args = {Key:4 ClientID:8 ReqID:27} to KVServer 4
2019/06/13 18:43:00 [follower 0/32 RequestVote] come across newer term 34, back to follower
2019/06/13 18:43:00 [KVServer 4 Get] RPC handler, args = {Key:4 ClientID:8 ReqID:27}
2019/06/13 18:43:00 [leader 4/29 Start] receive client request {Get 4  8 27}
2019/06/13 18:43:00 [KVServer 4 proposeCommand] cmd = {Operation:Get Key:4 Value: ClientID:8 ReqID:27}, logIndex = 288
2019/06/13 18:43:00 [follower 0/34 RequestVote] vote for candidate 3
2019/06/13 18:43:00 [Clerk 7 Get] args = {Key:1 ClientID:7 ReqID:26} to KVServer 4
2019/06/13 18:43:00 [Clerk 9 PutAppend] args = {Key:2 Value:x 2 15 y Op:Append ClientID:9 ReqID:24} to KVServer 2
2019/06/13 18:43:00 [follower 2/33 RequestVote] come across newer term 34, back to follower
2019/06/13 18:43:00 [follower 2/34 RequestVote] vote for candidate 3
2019/06/13 18:43:00 [leader 3/34 becomeLeader] win the election, become leader
2019/06/13 18:43:00 [leader 3/34 leaderEventLoop] start sending heartbeat
2019/06/13 18:43:00 [KVServer 1 Get] RPC handler, args = {Key:1 ClientID:7 ReqID:26}
2019/06/13 18:43:00 [leader 4/29 Start] receive client request {Append 2 x 2 15 y 9 24}
2019/06/13 18:43:00 [KVServer 4 proposeCommand] cmd = {Operation:Append Key:2 Value:x 2 15 y ClientID:9 ReqID:24}, logIndex = 289
2019/06/13 18:43:00 [Clerk 7 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:43:00 [Clerk 7 Get] args = {Key:1 ClientID:7 ReqID:26} to KVServer 0
2019/06/13 18:43:00 [KVServer 0 Get] RPC handler, args = {Key:1 ClientID:7 ReqID:26}
2019/06/13 18:43:00 [Clerk 7 Get] RPC succ, Get 1, reply = {WrongLeader:true Err:ErrNotLeader Value: ClientID:0 RepID:0}
2019/06/13 18:43:00 [Clerk 7 Get] args = {Key:1 ClientID:7 ReqID:26} to KVServer 1
2019/06/13 18:43:00 [leader 4/29 sendAndWaitInstallSnapshotRPC]
2019/06/13 18:43:00 [leader 4/29 sendAndWaitAppendEntriesRPC] come across newer term 34 leader, back to follower
2019/06/13 18:43:00 [KVServer 3 Get] RPC handler, args = {Key:1 ClientID:7 ReqID:26}
2019/06/13 18:43:00 [leader 3/34 Start] receive client request {Get 1  7 26}
2019/06/13 18:43:00 [KVServer 3 proposeCommand] cmd = {Operation:Get Key:1 Value: ClientID:7 ReqID:26}, logIndex = 281
2019/06/13 18:43:00 [leader 3/34 sendAndWaitAppendEntriesRPC] replicate LogEntry [{281 34 {Get 1  7 26}}] to peer 0 succ
2019/06/13 18:43:00 [leader 3/34 calcCommitIndex] follower 0, ai 281, i 12, rf.commit 276
2019/06/13 18:43:00 LLLL[leader 3/34 calcCommitIndex] matchIndex[0] = 281's quorum 2
2019/06/13 18:43:00 [leader 3/34 calcCommitIndex] follower 0, ai 280, i 11, rf.commit 276
2019/06/13 18:43:00 [leader 3/34 calcCommitIndex] follower 0, only count my term, currentTerm = 34, rf.logs[i] = {Index:280 Term:29 Command:{Operation:Append Key:2 Value:x 2 14 y ClientID:9 ReqID:23}}
2019/06/13 18:43:00 [leader 3/34 sendAndWaitAppendEntriesRPC] replicate LogEntry [{281 34 {Get 1  7 26}}] to peer 4 succ
2019/06/13 18:43:00 [leader 3/34 calcCommitIndex] follower 4, ai 281, i 12, rf.commit 276
2019/06/13 18:43:00 LLLL[leader 3/34 calcCommitIndex] matchIndex[4] = 281's quorum 3
2019/06/13 18:43:00 LLLL[leader 3/34 sendAndWaitAppendEntriesRPC] update commitIndex to 282
2019/06/13 18:43:00 [leader 3/34 applyRoutine] have applied LogEntry {Index:276 Term:29 Command:{Operation:Append Key:4 Value:x 4 13 y ClientID:8 ReqID:26}}
2019/06/13 18:43:00 [KVServer 3 readApplyCh] apply for client 8 APPEND [4, x 4 0 yx 4 1 yx 4 2 yx 4 3 yx 4 4 yx 4 5 yx 4 6 yx 4 7 yx 4 8 yx 4 10 yx 4 11 yx 4 12 yx 4 13 y], CommandIndex 276
2019/06/13 18:43:00 [KVServer 3 readApplyCh] apply for client 7 Get [1, x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 14 yx 1 15 yx 1 16 yx 1 17 yx 1 18 yx 1 19 y], CommandIndex 277
2019/06/13 18:43:00 [leader 3/34 applyRoutine] have applied LogEntry {Index:277 Term:29 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:26}}
2019/06/13 18:43:00 [leader 3/34 applyRoutine] have applied LogEntry {Index:278 Term:29 Command:{Operation:Append Key:3 Value:x 3 16 y ClientID:10 ReqID:27}}
2019/06/13 18:43:00 [KVServer 3 readApplyCh] apply for client 10 APPEND [3, x 3 0 yx 3 1 yx 3 2 yx 3 3 yx 3 4 yx 3 5 yx 3 6 yx 3 7 yx 3 8 yx 3 9 yx 3 10 yx 3 11 yx 3 12 yx 3 13 yx 3 14 yx 3 15 yx 3 16 y], CommandIndex 278
2019/06/13 18:43:00 [KVServer 3 readApplyCh] apply for client 11 Get [0, x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 yx 0 13 yx 0 14 yx 0 15 y], CommandIndex 279
2019/06/13 18:43:00 [leader 3/34 applyRoutine] have applied LogEntry {Index:279 Term:29 Command:{Operation:Get Key:0 Value: ClientID:11 ReqID:30}}
2019/06/13 18:43:00 [leader 3/34 applyRoutine] have applied LogEntry {Index:280 Term:29 Command:{Operation:Append Key:2 Value:x 2 14 y ClientID:9 ReqID:23}}
2019/06/13 18:43:00 [KVServer 3 readApplyCh] apply for client 9 APPEND [2, x 2 0 yx 2 1 yx 2 2 yx 2 3 yx 2 4 yx 2 5 yx 2 6 yx 2 7 yx 2 8 yx 2 9 yx 2 10 yx 2 11 yx 2 12 yx 2 13 yx 2 14 y], CommandIndex 280
2019/06/13 18:43:00 [leader 3/34 applyRoutine] have applied LogEntry {Index:281 Term:34 Command:{Operation:Get Key:1 Value: ClientID:7 ReqID:26}}
2019/06/13 18:43:00 [Clerk 7 Get] RPC succ, Get 1, reply = {WrongLeader:false Err: Value:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 14 yx 1 15 yx 1 16 yx 1 17 yx 1 18 yx 1 19 y ClientID:7 RepID:26}
2019/06/13 18:43:00 [Clerk 7 Get] succ replicate command to replicated state machine
2019/06/13 18:43:00 get wrong value, key 1, wanted:
x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 13 yx 1 14 yx 1 15 yx 1 16 yx 1 17 yx 1 18 yx 1 19 y
, got
x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 yx 1 7 yx 1 8 yx 1 9 yx 1 10 yx 1 11 yx 1 12 yx 1 14 yx 1 15 yx 1 16 yx 1 17 yx 1 18 yx 1 19 y
FAIL	kvraft	16.606s
Error: Tests failed.
